webpackJsonp([13],{18:function(e,t,a){e.exports=a.p+"static/media/arrow2.4ba5831c.png"},20:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,h["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=a(2),c=n(u),p=a(5),d=n(p),f=a(3),h=n(f),_=a(4),m=n(_),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(1),x=n(y),g=a(11),v=n(g),k=a(22),E=n(k),C=a(12),w=n(C),N=(s=l=function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.state={disable:!0,message:""},a}return r(t,e),b(t,[{key:"open",value:function(e,t){var a=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){a.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:x["default"].createElement("div",{className:(0,v["default"])(E["default"].Tipbar,this.props.className)},x["default"].createElement("span",{className:E["default"].text},this.state.message||this.props.text))}}]),t}(x["default"].Component),l.propTypes={text:w["default"].string},s);t["default"]=N},21:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".Tipbar___3HZ5q{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___3HZ5q .text___KcEzd{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___3HZ5q",text:"text___KcEzd"}},22:[2363,21],46:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,h["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=a(2),c=n(u),p=a(5),d=n(p),f=a(3),h=n(f),_=a(4),m=n(_),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(1),x=n(y),g=a(11),v=n(g),k=a(41),E=n(k),C=a(52),w=(n(C),a(51)),N=(n(w),a(64)),D=n(N),I=a(12),T=n(I),B=(s=l=function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.setText=function(e){a.refs.text.setText(e)},a.state={text:a.props.text||""},a}return r(t,e),b(t,[{key:"show",value:function(e){this.setState({text:e}),this.refs.dialog.show()}},{key:"hide",value:function(){this.refs.dialog.hide()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=(this.state.options,E["default"][this.props.mode]);return x["default"].createElement(e,{ref:"dialog",closeOnClick:!1,className:D["default"].successDialog,contentStyle:{backgroundColor:"transparent"}},x["default"].createElement("div",{className:(0,v["default"])(D["default"].modal,D["default"].successModal)},x["default"].createElement("img",{src:a(62),style:{marginTop:30,width:30,height:30}}),x["default"].createElement("span",{className:D["default"].successTitle},this.state.text)))}}]),t}(x["default"].Component),l.propTypes={text:T["default"].string,mode:T["default"].oneOf(["OutlineModal","ScaleModal","FadeModal","FlyModal","DropModal","WaveModal"])},l.defaultProps={mode:"ScaleModal"},s);t["default"]=B},62:556,75:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c["default"]?(0,c["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),s=n(l),u=a(5),c=n(u),p=a(3),d=n(p),f=a(4),h=n(f),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a(1),b=n(m),y=a(10),x=n(y),g=a(79),v=n(g),k=a(12),E=(n(k),function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||(0,h["default"])(t)).call(this,e));return a.loadTime=function(){var e=a.state,t=e.time,n=e.flag;0==n?a.setState({flag:1}):a.setState({time:t+1})},a.getTime=function(){return a.state.time},a.state={time:1,flag:0},a}return r(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.url;e.closeFn;t&&this.refs.iframe.contentWindow.location.replace(t)}},{key:"render",value:function(){var e=this.props,t=(e.url,e.closeFn);return b["default"].createElement("div",{className:v["default"].rechargeBox},b["default"].createElement(x["default"],{leftNode:b["default"].createElement("span",{className:v["default"].rechargeTitle},"关闭"),onLeft:t,style:{position:"absolute",left:"0px",top:"0px"}},"充值"),b["default"].createElement("iframe",{ref:"iframe",className:v["default"].ifr,onLoad:this.loadTime}))}}]),t}(m.Component));t["default"]=E},76:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".rechargeBox___1587C{position:absolute;left:0;top:0;width:100%;background-color:#f0eff5;height:100%;transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;padding-top:44px}.rechargeTitle___2tIZt{padding-left:15px}.ifr___qPIGn{width:100%;height:100%;border:0}",""]),t.locals={rechargeBox:"rechargeBox___1587C",rechargeTitle:"rechargeTitle___2tIZt",ifr:"ifr___qPIGn"}},79:[2356,76],108:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,h["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l,s,u=a(2),c=n(u),p=a(5),d=n(p),f=a(3),h=n(f),_=a(4),m=n(_),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(1),x=n(y),g=a(29),v=(n(g),a(17)),k=n(v),E=a(132),C=n(E),w=a(12),N=n(w),D=(s=l=function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.changeHandle=function(e){var t=parseInt(e);return a.props.minValue&&e<a.props.minValue?a._changeHandle(parseInt(e)):isNaN(t)?a._changeHandle(""):0==t?a._changeHandle(0):"number"==a.props.type&&(/^\d*$/.test(e)||/^\d+\.\d{0,1}$/.test(e))?a._changeHandle(t):k["default"].checkInteger(t)?a._changeHandle(t):void a.setState({value:a.state.value})},"number"==a.props.type?(a.initValue=7.5,a.unit=.1):(a.initValue=1,a.unit=1),a.label=a.props.label||"",a.state={value:a.props.value||String(a.initValue),change:!1,isFocus:!1},a}return r(t,e),b(t,[{key:"decreaseHandle",value:function(){if(this.blur(),this.state.value){var e=Number(this.state.value);!isNaN(e)&&e>(this.props.minValue||0)&&this.changeHandle(k["default"].accSub(e,this.unit).toString())}}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"increaseHandle",value:function(){this.blur();var e=Number(this.state.value);isNaN(e)||this.changeHandle(k["default"].accAdd(e,this.unit).toString())}},{key:"_changeHandle",value:function(e){var t=this.props.id;e>200&&5==t?this.setState({value:200}):this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"blur",value:function(){this.refs.textInput.blur()}},{key:"blurHandle",value:function(){"number"==this.props.type&&this.changeHandle(k["default"].accSub(k["default"].accAdd(this.state.value,.1),.1).toString()),this.setState({isFocus:!1})}},{key:"setValue",value:function(e){this.setState({value:e})}},{key:"render",value:function(){var e=this,t=this.state.isFocus?this.state.value:this.state.value+this.label;return x["default"].createElement("div",{className:C["default"].container,style:this.props.containerStyle},x["default"].createElement("span",{className:C["default"].opeBtnWrap,onClick:this.decreaseHandle.bind(this)},x["default"].createElement("span",{className:C["default"].opeBtn},"－")),x["default"].createElement("div",{className:C["default"].inputWrap},x["default"].createElement("input",{className:C["default"].input,ref:"textInput",placeholder:"",value:t,onFocus:function(){return e.setState({isFocus:!0})},onBlur:this.blurHandle.bind(this),onChange:function(t){e.changeHandle(t.nativeEvent.target.value)}})),x["default"].createElement("span",{className:C["default"].opeBtnWrap,onClick:this.increaseHandle.bind(this)},x["default"].createElement("span",{className:C["default"].opeBtn},"＋")))}}]),t}(x["default"].Component),l.propTypes={onChange:N["default"].func,type:N["default"].string,label:N["default"].string,value:N["default"].oneOfType([N["default"].string,N["default"].number]),containerStyle:N["default"].object},s);t["default"]=D},119:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".container___1J8Ye{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;padding-top:1px;background-color:#fff}.opeBtnWrap___1hHNx{width:37px;height:37px;border:1px solid #e5e5e5;text-align:center;display:block}.opeBtn___1bSOL{text-align:center;font-size:20px;color:#888;line-height:37px;display:inline-block}.inputWrap___3Y1iy{border:1px solid #00a6e2;margin-left:10px;margin-right:10px;height:37px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex}.input___1N3D5,.inputWrap___3Y1iy{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1}.input___1N3D5{width:100%;padding:15px 0;height:18px;font-size:18px;text-align:center}",""]),t.locals={container:"container___1J8Ye",opeBtnWrap:"opeBtnWrap___1hHNx",opeBtn:"opeBtn___1bSOL",inputWrap:"inputWrap___3Y1iy",input:"input___1N3D5"}},121:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".Radio___14i89{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;height:42px;border-top:1px solid #eee;background-color:#fff;padding:0 15px}.RadioLabel___3gI9D{font-size:16px;color:#000}.RadioContent___2X6dG{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;padding:0 10px}.RadioImg___3Kfzb{width:25px;height:25px;margin-right:6px}.disableText___1UOo3{color:#888}.contentTextDisable___1QzKM{font-size:16px;color:#888;text-align:right}.contentText___28JBj{font-size:16px;color:#000;text-align:right}.contentMark___1hyap{font-size:12px;color:#888}",""]),t.locals={Radio:"Radio___14i89",RadioLabel:"RadioLabel___3gI9D",RadioContent:"RadioContent___2X6dG",RadioImg:"RadioImg___3Kfzb",disableText:"disableText___1UOo3",contentTextDisable:"contentTextDisable___1QzKM",contentText:"contentText___28JBj",contentMark:"contentMark___1hyap"}},122:function(e,t,a){e.exports=a.p+"static/media/0k.d1c264cd.png"},123:function(e,t,a){e.exports=a.p+"static/media/0k_disable.8e2497a2.png"},124:function(e,t,a){e.exports=a.p+"static/media/0k_no.cb09022a.png"},132:[2363,119],134:function(e,t,a){var n=a(121);"string"==typeof n&&(n=[[e.id,n,""]]);a(7)(n,{});n.locals&&(e.exports=n.locals)},165:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,h["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,u=a(2),c=n(u),p=a(5),d=n(p),f=a(3),h=n(f),_=a(4),m=n(_),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(1),x=n(y),g=a(11),v=(n(g),a(41)),k=n(v),E=a(52),C=(n(E),a(51)),w=(n(C),a(64)),N=n(w),D=a(12),I=n(D),T=(s=l=function(e){function t(e){o(this,t);var a=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.handClick=function(e){var t=a.props.options;if(t.choiceCallback)return t.choiceCallback(a.hide,e)},a.hide=function(){a.refs.dialog.hide()},a.setText=function(e){a.refs.text.setText(e)},a.state={text:a.props.text||""},a}return r(t,e),b(t,[{key:"show",value:function(e){this.setState({text:e}),this.refs.dialog.show()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.options,a=k["default"][this.props.mode];return x["default"].createElement(a,{ref:"dialog",modalStyle:{transform:"none",animation:"none",backgroundColor:"#fff",width:"100%",bottom:0,left:0,top:"auto"},closeOnClick:!1},x["default"].createElement("div",{className:N["default"].c_container},x["default"].createElement("div",{className:N["default"].c_header},x["default"].createElement("span",{className:N["default"].card_close,onClick:this.hide},"X")," 选择付款方式"),x["default"].createElement("div",{className:N["default"].c_body},t.banks&&t.banks.data&&t.banks.data.map(function(t,a){return x["default"].createElement("div",{key:a,className:N["default"].c_item,onClick:function(){e.handClick(t)}},x["default"].createElement("div",{className:N["default"].c_left},x["default"].createElement("img",{className:N["default"].c_icon,src:t.bankIcon,alt:""})),x["default"].createElement("div",{className:N["default"].c_right},x["default"].createElement("div",{className:N["default"].c_top},x["default"].createElement("span",null,t.bankName),x["default"].createElement("span",null,"(",t.bankCard.substr(t.bankCard.length-4,4),")")),x["default"].createElement("div",{className:N["default"].c_bottom},"单笔限额",t.singleLimit,"，单日限额",t.dayLimit)))}),x["default"].createElement("div",{className:N["default"].tip},"限额仅供参考，具体以支付渠道为准"))))}}]),t}(x["default"].Component),l.propTypes={text:I["default"].string,mode:I["default"].oneOf(["OutlineModal","ScaleModal","FadeModal","FlyModal","DropModal","WaveModal"])},l.defaultProps={mode:"OutlineModal"},s);t["default"]=T},167:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,f["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),u=o(s),c=a(5),p=o(c),d=a(3),f=o(d),h=a(4),_=o(h),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=a(1),y=o(b),x=a(10),g=o(x),v=a(196),k=o(v),E=a(23),C=n(E),w=a(9),N=a(25),D=o(N),I=a(8),T=a(188),B=o(T),A=a(181),P=o(A),S=a(182),R=o(S),M=a(17),O=(o(M),function(e){function t(){var e,a,n,o;i(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=n=r(this,(e=t.__proto__||(0,_["default"])(t)).call.apply(e,[this].concat(s))),n.nullDom=function(e){return y["default"].createElement("img",{src:e,className:k["default"].nullImg})},o=a,r(n,o)}return l(t,e),m(t,[{key:"renderVoucher",value:function(e,t){var a=this,n=this.props,o=n.selected,i=n.money,r=e.amount,l=e.apply,s=e.end_date,u=e.start_date,c=e.id,p=e.invest_money,d=e.type,f=void 0;return f=i<parseFloat(p)?y["default"].createElement("span",{className:k["default"].noUse},"不可用"):o.id==c?y["default"].createElement("img",{src:P["default"],alt:"选中"}):y["default"].createElement("img",{onClick:function(){a.props.onSelect(e)},src:R["default"]}),y["default"].createElement("div",{className:k["default"].rateCell,key:t,style:{width:this.props.screenW}},y["default"].createElement("div",null,y["default"].createElement("div",null,y["default"].createElement("p",null,r+"元"+d),f),y["default"].createElement("div",null,y["default"].createElement("p",null,"出借",p,"即可使用"),y["default"].createElement("p",null,l))),y["default"].createElement("div",{style:{backgroundColor:"rgb(125,206,159)"}},y["default"].createElement("p",null,"有效期",u,"到",s)))}},{key:"renderInterestRate",value:function(e,t){var a=this,n=this.props,o=n.selected,i=n.money,r=e.rate,l=e.apply,s=e.end_date,u=e.start_date,c=e.id,p=e.invest_money,d=e.type,f=void 0;return f=i<parseFloat(p)?y["default"].createElement("span",{className:k["default"].noUse},"不可用"):o.id==c?y["default"].createElement("img",{src:P["default"],alt:"选中"}):y["default"].createElement("img",{onClick:function(){a.props.onSelect(e)},src:R["default"]}),y["default"].createElement("div",{className:k["default"].rateCell,key:t,style:{width:this.props.screenW}},y["default"].createElement("div",null,y["default"].createElement("div",null,y["default"].createElement("p",null,r+"%"+d),f),y["default"].createElement("div",null,y["default"].createElement("p",null,"出借",p,"即可使用"),y["default"].createElement("p",null,l))),y["default"].createElement("div",{style:{backgroundColor:"#feb178"}},y["default"].createElement("p",null,"有效期",u,"到",s)))}},{key:"render",value:function(){var e=this,t=this.props.type;if(!this.props.datas)return null;var a=[],n=[];return this.props.datas.map(function(o,i){1==t?a.push(e.renderVoucher(o,i)):n.push(e.renderInterestRate(o,i))}),y["default"].createElement("div",{className:k["default"].listBox},a,n)}}]),t}(y["default"].Component)),z=function(e){function t(e){i(this,t);var a=r(this,(t.__proto__||(0,_["default"])(t)).call(this,e));return a.changeType=function(e){e!=a.state.selectID&&a.setState({selectID:e})},a.selectHandle=function(e){a.setState({selectedCoupon:e})},a.useCouponHandle=function(){var e=a.state.selectedCoupon;a.props.setUseCoupons(e,!0),a.props.useFn(e),a.props.click(),"加息券"==e.type?a.props.useCoupon(e.rate):a.props.useCoupon()},a.unUseCouponHandle=function(){a.setState({selectedCoupon:""}),a.props.setUseCoupons("",!1),a.props.goBack()},a.nullCoupon=function(){a.props.nullCoupon(),a.props.useFn(null)},a.state={selectID:1,selectedCoupon:a.props.selectedCoupon},a}return l(t,e),m(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,a=t.click,n=t.money;return y["default"].createElement("div",{className:k["default"].root},y["default"].createElement(g["default"],{title:"选择优惠券",leftNode:y["default"].createElement("span",{style:{paddingLeft:"15px"}},"关闭"),onLeft:a,style:{position:"absolute",left:"0px",top:"0px"}}),y["default"].createElement("div",{style:{height:44}}),y["default"].createElement("div",{className:k["default"].selectDiv},y["default"].createElement("div",{style:{borderBottomColor:1===this.state.selectID?"#00a6e2":"transparent"},onClick:function(){e.changeType(1)}},y["default"].createElement("p",{style:{color:1===this.state.selectID?"#00a6e2":"#626262"}},"抵用券")),y["default"].createElement("div",{style:{borderBottomColor:2===this.state.selectID?"#00a6e2":"transparent"},onClick:function(){e.changeType(2)}},y["default"].createElement("p",{style:{color:2===this.state.selectID?"#00a6e2":"#626262"}},"加息券"))),y["default"].createElement("div",{style:{flex:1,overflowY:"scroll",position:"relative"}},y["default"].createElement(O,{onSelect:this.selectHandle,datas:1==this.state.selectID?this.props.vouchers:this.props.interestRates,type:this.state.selectID,money:n,selected:this.state.selectedCoupon||""})),y["default"].createElement("div",{style:{height:50}}),y["default"].createElement("div",{className:k["default"].sure},y["default"].createElement("div",{onClick:this.nullCoupon},y["default"].createElement("p",null,"不使用优惠")),y["default"].createElement("div",{onClick:this.useCouponHandle},y["default"].createElement("p",null,"使用"))))}}]),t}(y["default"].Component),q=function(e,t){var a=e.infodata.getIn([C.AVAILABLE_COUPONS,"data"]);return{vouchers:a&&a.data&&a.data.filter(function(e){return"抵用券"===e.type}),interestRates:a&&a.data&&a.data.filter(function(e){return"加息券"===e.type}),selectedCoupon:e.useCoupons.getIn(["coupons","selectedCoupon"])}},L=function(e,t){return{setAppointPassword:function(t){e({type:C.SET_APPOINT_PASSWORD,payload:t})},push:function(t){e((0,I.push)(t))},goBack:function(){e((0,I.goBack)())},setUseCoupons:function(t,a){e({type:C.SET_USE_COUPONS,useCoupon:a,selectedCoupon:t})}}};t["default"]=(0,B["default"])()((0,w.connect)(q,L)((0,D["default"])(z)))},175:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".root___T85RG{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;height:100%;width:100%;background:#f5f5f5}.root___T85RG,.selectDiv___3b7vz{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.selectDiv___3b7vz{height:40px;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;border-bottom:1px solid #ddd}.selectDiv___3b7vz>div{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;border-bottom:2px solid transparent}.selectDiv___3b7vz>div>p{font-size:16px;color:#000}.selectDiv___3b7vz div:nth-child(1){border-bottom-color:#00a6e2}.selectDiv___3b7vz div:nth-child(1)>p{color:#00a6e2}.rateCell___35fM_{margin:10px 15px;height:171px;background:#fff}.rateCell___35fM_>div:nth-child(1){height:131px;padding:0 20px}.rateCell___35fM_>div:nth-child(1)>div:nth-child(1){height:50px;border-bottom:1px solid #888;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.rateCell___35fM_>div:nth-child(1)>div:nth-child(1)>p{line-height:50px;font-size:15px;color:#111}.rateCell___35fM_>div:nth-child(1)>div:nth-child(1)>div{height:20px;margin-top:15px;width:20px;border-radius:10px;border:1px solid #00a7e1;background:transparent}.rateCell___35fM_>div:nth-child(1)>div:nth-child(1)>img{height:20px;margin-top:15px;width:20px}.rateCell___35fM_>div:nth-child(1)>div:nth-child(2)>p{color:#888;font-size:13px}.rateCell___35fM_>div:nth-child(1)>div:nth-child(2)>p:nth-child(1){margin-top:18px}.rateCell___35fM_>div:nth-child(1)>div:nth-child(2)>p:nth-child(2){margin-top:10px}.rateCell___35fM_>div:nth-child(2){background:#feb178;height:40px}.rateCell___35fM_>div:nth-child(2)>p{color:#fff;margin-left:20px;line-height:40px;font-size:13px}.noUse___2eJVW{line-height:49px;font-size:20px;color:#aaa}.sure___zBihC{position:absolute;bottom:0;height:50px;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.sure___zBihC,.sure___zBihC>div{display:-webkit-box;display:-ms-flexbox;display:flex}.sure___zBihC>div{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#59c5ec}.sure___zBihC>div>p{font-size:16px;color:#fff}.sure___zBihC div:nth-child(1){width:30%}.sure___zBihC div:nth-child(2){-webkit-box-flex:1;-ms-flex:1;flex:1;background:#00a7e1}.nullImg___3KzQo{width:161px;position:absolute;left:50%;top:50%}.listBox___3OqZW{position:absolute;left:0;top:0;width:100%;height:100%;overflow:scroll}",""]),t.locals={root:"root___T85RG",selectDiv:"selectDiv___3b7vz",rateCell:"rateCell___35fM_",noUse:"noUse___2eJVW",sure:"sure___zBihC",nullImg:"nullImg___3KzQo",listBox:"listBox___3OqZW"}},181:function(e,t,a){e.exports=a.p+"static/media/0k2.2fc4ca54.png"},182:function(e,t,a){e.exports=a.p+"static/media/circle.f77227eb.png"},196:function(e,t,a){var n=a(175);"string"==typeof n&&(n=[[e.id,n,""]]);a(7)(n,{});n.locals&&(e.exports=n.locals)},285:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a){return t in e?(0,d["default"])(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,m["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(h["default"]?(0,h["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c,p=a(2),d=n(p),f=a(5),h=n(f),_=a(3),m=n(_),b=a(4),y=n(b),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),v=n(g),k=a(56),E=n(k),C=a(158),w=n(C),N=a(46),D=n(N),I=a(165),T=n(I),B=a(17),A=n(B),P=a(134),S=n(P),R=a(11),M=n(R),O=a(12),z=n(O),q=(u=s=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||(0,y["default"])(t)).call(this,e));return n.changeValueHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.inputValue,t=arguments[1];if(n.props.balancePay===!1)return n.setState({chosen:n.state.chosen===n.props.BALANCEINDEX?n.props.priorityINDEX:n.state.chosen});if(e>+t)n.state.chosen===n.props.BALANCEINDEX?n.setState({chosen:n.props.priorityINDEX,disable:[n.props.BALANCEINDEX]}):n.setState({disable:[n.props.BALANCEINDEX]});else{var a=n.state.disable.indexOf(n.props.BALANCEINDEX),o={chosen:n.props.BALANCEINDEX};n.state.disable.splice(a,1),o.disable=n.state.disable,n.setState(o)}},n.openErrorDialog=function(e){var t=n.props,a=(t.type,t.money,t.go);n.refs.confirm.show({content:e,okText:"忘记密码",cancelText:"重试",okCallback:function(e){a("/user/setting/tradePasswordForget/verifyMobile"),e&&e()},cancelCallback:function(){n.gotoPay()}})},n.openExceedErrorDialog=function(e){n.refs.confirm.show({content:"密码输入错误超过5次，请"+e+"分钟后重试或点击忘记密码重设密码",okText:"忘记密码",cancelText:"取消",okCallback:function(){n.props.go("/user/setting/tradePasswordForget")}})},n.gotoPay=function(){A["default"].getPassErrorNums(n.props.user.username||"",function(){var e=n.props.inputValue;n.reddem=n.refs.reddem.show({title:"出借",money:e,okCallback:function(e,t,a){1==n.state.chosen?n._balancePay(t,a):n._cardPay(t,a),e()},cancelCallback:function(){}})},function(e){n.openExceedErrorDialog(e)})},n.filterBalancePay=function(e,t,a){return e.isSetTradePassword?e.ispaypwdeqloginpwd?n.refs.confirm.show({title:"安全提示",content:"您的交易密码和登录密码一致，为了您的账户安全，请重置交易密码",okCallback:function(e){t("/user/setting/tradePasswordForget",{redirectTo:"Buy"}),e()}}):void n.gotoPay():n.refs.confirm.show({title:"安全提示",content:"　出借需要设置交易密码,立即去设置？",okCallback:function(e){t("/user/setting/TradePasswordSet",{redirectTo:"Buy"}),e()}})},n.filterBankPay=function(e,t,a){n.props.type,n.state.chosen},n.renderRadio=function(e,t){var o=~n.state.disable.indexOf(t+1);return v["default"].createElement("div",{className:S["default"].Radio,key:t},o?v["default"].createElement("img",{className:S["default"].RadioImg,src:a(123)}):n.state.chosen==t+1?v["default"].createElement("img",{onClick:function(){o||n.selectPayWay(t)},className:S["default"].RadioImg,src:a(122)}):v["default"].createElement("img",{onClick:function(){o||n.selectPayWay(t)},className:S["default"].RadioImg,src:a(124)}),v["default"].createElement("span",{className:(0,M["default"])(S["default"].RadioLabel,o&&S["default"].disableText)},1==t?n.state.bankName+n.state.bankCode:"存管余额"),v["default"].createElement("div",{className:S["default"].RadioContent},t+1==n.props.BALANCEINDEX&&n.renderBalanceContent(o)),1==t?v["default"].createElement("img",{onClick:n.choiceBank,width:"15px",src:a(18),alt:""}):"")},n.choiceCallback=function(e,t){n.setState({bankName:t.bankName,bankCode:"("+t.bankCard.substr(t.bankCard.length-4,4)+")",bankCard:t.bankCard}),e()},n.choiceBank=function(){n.refs.choice.show()},n.state={chosen:e.BALANCEINDEX,disable:[],bankName:"",bankCode:"",bankCard:""},n.options=["存管余额"],n}return l(t,e),x(t,[{key:"componentDidMount",value:function(){this.props.balancePay===!1&&this.setState({chosen:this.props.priorityINDEX}),this.changeValueHandler(this.props.inputValue,this.props.user.balance||0)}},{key:"componentWillReceiveProps",value:function(e){this.props.data;var t=this.props,a=t.go,n=t.banks;if(n&&this.setState({bankName:n[0].bankName,bankCode:"("+n[0].bankCard.substr(n[0].bankCard.length-4,4)+")",bankCard:n[0].bankCard}),e.balance==this.props.balance&&this.props.inputValue==e.inputValue||this.changeValueHandler(e.inputValue,e.balance),this.setState({visiblePay:e.visiblePay,visible:!!e.visiblePay}),e.balancePayPending?this.refs.loading.show("支付中..."):"depositB"!=this.props.type&&this.refs.loading.hide(),e.balancePayData){if("301"==e.balancePayData.code)return e.clear(),e.changePending(),void this.openErrorDialog("密码错误");if("300"==e.balancePayData.code)return e.clear(),e.changePending(),void this.openErrorDialog("参数错误");if(e.verifyData){e.balancePayData.status,e.balancePayData.msgId;if("0001"==e.verifyData.code){switch(this.props.type){case"gather":var o=A["default"].formatDate("yyyy-MM-dd hh:mm:ss",new Date(1e3*this.props.data.server_time)),i=A["default"].formatDate("yyyy-MM-dd",new Date(1e3*this.props.data.server_time)),r=A["default"].formatDate("yyyy-MM-dd",new Date(1e3*this.props.data.server_time+2592e6*parseInt(this.props.data.month)));
a("/depositInvestSuccess/A?productId="+this.props.productId+"&num="+this.props.num+"&money="+this.props.inputValue+"&startDate="+i+"&endDate="+r+"&nowDate="+o);break;case"directInvest":a("/directInvestSuccess/"+this.props.inputValue+"?productId="+this.props.productId+"&num="+this.props.num);break;case"creditors":a("/creditorInvestSuccess/A?money="+this.props.inputValue)}e.clear()}else this.props.time<3||(e.clear(),e.changePending(),this.openErrorDialog(e.verifyData.msg))}}if(e.cardPayData){if("301"==e.cardPayData.code)return e.clear(),e.changePending(),void this.openErrorDialog("密码错误");if("300"==e.cardPayData.code)return e.clear(),e.changePending(),void this.openErrorDialog("参数错误");if(e.cardVerifyData){e.cardPayData.status,e.cardPayData.msgId;if("0001"==e.cardVerifyData.code){switch(this.props.type){case"gather":var l=A["default"].formatDate("yyyy-MM-dd hh:mm:ss",new Date(1e3*this.props.data.server_time)),s=A["default"].formatDate("yyyy-MM-dd",new Date(1e3*this.props.data.server_time)),u=A["default"].formatDate("yyyy-MM-dd",new Date(1e3*this.props.data.server_time+2592e6*parseInt(this.props.data.month)));a("/depositInvestSuccess/A?money="+this.props.inputValue+"&startDate="+s+"&endDate="+u+"&nowDate="+l);break;case"directInvest":a("/directInvestSuccess/"+this.props.inputValue);break;case"creditors":a("/creditorInvestSuccess/A?money="+this.props.inputValue)}e.clear()}else this.props.time<3||(e.clear(),e.changePending(),this.refs.loading.hide(),this.openErrorDialog(e.cardVerifyData.msg))}}}},{key:"selectPayWay",value:function(e){return e+1!=this.state.chosen&&(this.setState({chosen:e+1}),void this.props.getChoose(e+1))}},{key:"_balancePay",value:function(e,t){this.props.onRequestBalancePay&&this.props.onRequestBalancePay(e,t)}},{key:"_cardPay",value:function(e,t){this.props.onRequestCardPay&&this.props.onRequestCardPay(e,t,this.state.bankCard)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(sessionStorage.getItem("bao-user")),a=this.props.go;2==this.state.chosen&&(e.chosen=2,this.filterBalancePay(t,a,e)),1==this.state.chosen&&this.filterBalancePay(t,a,e)}},{key:"renderBalanceContent",value:function(e){return v["default"].createElement("div",{className:e?S["default"].contentTextDisable:S["default"].contentText},!isNaN(this.props.balance)&&this.props.balance+"元"||"",e?v["default"].createElement("span",{className:S["default"].contentMark}," (余额不足)"):null)}},{key:"render",value:function(){var e=this,t={};return t.data=this.props.banks,v["default"].createElement("div",{style:{}},v["default"].createElement(E["default"],{ref:"confirm"}),v["default"].createElement(w["default"],{ref:"reddem"}),v["default"].createElement(D["default"],{ref:"loading"}),this.options.map(function(t,a){return e.props.balancePay===!1&&e.props.BALANCEINDEX===a+1?null:e.renderRadio(t,a)}),v["default"].createElement(T["default"],{options:{banks:t,choiceCallback:this.choiceCallback},ref:"choice"}))}}]),t}(v["default"].Component),s.propTypes=(c={type:z["default"].string,inputValue:z["default"].number,onClose:z["default"].func},o(c,"type",z["default"].string),o(c,"go",z["default"].func),c),s.defaultProps={BALANCEINDEX:1,priorityINDEX:2},u);t["default"]=q},1003:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,f["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),u=o(s),c=a(5),p=o(c),d=a(3),f=o(d),h=a(35),_=o(h),m=a(57),b=o(m),y=a(4),x=o(y),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(1),k=o(v),E=a(9),C=a(8),w=a(2269),N=o(w),D=a(10),I=o(D),T=a(31),B=o(T),A=a(25),P=(o(A),a(108)),S=o(P),R=a(20),M=o(R),O=a(23),z=n(O),q=a(285),L=o(q),F=a(17),W=o(F),V=a(19),H=a(167),j=o(H),U=a(66),G=o(U),Y=a(75),Z=o(Y),X=a(74),J=o(X),K=(window.location.origin,function(e){function t(e){i(this,t);var a=r(this,(t.__proto__||(0,x["default"])(t)).call(this,e));return a.gatherBalanceBuy=function(){var e=a.props.useCoupon?a.getCoupon():null,t=a.state,n=t.useCoupon,o=(t.depositId,t.quantity),i=a.props,r=i.params,l=(r.type,r.productId);i.balancePay;!n&&e&&(e.id=""),a.props.clearData(),a.props.goBankPage({type:452,way:1,data:{device:"WAP",productId:l,productType:"POINT",num:o,couponId:e&&e.id||""},returnUrl:""})},a.changeQuantity=function(e){var t=a.props,n=t.params,o=n.id,i=(n.type,t.quantityDataB),r=i;e<=0?a.refs.tipbar.open("出借份数必须为正整数!"):e>parseFloat(r.data.quantity)&&a.refs.tipbar.open("剩余份数不足!"),e>200&&5==o?(a.refs.tipbar.open("新手标出借金额不能超过一万！"),a.setState({quantity:Number(200)})):a.setState({quantity:Number(e)})},a.voucherIsAvailable=function(e){var t=Number(a.state.quantity*a.state.unitPrice);return e.invest_money<=t},a.voucherIsNotAvailable=function(e){return!a.voucherIsAvailable(e)},a.getCoupon=function(){return a.props.selectedCoupon&&("抵用券"===a.props.selectedCoupon.type&&a.voucherIsAvailable(a.props.selectedCoupon)||"加息券"===a.props.selectedCoupon.type)?a.props.selectedCoupon:a.getMaxCoupon()},a.ifScan=function(e){a.state.checkBox?a.setState({checkBox:!1}):a.setState({checkBox:!0})},a.ifScanTwo=function(e){a.state.checkBoxTwo?a.setState({checkBoxTwo:!1}):a.setState({checkBoxTwo:!0})},a.getPayTotal=function(e){var t=a.getCoupon(),n=a.state.useCoupon;return e?a.state.quantity*a.state.unitPrice:"null"==e?a.state.quantity*a.state.unitPrice:n&&t&&"抵用券"===t.type?a.state.quantity*a.state.unitPrice-Number(t.amount):a.state.quantity*a.state.unitPrice},a.expectIncome=function(){var e=a.props.quantityDataB.data,t=a.state.useCoupon;if(!e&&5!=a.props.params.id)return"";var n=e.rate/100;if(!t)return W["default"].padMoney(a.state.unitPrice*a.state.quantity*e.month*n/12);if(a.props.useCoupon){var o=a.props.selectedCoupon||a.getMaxCoupon();o&&"加息券"===o.type&&+o.rate>=0&&+e.rate>=0&&(n+=+o.rate/100)}return 5!=a.props.params.id?W["default"].padMoney(a.state.unitPrice*a.state.quantity*e.month*n/12):a.props.new_deposit.hasOwnProperty("month")?W["default"].padMoney(a.state.unitPrice*a.state.quantity*a.props.new_deposit.month*a.props.new_deposit.rate/100/12):void 0},a.onValid=function(){var e=a.state.select;1==e?a.refs.isAuth.isSecurityCard(a.successsFn,a.props.push,"/user/setting/tradePasswordSet"):a.refs.isAuth.isbindSecurityCard(a.successsFn,a.props.push,"/user/setting/securityCard")},a.successsFn=function(){var e=a.state.useCoupon&&a.getCoupon()||null;a.getCurrentMonth();5==a.props.params.id&&e&&(e.id=""),a.gatherBalanceBuy()},a.renderDiscountBar=function(){if(a.state.couponsFetching)return k["default"].createElement("div",{className:N["default"].discountBarTouch},k["default"].createElement("p",{className:N["default"].discountBarName},"正在加载优惠券"));if(5==a.props.params.id)return k["default"].createElement("div",{className:N["default"].coupon},k["default"].createElement("span",null,"新手标不能使用优惠券"));var e=a.getCoupon();if(!e||a.state.quantity<1){a.state.vouchers.sort(function(e,t){return Number(t.amount)-Number(e.amount)});return k["default"].createElement("div",{className:N["default"].discountBarTouch,onClick:function(){a.openDy()}},k["default"].createElement("p",{className:N["default"].discountBarName},"暂无优惠可用"))}var t=void 0;""!=a.state.choose?(e=a.getCoupon(),t="抵用券"===e.type?"抵用券抵扣"+(e.amount||"")+"元":"加息券加息"+(e.rate||"")+"%"):t="抵用券"===e.type?"抵用券抵扣"+(e.amount||"")+"元":"加息券加息"+(e.rate||"")+"%";var n=a.state.vouchers.sort(function(e,t){return Number(t.amount)-Number(e.amount)}),o=n.filter(a.voucherIsAvailable),i=n.filter(a.voucherIsNotAvailable).map(function(e){return(0,b["default"])({},e,{status:"unavailable"})});n=o.concat(i);var r=(a.state.interestRates.sort(function(e,t){return Number(t.rate)-Number(e.rate)}),a.state.useCoupon&&a.props.useCoupon?k["default"].createElement("div",null,k["default"].createElement("div",null,t)):null);return k["default"].createElement("div",{className:N["default"].coupon,onClick:function(){a.openDy()}},k["default"].createElement("span",null,"使用优惠"),r)},a.openDy=function(){var e=a.getPayTotal(!0);a.setState({top:"0px",money:e})},a.changePending=function(){a.setState({pending:!1})},a.getCurrentMonth=function(){var e=a.props,t=e.deposit,n=e.params,o=n.type,i=n.id,r=e.newDeposit,l=a.state.depositId;if("A"==o)return 5==i?r:t[l];var s=JSON.parse(sessionStorage.getItem("bao-depositbs")).list;return s[i]},a.clickFn=function(){a.setState({top:"100%"})},a.useDy=function(e){a.setState({choose:e})},a.nullCoupon=function(){a.setState({top:"100%",useCoupon:!1})},a.useCoupon=function(){a.setState({top:"100%",useCoupon:!0})},a.getChoose=function(e){a.setState({select:e})},a.pop=function(){var e=a.refs.pay.getTime();1!=e?a.props.push(J["default"].getUrl()):a.props.goBack()},a.closeFn=function(){if(5==a.props.params.id){var e=JSON.parse(sessionStorage.getItem("bao-user"));e.isInvest=1,sessionStorage.setItem("bao-user",(0,_["default"])(e))}a.setState({payTop:"100%",url:""})},a.state={productId:a.props.params.productId,inputValue:1e4,quantity:200,unitPrice:1e3,vouchers:[],interestRates:[],pending:!1,couponsFetching:!0,getAvailableCouponsFlag:!1,top:"100%",checkBox:!1,checkBoxTwo:!1,choose:"",money:"",useCoupon:!0,payTop:"100%",url:"",sy:"",select:1,type:0,time:0},a}return l(t,e),g(t,[{key:"componentWillMount",value:function(){this.props.clean("GATHER_DETAIL");this.props.params.productId}},{key:"componentWillUnmount",value:function(){this.props.clean("GO_BANK_PAGE")}},{key:"componentDidMount",value:function(){window.closeFn=this.closeFn;var e=this.props.params.productId;this.props.gatherData(e),this.props.getMyBankCards(),this.props.userInfo(),this.props.getEducationInfo(),this.props.getEmptyContractsList()}},{key:"componentWillReceiveProps",value:function(e){e.quantityDataB&&"100"==e.quantityDataB.code&&!this.state.getAvailableCouponsFlag&&(this.setState({getAvailableCouponsFlag:!0,unitPrice:parseInt(e.quantityDataB.data.price)}),5==e.params.id?this.props.getAvailableCoupons(e.quantityDataB.data.month):this.props.getAvailableCoupons(e.quantityDataB.data.month)),e.quantityDataB&&"100"==e.quantityDataB.code&&e.quantityDataB.data.quantity<this.state.quantity&&this.setState({quantity:e.quantityDataB.data.quantity}),!this.hasSetCoupon&&e.couponsData&&e.couponsData.data&&(this.hasSetCoupon=!0,this.setState({vouchers:e.couponsData.data.filter(function(e){return"抵用券"===e.type}),interestRates:e.couponsData.data.filter(function(e){return"加息券"===e.type})}),this.setState({couponsFetching:!1}));var t=e.goBankData;t&&100==t.code?(this.props.clean("GO_BANK_PAGE"),this.props.push("/user/setting/bankPage?url="+t.data.url)):t&&100!=t.code&&(this.refs.tipbar.open("订单生成失败!"),this.props.clean("GO_BANK_PAGE"))}},{key:"getMaxCoupon",value:function(){var e=Number(this.state.quantity*this.state.unitPrice),t=void 0,a=void 0,n=void 0;if(this.state.vouchers.length>0){var o=this.state.vouchers.filter(this.voucherIsAvailable);t=o[0],o.forEach(function(e){Number(e.amount)>Number(t.amount)&&(t=e)})}if(this.state.interestRates.length>0&&(a=this.state.interestRates[0],this.state.interestRates.forEach(function(e){Number(e.rate)>Number(a.rate)&&(a=e)})),t&&a){var i=e*Number(a.rate)/100;n=i>Number(t.amount)?a:t}else t?n=t:a&&(n=a);return n}},{key:"canPay",value:function(){var e=this.props.params,t=(e.type,e.id,this.state.quantity),a=this.props.quantityDataB;return(!a||0==a.data.buy_status)&&(!!this.state.checkBox&&(!!this.state.checkBoxTwo&&(!(Number(W["default"].padMoney(this.getPayTotal()))>this.props.user.balance)&&!!(t&&t<=(a&&a.data.quantity||0)))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.params,n=(a.id,a.type,a.productId),o=(t.deposit,t.new_deposit,t.quantityDataB),i=t.contractData,r=t.EducationData,l=void 0;r&&100==r.code&&0!=r.data.has_num&&(l="您的风险承受类型："+r.data.name+"，建议出借"+r.data.max_month+"月以内项目");var s=(this.state.type,void 0),u=void 0;return o&&100==o.code&&(s=o.data.quantity,u=this.expectIncome()),k["default"].createElement("div",{className:N["default"].root},k["default"].createElement("div",{className:N["default"].bg},k["default"].createElement(I["default"],{onLeft:function(){e.pop()},style:{position:"absolute",left:"0px",top:"0px"}},"确认支付"),k["default"].createElement("p",{className:N["default"].title},"出借项目：聚点+ ",o&&o.data.month,"个月 年化利率（",o&&o.data.rate||"","%）"),k["default"].createElement("div",{className:N["default"].status},k["default"].createElement("div",null,k["default"].createElement("p",null,"单价",k["default"].createElement("span",null,"（元 / 份）")),k["default"].createElement("p",null,this.state.unitPrice,".00")),k["default"].createElement("div",null,k["default"].createElement("p",null,"份数",k["default"].createElement("span",null,"（剩余",s,"份）")),k["default"].createElement("div",{className:N["default"].form},k["default"].createElement("div",{className:N["default"].inputWrapper},k["default"].createElement(S["default"],{value:this.state.quantity,onChange:this.changeQuantity,id:this.props.params.id}))))),k["default"].createElement("div",{className:N["default"].expectIncome},k["default"].createElement("div",{className:N["default"].wrap},k["default"].createElement("p",{className:N["default"].name},"预期收益（元）"),k["default"].createElement("p",{className:N["default"].profit},u))),k["default"].createElement("div",{className:N["default"].discountBar},this.renderDiscountBar()),k["default"].createElement("div",{className:N["default"].amount},k["default"].createElement("span",null,"还需支付（元）"),k["default"].createElement("span",null,W["default"].padMoney(this.getPayTotal()))),k["default"].createElement(L["default"],{ref:"payProcess",productId:n,num:this.state.quantity,type:"gather",data:this.props.quantityDataB&&this.props.quantityDataB.data,go:this.props.push,getChoose:this.getChoose,user:this.props.user,banks:this.props.banks&&this.props.banks.data,balance:+this.props.user.balance,onRequestBalancePay:this.gatherBalanceBuy,onRequestCardPay:this.gatherCardBuy,balancePayData:this.props.balanceBuyData,cardPayData:this.props.cardBuyData,verifyData:this.props.verifyData,cardVerifyData:this.props.cardVerifyData,inputValue:Number(W["default"].padMoney(this.getPayTotal())),balancePayPending:this.state.pending,changePending:this.changePending,clear:function(){e.props.clearData()},money:W["default"].padMoney(this.getPayTotal()),time:this.state.time}),k["default"].createElement("p",{className:N["default"].textContent},k["default"].createElement("input",{ref:"choice",onChange:this.ifScan,style:{marginRight:"6px"},type:"checkbox"}),"我已阅读并同意宝点网",i&&i.data.map(function(e,t){return k["default"].createElement(V.Link,{key:t,to:"/emptyTemplate/"+(e.hetong_type?e.hetong_type:0)+"?name="+encodeURIComponent(e.hetong_name),className:N["default"].protocol},"《",e.hetong_name,"》")})),k["default"].createElement("p",{className:N["default"].textContent},k["default"].createElement("input",{ref:"choiceTwo",onChange:this.ifScanTwo,style:{marginRight:"6px"},type:"checkbox"})," 我已同意聚点+到期1天后授权系统自动进行转让"),k["default"].createElement(B["default"],{containerStyle:{margin:"40px 15px 0"},text:"确认支付",disable:!(this.canPay()>0),onClick:this.onValid,status:this.canPay()>0?"":"disable"}),k["default"].createElement("p",{className:N["default"].primeTxt},l),k["default"].createElement(M["default"],{ref:"tipbar"}),k["default"].createElement(G["default"],{ref:"isAuth"})),k["default"].createElement("div",{className:N["default"].zg,style:{top:this.state.top}},k["default"].createElement(j["default"],{click:this.clickFn,useFn:this.useDy,money:this.state.money,nullCoupon:this.nullCoupon,useCoupon:this.useCoupon})),k["default"].createElement("div",{className:N["default"].zg,style:{top:this.state.payTop}},k["default"].createElement(Z["default"],{url:this.state.url,closeFn:this.closeFn,ref:"pay"})))}}]),t}(k["default"].Component)),Q=function(e,t){var a=e.infodata.getIn([z.USER_INFO,"data"]),n=a&&a.data?a.data:{},o=e.infodata.getIn([z.DEPOSIT_DETAIL,"pending"]),i=e.infodata.getIn([z.GATHER_DETAIL,"data"]),r=e.infodata.getIn([z.GATHER_DETAIL,"pending"]);return{deposit:e.infodata.getIn([O.RATE,"data"])&&e.infodata.getIn([O.RATE,"data"]).data.deposit||[],newDeposit:e.infodata.getIn([O.RATE,"data"])&&e.infodata.getIn([O.RATE,"data"]).data.new_deposit||[],user:n,quantityLeftFetching:o,quantityDataB:i,quantityDataBLeftFetching:r,banks:e.infodata.getIn(["GET_MY_CARD_LIST","data"]),couponsFetching:e.infodata.getIn([z.AVAILABLE_COUPONS,"pending"]),couponsData:e.infodata.getIn([z.AVAILABLE_COUPONS,"data"]),rates:e.infodata.getIn([O.RATE,"data"]),balanceBuyData:e.infodata.getIn([z.GATHER_BALANCE_BUY,"data"]),cardBuyData:e.infodata.getIn([z.GATHER_CARD_BUY,"data"]),verifyData:e.infodata.getIn([z.GATHER_PAY_VERIFY,"data"]),cardVerifyData:e.infodata.getIn([z.GATHER_CARD_VERIFY,"data"]),selectedCoupon:e.useCoupons.getIn(["coupons","selectedCoupon"]),useCoupon:e.useCoupons.getIn(["coupons","useCoupon"]),new_deposit:e.infodata.getIn([O.RATE,"data"])&&e.infodata.getIn([O.RATE,"data"]).data.new_deposit||{},EducationData:e.infodata.getIn(["GET_EDUCATION_INFO","data"]),goBankData:e.infodata.getIn(["GO_BANK_PAGE","data"]),contractData:e.infodata.getIn(["GET_EMPTY_CONTRACTS_LIST","data"])}},$=function(e,t){return{getEmptyContractsList:function(){e({type:"GET_EMPTY_CONTRACTS_LIST",params:[{product_type:"F"}]})},push:function(t){e((0,C.push)(t))},userInfo:function(){e({type:z.USER_INFO})},goBack:function(){e((0,C.goBack)())},goBankPage:function(t){e({type:z.GO_BANK_PAGE,params:[t]})},getDepositDetail:function(t){e({type:z.DEPOSIT_DETAIL,params:[t]})},getAvailableCoupons:function(t){e({type:z.AVAILABLE_COUPONS,params:["聚点+",t]})},payVerify:function(t){e({type:"GATHER_PAY_VERIFY",params:[t]})},cardPayVerify:function(t){e({type:"GATHER_CARD_VERIFY",params:[t]})},setUseCoupons:function(t){e({type:z.SET_USE_COUPONS,selectedCoupon:t})},clearData:function(t){e({type:"CLEAR_INFO_DATA",key:"GATHER_BALANCE_BUY"}),e({type:"CLEAR_INFO_DATA",key:"GATHER_CARD_BUY"}),e({type:"CLEAR_INFO_DATA",key:"GATHER_PAY_VERIFY"}),e({type:"CLEAR_INFO_DATA",key:"GATHER_CARD_VERIFY"})},clean:function(t){e({type:"CLEAR_INFO_DATA",key:t})},gatherData:function(t){e({type:"GATHER_DETAIL",params:[t]})},depositbsBuyResult:function(t){e({type:"DEPOSITBS_BUYRESULT",params:[t]})},clearDataInfo:function(){e({type:"CLEAR_INFO_DATA",key:"AVAILABLE_COUPONS"}),e({type:"CLEAR_CONPONS"})},getMyBankCards:function(){e({type:"GET_MY_CARD_LIST"})},getEducationInfo:function(){e({type:"GET_EDUCATION_INFO"})}}};t["default"]=(0,E.connect)(Q,$)(K)},1694:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".root___2_QZN{height:100%;background-color:#f0eff5;padding-top:44px}.bg___1Trtv{overflow:auto}.bg___1Trtv,.zg___4lr5q{position:absolute;left:0;top:0;width:100%;height:100%}.zg___4lr5q{background-color:red;transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;z-index:9999}.title___2vb1p{font-size:14px;color:#888;height:30px;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;padding-left:15px;margin-top:44px}.status___el8SW,.title___2vb1p{display:-webkit-box;display:-ms-flexbox;display:box;display:flex}.status___el8SW{background-color:#fcfcfc;height:100px;padding:0 15px}.status___el8SW>div{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-o-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;justify-content:center}.status___el8SW>div p:nth-child(1){font-size:14px;color:#888}.status___el8SW>div p:nth-child(1) span{font-size:10px}.status___el8SW>div p:nth-child(2){margin-top:20px;font-size:18px}.expectIncome___3UlZD{background-color:#fff;padding:0 0 0 15px;height:44px}.expectIncome___3UlZD .wrap___CJLu9{border-top:1px solid #ddd;display:-webkit-box;display:-ms-flexbox;display:box;display:flex}.expectIncome___3UlZD .name___2eRjN{color:#888;line-height:44px}.expectIncome___3UlZD .profit___3Qn8R{color:#ff7701;line-height:44px;-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;text-align:right;padding-right:15px}.form___2eOzA{background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-o-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;justify-content:center}.form___2eOzA>p{font-size:14px}.form___2eOzA>p span{font-size:10px}.inputWrapper___nnzSr{margin-top:12px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;height:38px}.inputWrapper___nnzSr>button{width:38px;border:1px solid #e5e5e5;color:#a2a2a2;font-size:35px;font-weight:100;background-color:#fff}.inputWrapper___nnzSr>div{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;margin:0 3px}.inputWrapper___nnzSr>div,.inputWrapper___nnzSr>div>input{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1}.inputWrapper___nnzSr>div>input{border:1px solid #00a6e2;text-align:center;vertical-align:middle;font-size:18px;color:#000}.textContent___2YJDG{padding-left:15px;padding-top:10px;padding-right:6px;color:#888;font-size:14px}.coupon___1B9-b{background-color:#fcfcfc;height:44px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.coupon___1B9-b>span{font-size:16px}.coupon___1B9-b>div,.coupon___1B9-b>div div{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center}.coupon___1B9-b>div div{position:relative;height:25px;background-color:#75cda1;padding:0 12px;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#fff}.coupon___1B9-b>div div:after,.coupon___1B9-b>div div:before{content:'';height:30px;width:35px;position:absolute;background-color:#fcfcfc;border-radius:100%}.coupon___1B9-b>div div:before{top:-3px;left:-30px}.coupon___1B9-b>div div:after{top:-3px;right:-30px}.coupon___1B9-b>div:after{content:'';width:9px;height:16px;background:url("+a(18)+") 50% no-repeat;background-size:contain;margin-left:7px;z-index:2}.amount___1Zu8M{height:70px;padding:0 15px;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid #ddd;border-top:1px solid #ddd;margin-bottom:20px}.amount___1Zu8M span:nth-child(1){color:#888}.amount___1Zu8M span:nth-child(2){font-size:25px;color:#ff7701}.pay___3H4Lw{margin-top:20px;height:45px;border-top:1px solid #ddd;border-bottom:1px solid #ddd;background-color:#fff;padding:0 15px;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.pay___3H4Lw:after{content:'';width:9px;height:16px;background:url("+a(18)+") 50% no-repeat;background-size:contain}.protocol___2yhEP{color:#00a6e2}.next___PwqsM{margin:40px 15px;height:42px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex}.next___PwqsM button{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;font-size:18px;color:#fff;border:0;background-color:#00a6e2;border-radius:5px;-webkit-transition:all .3s;transition:all .3s}.next___PwqsM button:disabled{background-color:#0ebfff;color:hsla(0,0%,100%,.5)}.discountBar___5oMbt{background-color:#fcfcfc;padding-left:15px;padding-right:15px;margin-top:20px}.discountBarTouch___3CaJa{height:44px;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center}.discountBarName___4Ng5w{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;font-size:16px;color:#888}.primeTxt___3h1M3{color:#666;font-size:12px;text-align:center;margin-top:6px}",""]),t.locals={root:"root___2_QZN",bg:"bg___1Trtv",zg:"zg___4lr5q",title:"title___2vb1p",status:"status___el8SW",expectIncome:"expectIncome___3UlZD",wrap:"wrap___CJLu9",name:"name___2eRjN",profit:"profit___3Qn8R",form:"form___2eOzA",inputWrapper:"inputWrapper___nnzSr",textContent:"textContent___2YJDG",coupon:"coupon___1B9-b",amount:"amount___1Zu8M",pay:"pay___3H4Lw",protocol:"protocol___2yhEP",next:"next___PwqsM",discountBar:"discountBar___5oMbt",discountBarTouch:"discountBarTouch___3CaJa",discountBarName:"discountBarName___4Ng5w",primeTxt:"primeTxt___3h1M3"}},2269:function(e,t,a){var n=a(1694);"string"==typeof n&&(n=[[e.id,n,""]]);a(7)(n,{});n.locals&&(e.exports=n.locals)}});