webpackJsonp([53],{27:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c["default"]?(0,c["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=o(2),s=n(l),_=o(5),c=n(_),p=o(3),d=n(p),u=o(4),f=n(u),m=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s["default"])(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),h=o(1),x=n(h),g=o(30),b=n(g),v=function(e){function t(){return i(this,t),a(this,(t.__proto__||(0,f["default"])(t)).apply(this,arguments))}return r(t,e),m(t,[{key:"render",value:function(){var e=this.props.id;return x["default"].createElement("div",{className:b["default"].box+" "+this.props.className,id:e},this.props.children)}}]),t}(x["default"].Component);t["default"]=v},28:function(e,t,o){t=e.exports=o(6)(),t.push([e.id,".box___1dS0L{position:absolute;top:45px;right:0;bottom:0;left:0;height:auto;overflow-y:scroll;margin-top:-1px;padding:0;margin-bottom:-1px;width:auto;-webkit-overflow-scrolling:touch}.box___1dS0L::-webkit-scrollbar{display:none}",""]),t.locals={box:"box___1dS0L"}},30:[2359,28],184:function(e,t,o){e.exports=o.p+"static/media/storeOver.6328868e.png"},297:function(e,t,o){t=e.exports=o(6)(),t.push([e.id,".bg___EWSfE{background:#f6f6f9;position:absolute;left:0;top:0;width:100%;height:100vh;z-index:1;overflow:auto}.dhOver___1eKHL{display:inline-block;width:50px;height:50px;position:absolute;top:-8px;right:5px;background:url("+o(184)+");background-size:100% 100%}.coinMain___2v1sZ{width:100%;margin-top:44px}.coinText___2oUbi{width:100%;text-align:center}.coinText___2oUbi img{margin-top:55px}.coinText___2oUbi h1{font-size:16px;color:#181818}.coinText___2oUbi h2{font-size:28px;color:#000;margin-top:20px}.coinText___2oUbi p{font-size:16px;color:#626262;margin-top:10px}.noneCoin___1JlaY{width:100%;text-align:center;font-size:16px;color:#626262;margin-top:55px}.coinlist___3Obof{overflow:hidden;position:relative;padding:15px}.coinBox___3jhFj,.coinlist___3Obof{border-bottom:1px solid #ddd;background-color:#fff}.coinBox___3jhFj{padding:15px 15px 0}.coinBox___3jhFj .coinContent___2Ncrv{border-bottom:1px solid #ddd;margin-right:-15px;padding-right:15px}.coinBox___3jhFj .coinContent___2Ncrv:last-child{border-bottom:0}.coinBox___3jhFj .coinTitle___1hmDY{font-size:16px;color:#000}.coinBox___3jhFj .coinTitle___1hmDY .consume___3kZaY{float:right}.coinBox___3jhFj .coinAddress___3ffT-{padding:10px 0;font-size:12px;color:#aaa}.coinBox___3jhFj .coinTime___1XmFd{font-size:11px;color:#aaa;padding-bottom:15px}.listleft___1cOT6{top:12px;position:absolute}.listleft___1cOT6 p{font-size:12px;color:#aaa}.potop___2Jp-6{position:relative;top:-8px}.listleft___1cOT6 h1{font-size:16px;font-weight:400;color:#000}.listright___M2jQ4{float:right;padding-right:15px;margin-top:40px;margin-bottom:40px}.listright___M2jQ4 p{font-size:18px;color:#000}.rightNode___Abf9R{width:30px}.top___aUbs0{position:relative;top:0;left:0;width:100%;height:103px;background:#f76260}.top___aUbs0 img{position:absolute;left:23px;bottom:24px;display:inline-block;width:60px}.top___aUbs0 span.coins___NWlqx{position:absolute;top:35px;left:105px;font-size:21px;color:#fff}.top___aUbs0 span.sign___2LLcF{position:absolute;right:15px;top:32px;display:inline-block;height:32px;width:76px;text-align:center;line-height:32px;box-sizing:border-box;font-size:17px;color:#fff;border:1px solid #fff;border-radius:4px}.top___aUbs0 span.coins_desc___23Ra7{position:absolute;left:105px;top:58px;color:#fdb7b3;font-size:14px}.items___1e_Sq{width:100%;height:40px;background:#fff;overflow:hidden;position:relative}.items___1e_Sq .scrollBar___2w2gp{position:absolute;width:100%;height:100%;overflow:auto}.items___1e_Sq ul{height:40px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:auto;-webkit-overflow-scrolling:touch}.items___1e_Sq ul::-webkit-scrollbar{display:none}.items___1e_Sq ul li{white-space:nowrap;box-sizing:border-box;height:40px;text-align:center;line-height:40px;display:inline-block;font-size:16px;color:#333;margin-left:15px}.items___1e_Sq ul li.active___1zXp3{color:#f76260;border-bottom:2px solid #f76260}.products___2QpiJ{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.products___2QpiJ .productBox___2h2XP{position:relative;list-style:none;overflow:hidden;height:240px;width:50%;background:#fff;margin-top:14px;border-right:7px solid #f6f6f9;box-sizing:border-box;display:inline-block}.products___2QpiJ .productBox___2h2XP:nth-of-type(2n){border-left:7px solid #f6f6f9;border-right:0}.products___2QpiJ .productBox___2h2XP .products_img___347qA{max-width:100%;width:100%;height:180px}.products___2QpiJ .productBox___2h2XP p{text-align:center}.products___2QpiJ .productBox___2h2XP p.name___3lZ3r{font-size:14px;color:#000;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.products___2QpiJ .productBox___2h2XP p.money___PX1k7{font-size:14px;color:#f76260;padding-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.products___2QpiJ .productBox___2h2XP p.money___PX1k7 img{padding-right:2px;display:inline-block;width:18px}.block___349pv{display:block}.hide___2ZQLK{display:none}",""]),t.locals={bg:"bg___EWSfE",dhOver:"dhOver___1eKHL",coinMain:"coinMain___2v1sZ",coinText:"coinText___2oUbi",noneCoin:"noneCoin___1JlaY",coinlist:"coinlist___3Obof",coinBox:"coinBox___3jhFj",coinContent:"coinContent___2Ncrv",coinTitle:"coinTitle___1hmDY",consume:"consume___3kZaY",coinAddress:"coinAddress___3ffT-",coinTime:"coinTime___1XmFd",listleft:"listleft___1cOT6",potop:"potop___2Jp-6",listright:"listright___M2jQ4",rightNode:"rightNode___Abf9R",top:"top___aUbs0",coins:"coins___NWlqx",sign:"sign___2LLcF",coins_desc:"coins_desc___23Ra7",items:"items___1e_Sq",scrollBar:"scrollBar___2w2gp",active:"active___1zXp3",products:"products___2QpiJ",productBox:"productBox___2h2XP",products_img:"products_img___347qA",name:"name___3lZ3r",money:"money___PX1k7",block:"block___349pv",hide:"hide___2ZQLK"}},336:[2355,297],1133:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c["default"]?(0,c["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),s=n(l),_=o(5),c=n(_),p=o(3),d=n(p),u=o(35),f=n(u),m=o(4),h=n(m),x=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s["default"])(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),g=o(1),b=n(g),v=o(10),w=n(v),y=o(27),k=n(y),S=o(19),E=o(336),T=n(E),N=o(9),O=o(8),B=o(657),P=n(B),j=o(1894),D=n(j),C=o(1895),U=n(C),z=o(1893),L=n(z),R=o(16),F=n(R),M=o(26),I=n(M),J=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||(0,h["default"])(t)).call(this,e));return o.set=function(e){o.setState({signNumbers:e.signNumbers,coins:e.coins,isSign:e.isSign})},o.doSign=function(){o.refs.SignModel.show()},o.changeBar=function(e){o.setState({index:e})},o.loadDom=function(){return b["default"].createElement(F["default"],null)},o.ScrollDom=function(){var e=document.body.clientHeight-44-103-40,t=o.props,n=t.barData,i=t.getList,a=t.listData,r=t.pending,l=t.end,s=o.state.index,_=n.data.slice(0);return _.unshift({id:0,name:"全部"}),b["default"].createElement("div",null,_.map(function(t,o){var n=t.id;if(o==s){var _=a("SHOP_PRODUCT_LIST"+o),c=r("SHOP_PRODUCT_LIST"+o),p=l("SHOP_PRODUCT_LIST"+o);return b["default"].createElement("div",{key:o,className:T["default"].products},b["default"].createElement(I["default"],{height:e,fetch:function(){i("SHOP_PRODUCT_LIST"+o,n)},isLoading:c,distance:20,endType:p,endload:b["default"].createElement("div",null)},_&&_.map(function(e,t){var o=e.id,n=e.name,i=e.cover,a=e.price,r=e.count;return b["default"].createElement("div",{className:T["default"].productBox,key:t},0==r&&b["default"].createElement("div",{className:T["default"].dhOver})||null,b["default"].createElement(S.Link,{to:"/user/goodsDetail/"+o},b["default"].createElement("img",{className:T["default"].products_img,src:i,alt:n}),b["default"].createElement("p",{className:T["default"].name},n)),b["default"].createElement(S.Link,{to:"/user/trueExchangeConfirm/"+o},b["default"].createElement("p",{className:T["default"].money},b["default"].createElement("img",{src:L["default"]}),b["default"].createElement("span",null,a))))})))}}))},o.loadEndDom=function(){var e=o.state,t=e.coins,n=e.index,i=o.props.barData.data,a=o.ScrollDom();return b["default"].createElement(k["default"],null,b["default"].createElement("div",{className:T["default"].top},b["default"].createElement("img",{src:U["default"],alt:""}),b["default"].createElement("span",{className:T["default"].coins},t),b["default"].createElement("span",{className:T["default"].coins_desc},"当前点币"),b["default"].createElement("span",{className:T["default"].sign,onClick:!o.state.isSign&&o.doSign},o.state.isSign&&"已签到"||"签到")),b["default"].createElement("div",{className:T["default"].items},b["default"].createElement("div",{className:T["default"].scrollBar},b["default"].createElement("ul",{ref:"ul"},b["default"].createElement("li",{className:0==n&&T["default"].active||null,onClick:function(){o.changeBar(0)}},"全部"),i&&i.map(function(e,t){var i=(e.id,e.name);return b["default"].createElement("li",{key:t,className:n==t+1&&T["default"].active||null,onClick:function(){o.changeBar(t+1)}},i)})))),a)},o.signSuccess=function(e){o.setState({isSign:!0,coins:e.data.coins});var t=JSON.parse(sessionStorage.getItem("bao-user"));t.isSign=!0,t.coins=e.data.coins,sessionStorage.setItem("bao-user",(0,f["default"])(t)),o.refs.SignModel.hide()},o.qdDom=function(){var e=o.state,t=e.coins,n=e.signNumbers,i=e.isSign;return b["default"].createElement(P["default"],{ref:"SignModel",coin:+t,days:+n,sign:i,callBackFun:function(e){o.signSuccess(e)}})},o.state={signNumbers:"",coins:"",isSign:"",index:0,id:0},o}return r(t,e),x(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("bao-user"));e?this.set(e):this.props.getUser(),this.props.productBar()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.user;t&&100==t.code&&this.set(t.data)}},{key:"render",value:function(){var e=this,t=this.state.coins,o=this.props.barData,n=this.loadDom(),i=void 0;return o&&(t||0==t)&&(n=this.loadEndDom(),i=this.qdDom()),b["default"].createElement("div",{className:T["default"].bg},b["default"].createElement(w["default"],{rightNode:b["default"].createElement(S.Link,{to:"/user/shopCenter"},b["default"].createElement("img",{src:D["default"],className:T["default"].rightNode})),backgroundColor:"#F76260",onLeft:function(){e.props.push("/home/myIndex")}},"积分商城"),i,n)}}]),t}(b["default"].Component),X=function(e){return{barData:e.infodata.getIn(["SHOP_PRODUCT_BAR","data"]),listData:function(t){return e.listdata.getIn([t,"data"])},pending:function(t){return e.listdata.getIn([t,"pending"])},end:function(t){return e.listdata.getIn([t,"pageEnd"])},user:e.infodata.getIn(["USER_INFO","data"])}},Q=function(e){return{productBar:function(){e({type:"SHOP_PRODUCT_BAR"})},push:function(t){e((0,O.push)(t))},getList:function(t,o){e({type:"SHOP_PRODUCT_LIST",OtherKey:t,params:[10,2,o]})},getUser:function(){e({type:"USER_INFO"})}}};t["default"]=(0,N.connect)(X,Q)(J)},1221:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1133),a=n(i);t["default"]=a["default"]},1893:function(e,t,o){e.exports=o.p+"static/media/icon.3dd6b26b.png"},1894:function(e,t,o){e.exports=o.p+"static/media/shoppCenter.5dd2b489.png"},1895:function(e,t,o){e.exports=o.p+"static/media/total.3a64f443.png"}});