webpackJsonp([132],{378:function(e,t,a){e.exports=a.p+"static/media/pop.8afc8a88.png"},549:function(e,t,a){e.exports=a.p+"static/media/close.aac41431.png"},1254:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(2),u=n(c),r=a(5),d=n(r),s=a(3),p=n(s),f=a(4),_=n(f),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,u["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a(1),g=n(m),x=a(19),b=a(10),v=n(b),E=a(9),w=a(8),y=a(2253),k=n(y),N=a(549),S=n(N),T=function(e){function t(e){l(this,t);var a=i(this,(t.__proto__||(0,_["default"])(t)).call(this,e));return a.handleChange1=function(e){a.setState({name:e.target.value})},a.handleChange2=function(e){a.setState({tel:e.target.value})},a.handleChange3=function(e){a.setState({add:e.target.value})},a.handleSubmit=function(e){var t=a.props.params.id,n=a.props;n.receiveData,n.statusData;if(a.state.name&&a.state.tel&&a.state.add){var l=/^1[34578]\d{9}$/,i=a.state.tel;null==i.match(l)?a.setState({index:2}):(a.props.preheatReceive(t,a.state.name,a.state.tel,a.state.add),a.props.preheatStatus(t),a.setState({windowPop:1}))}else a.setState({index:1});e.preventDefault()},a.tick=function(){a.setState({index:0})},a.changeBar=function(e){a.setState({windowPop:e})},a.successPopDom=function(){return g["default"].createElement("div",{className:k["default"].popWraper},g["default"].createElement("div",{className:k["default"].needPop},g["default"].createElement("p",{className:k["default"].titleTxtsc},"领取成功"),g["default"].createElement("p",{className:k["default"].contentTxtSuc},"礼物将在7个工作日内完成发放"),g["default"].createElement("p",{className:k["default"].contentTxtSuc},"请耐心等待！")),g["default"].createElement("div",{className:k["default"].closeWraper},g["default"].createElement(x.Link,{to:"/user/preheat"},g["default"].createElement("img",{src:S["default"],className:k["default"].closeBtn,onClick:function(){a.changeBar(0)}}))))},a.failPopDom=function(){var e=a.props.receiveData,t=void 0;return e&&(t=e.code),g["default"].createElement("div",{className:k["default"].popWraper},g["default"].createElement("div",{className:k["default"].needPopfail},g["default"].createElement("p",{className:k["default"].titleTxtsc},"领取失败"),g["default"].createElement("p",{style:{textAlign:"center"}},301==t&&"您已经领取过该礼物了"||302==t&&"尚未达到领取标准，再接再厉哦"||303==t&&"礼物已经被领取完了"||300==t&&"活动未开始")),g["default"].createElement("div",{className:k["default"].closeWraper},g["default"].createElement("img",{src:S["default"],className:k["default"].closeBtn,onClick:function(){a.changeBar(0)}})))},a.handlePopDom=function(){var e=a.props.statusData,t=void 0;return e&&(t=e.code),g["default"].createElement("div",{className:k["default"].popWraper},g["default"].createElement("div",{className:k["default"].needPopfail},g["default"].createElement("p",{className:k["default"].titleTxtsc},"领取中"),g["default"].createElement("p",{style:{textAlign:"center"}},"正在领取请稍后")),g["default"].createElement("div",{className:k["default"].closeWraper},g["default"].createElement("img",{src:S["default"],className:k["default"].closeBtn,onClick:function(){a.changeBar(0)}})))},a.state={name:"",tel:"",add:"",index:0,windowPop:0,num:0,time:0,status:0},a.handleChange1=a.handleChange1.bind(a),a.handleChange2=a.handleChange2.bind(a),a.handleChange3=a.handleChange3.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a}return o(t,e),h(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeOut)}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.receiveData,n=e.statusData;a&&(a&&100==a.code?(n&&100==n.code&&this.setState({status:1}),n&&301==n.code&&(this.setState({status:0}),this.state.time<3&&(setTimeout(function(){t.props.preheatStatus(id)},1e3),this.state({time:this.state.time+1})))):this.setState({status:2}))}},{key:"render",value:function(){var e=this,t=this.props.params.id,a=this.props.pop,n=this.state,l=n.index,i=n.windowPop,o=n.status,c=void 0;return 0==o&&(c=this.handlePopDom()),1==o&&(c=this.successPopDom()),2==o&&(c=this.failPopDom()),1!=l&&2!=l||(this.timeOut=setTimeout(function(){return e.tick()},1e3)),g["default"].createElement("div",null,g["default"].createElement("div",{className:k["default"].bg},g["default"].createElement(v["default"],{title:"确认领取",onLeft:a,backgroundColor:"#fff",color:"#000"}),g["default"].createElement("div",{className:k["default"].container},g["default"].createElement("ul",null,g["default"].createElement("li",null,g["default"].createElement("label",null,g["default"].createElement("span",null,"收货物品："),g["default"].createElement("input",{type:"text",className:k["default"].goodsName,value:10==t&&"新春对联"||"精美台历",readOnly:"readOnly"}))),g["default"].createElement("li",null,g["default"].createElement("label",null,g["default"].createElement("span",null,"收货人： "),g["default"].createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange1,placeholder:"请输入姓名"}))),g["default"].createElement("li",null,g["default"].createElement("label",null,g["default"].createElement("span",null,"收货电话："),g["default"].createElement("input",{type:"text",value:this.state.tel,onChange:this.handleChange2,placeholder:"请输入11位手机号码"}))),g["default"].createElement("li",null,g["default"].createElement("label",null,g["default"].createElement("span",null,"收货地址："),g["default"].createElement("input",{type:"text",value:this.state.add,onChange:this.handleChange3,placeholder:"请详细填写收货地址"}))),g["default"].createElement("div",{style:{textAlign:"center"}},g["default"].createElement("div",{className:k["default"].subBtn,onClick:this.handleSubmit},"确认领取"))),g["default"].createElement("div",{className:0==l&&k["default"].tipWraper||k["default"].active},g["default"].createElement("div",{className:k["default"].tip},1==l&&"请填写完整信息！"||"请输入正确的手机号码！"))),g["default"].createElement("div",{className:0==i&&k["default"].Active11||null},g["default"].createElement("div",{className:k["default"].shadow}),c)))}}]),t}(g["default"].Component),P=function(e){return{receiveData:e.infodata.getIn(["PREHEAT_RECEIVE","data"]),statusData:e.infodata.getIn(["PREHEAT_STATUS","data"])}},C=function(e){return{preheatReceive:function(t,a,n,l){e({type:"PREHEAT_RECEIVE",params:[t,a,n,l]})},preheatStatus:function(t){e({type:"PREHEAT_STATUS",params:[t]})},pop:function(){e((0,w.goBack)())},push:function(t){e((0,w.push)(t))}}};t["default"]=(0,E.connect)(P,C)(T)},1674:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".bg___2Xbya{position:absolute;left:0;top:0;width:100%;height:100vh;overflow:auto}.container___jfR6b{width:100%;height:100%;background-color:#fff;margin-top:44px}.container___jfR6b ul{width:100%;list-style:none}.container___jfR6b ul .title___2WQk5{font-size:16px}.container___jfR6b ul .title___2WQk5 .titleTxt___3b2nS{float:left;width:80%;line-height:50px;text-align:center;font-weight:700}.container___jfR6b ul li{font-size:14px;width:100%;height:50px;padding-left:20px;line-height:50px;border-bottom:1px solid #ccc}.container___jfR6b ul li .gobackImg___thubU{border:1px solid #fff;width:25px;float:left}.container___jfR6b ul li input{border:none;outline:none}.tip___cwAXy{line-height:20px;width:60%;margin:0 auto;background-color:#000;color:#fff;font-size:12px;padding:5px 20px;text-align:center}.tipWraper___3IZII{width:100%;position:fixed;top:30%;display:none}.active___O08UR{width:100%;position:fixed;top:30%;display:block}.popWraper___1f9g7{position:fixed;top:14%;left:0;width:100%;z-index:1005}.needPop___2oHTg{width:305px;height:332px;margin:0 auto;color:#fff;background-image:url("+a(378)+");background-size:100% 100%;padding:100px 30px 40px}.closeWraper___30cq5{width:100%;text-align:center;margin-top:20px}.contentTxtSuc___QNDV6{text-align:center;font-size:12px;line-height:20px;width:235px}.titleTxtsc___3Dk50{font-size:16px;line-height:80px;text-align:center}.Active11___3P4N4{display:none}.shadow___34tgg{position:fixed;top:0;width:100%;height:200%;background-color:#000;opacity:.6;z-index:1000}.subBtn___2e1yK{border:none;width:60%;height:44px;line-height:44px;margin:0 auto;background-color:#ec4504;margin-top:20px;color:#fff;font-size:18px}.needPopfail___1c15g{width:305px;height:261px;margin:0 auto;color:#fff;background-image:url("+a(378)+");background-size:100% 100%;padding:80px 30px 40px}",""]),t.locals={bg:"bg___2Xbya",container:"container___jfR6b",title:"title___2WQk5",titleTxt:"titleTxt___3b2nS",gobackImg:"gobackImg___thubU",tip:"tip___cwAXy",tipWraper:"tipWraper___3IZII",active:"active___O08UR",popWraper:"popWraper___1f9g7",needPop:"needPop___2oHTg",closeWraper:"closeWraper___30cq5",contentTxtSuc:"contentTxtSuc___QNDV6",titleTxtsc:"titleTxtsc___3Dk50",Active11:"Active11___3P4N4",shadow:"shadow___34tgg",subBtn:"subBtn___2e1yK",needPopfail:"needPopfail___1c15g"}},2253:[2357,1674]});