webpackJsonp([132],{28:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f["default"]?(0,f["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,s,u=a(2),d=n(u),c=a(5),f=n(c),_=a(3),p=n(_),m=a(4),h=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),x=n(g),v=a(8),y=n(v),N=a(30),k=n(N),E=a(9),w=n(E),T=(s=r=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,h["default"])(t)).call(this,e));return a.state={disable:!0,message:""},a}return i(t,e),b(t,[{key:"open",value:function(e,t){var a=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){a.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:x["default"].createElement("div",{className:(0,y["default"])(k["default"].Tipbar,this.props.className)},x["default"].createElement("span",{className:k["default"].text},this.state.message||this.props.text))}}]),t}(x["default"].Component),r.propTypes={text:w["default"].string},s);t["default"]=T},29:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".Tipbar___38rzT{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___38rzT .text___3NoM-{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___38rzT",text:"text___3NoM-"}},30:[2322,29],62:function(e,t,a){e.exports=a.p+"static/media/close2.bc32cb47.png"},82:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f["default"]?(0,f["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r,s,u=a(2),d=n(u),c=a(5),f=n(c),_=a(3),p=n(_),m=a(52),h=n(m),b=a(4),g=n(b),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(1),y=n(v),N=a(68),k=n(N),E=a(35),w=n(E),T=a(34),C=n(T),D=a(8),I=n(D),O=a(51),S=n(O),W=a(20),B=n(W),G=a(33),M=(n(G),a(9)),F=n(M),R=(s=r=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,g["default"])(t)).call(this,e));return a.show=function(e){var t=e=(0,h["default"])({},e);e.money&&(t=(0,h["default"])({},e,{money:B["default"].moneyFormat(e.money||"")})),a.setState({top:0,error:"",options:t}),a.refs.dialog.show(),setTimeout(function(){passGuard3.generate("kb3",kb,0),$(function(){setTimeout(function(){kb.generate()},100)})},500)},a.hide=function(){a.refs.dialog.hide()},a.okHandle=function(){var e=a.state.options;return passGuard3.setRandKey(sessionStorage.getItem("passwordFactor")),a.password=passGuard3.getOutput(),e.okCallback?e.okCallback.call(null,a.hide,a.password):void a.hide()},a.cancelHandle=function(){var e=a.state.options;e.cancelCallback&&e.cancelCallback.call(null),a.hide()},a.focusHandle=function(){k["default"].findDOMNode(a.refs.dialog).getElementsByTagName("div")[0].style.top="200px"},a.blurHandle=function(){k["default"].findDOMNode(a.refs.dialog).getElementsByTagName("div")[0].style.top="35%"},a.password="",a.state={isOpen:!1,top:0,error:"",options:{}},a}return i(t,e),x(t,[{key:"render",value:function(){var e=this,t=this.state.options;return y["default"].createElement(w["default"],{ref:"dialog",style:{top:0}},y["default"].createElement("div",{className:(0,I["default"])(S["default"].modal,S["default"].reddemModal),style:{width:C["default"].getWidth()}},y["default"].createElement("a",{onClick:this.hide,className:S["default"].deleteIconWrap},y["default"].createElement("img",{className:S["default"].deleteIcon,src:a(62)})),t.title?y["default"].createElement("p",{className:S["default"].title},t.title):null,this.props.hasMoney?y["default"].createElement("div",{className:S["default"].content},y["default"].createElement("span",{className:S["default"].money},"￥",t.money)):y["default"].createElement("div",{className:S["default"].content}),y["default"].createElement("div",{className:S["default"].inputWrap},y["default"].createElement("input",{className:S["default"].input,id:"kb3",ref:"textInput",placeholder:t.placeholder,onFocus:this.focusHandle,onBlur:this.blurHandle,onChange:function(t){e.password=t.nativeEvent.target.value},type:"text"})),this.state.error?y["default"].createElement("span",{className:S["default"].errorText},this.state.error):null,this.props.hasDetailText?y["default"].createElement("div",{className:S["default"].detailText},y["default"].createElement("p",null,t.detailText)):null,y["default"].createElement("div",{className:S["default"].bottom,style:{marginTop:26}},y["default"].createElement("span",{onClick:this.cancelHandle,className:S["default"].cancelBtn},t.cancelText||"取消"),y["default"].createElement("span",{onClick:this.okHandle,className:S["default"].okBtn},t.okText||"确定"))))}}]),t}(y["default"].Component),r.propTypes={title:F["default"].string,money:F["default"].number,okText:F["default"].string,okCallback:F["default"].func,cancelText:F["default"].string,cancelCallback:F["default"].func,placeholder:F["default"].string,detailText:F["default"].string},r.defaultProps={hasMoney:!0,hasDetailText:!1},s);t["default"]=R},1081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f["default"]?(0,f["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,s,u=a(2),d=n(u),c=a(5),f=n(c),_=a(3),p=n(_),m=a(4),h=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),x=n(g),v=a(2108),y=n(v),N=a(12),k=n(N),E=a(22),w=(n(E),a(28)),T=n(w),C=a(82),D=n(C),I=a(42),O=n(I),S=a(26),W=n(S),B=a(124),G=n(B),M=a(11),F=a(10),R=(s=r=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,h["default"])(t)).call(this,e));return a.alert=function(e){a.refs.alert.show({content:"请先选择银行卡",okText:"确定",okCallback:function(){a.props.pop()}})},a.checkAccredit=function(){var e=a;a.refs.red.show({title:"请输入交易密码",okCallback:function(t,a){var n=void 0;n={bankCard:e.props.data.bankCard,passwordFactor:sessionStorage.getItem("passwordFactor"),mapKey:sessionStorage.getItem("mapKey"),device:"WAP",password:a},e.setState({submitting:!0,time:0}),e.props.unBind(n),t()}})},a.submit=function(){a.state.submitting||(a.props.clean(),a.checkAccredit())},a.state={isOpen:!1,submitting:!1,time:0},a}return i(t,e),b(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.data||this.alert("/user/setting/myBankCard")}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.unbindData&&(1==e.unbindData.status?this.state.time<=3&&(this.setState({time:this.state.time+1}),e.flagData&&"0001"==e.flagData.code?this.props.replace("/successTemplate?title=解绑成功&text=解绑成功"):this.state.time>=3?(this.setState({submitting:!1}),e.flagData&&"0001"!=e.flagData.code?this.refs.alert.show({content:e.flagData.msg,okText:"确定"}):this.refs.alert.show({content:"解绑失败",okText:"确定"})):setTimeout(function(){t.props.verify(e.unbindData.msgId)},3e3)):301==e.unbindData.code&&(this.refs.alert.show({content:"交易密码错误",okText:"确定"}),this.setState({submitting:!1})))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=void 0,t=this.props,a=t.pop,n=t.data,l=this.props.params.color;if(n){var o=n.bankCard.substr(n.bankCard.length-4,4);e=x["default"].createElement("div",null,x["default"].createElement("div",{className:y["default"].header},x["default"].createElement("div",{className:y["default"].item_content},x["default"].createElement("div",{className:y["default"].item,style:{backgroundColor:l}},x["default"].createElement("div",{className:y["default"].title},x["default"].createElement("div",{className:y["default"].left},x["default"].createElement("img",{className:y["default"].img,src:n.bankIcon,alt:""})),x["default"].createElement("div",{className:y["default"].right},n.bankName)),x["default"].createElement("div",{className:y["default"].num},"****  ****  ****  ",o),x["default"].createElement("img",{className:y["default"].bg,src:n.bankImg,alt:""})))),x["default"].createElement("div",{className:y["default"].detail},x["default"].createElement("div",{className:y["default"].item},x["default"].createElement("div",{className:y["default"].left},"姓名"),x["default"].createElement("div",{className:y["default"].right},n.realName)),x["default"].createElement("div",{className:y["default"].item},x["default"].createElement("div",{className:y["default"].left},"身份证号"),x["default"].createElement("div",{className:y["default"].right},n.idCard)),x["default"].createElement("div",{className:y["default"].item},x["default"].createElement("div",{className:y["default"].left},"预留手机"),x["default"].createElement("div",{className:y["default"].right},n.telNo.substr(0,3)+"****"+n.telNo.substr(n.telNo.length-4,4)))),x["default"].createElement("div",{className:y["default"].submit},x["default"].createElement(O["default"],{ref:"bottom",onClick:this.submit,className:y["default"].bottom,text:this.state.submitting?x["default"].createElement(G["default"],{text:"解绑中..."}):"同意解绑"})))}return x["default"].createElement("div",{className:y["default"].container},x["default"].createElement(k["default"],{onLeft:a,backgroundColor:"#33454c"},"管理"),x["default"].createElement(T["default"],{className:y["default"].tip,ref:"tip"}),x["default"].createElement(W["default"],{ref:"alert"}),x["default"].createElement(D["default"],{hasMoney:!1,ref:"red"}),e)}}]),t}(g.Component),r.defaultProps={},s),L=function(e){return{data:e.regStore.getIn(["STORE_CARD_INFO","data"]),unbindData:e.infodata.getIn(["UNBIND_CARD","data"]),flagData:e.infodata.getIn(["UNBIND_VERIFY","data"])}},Z=function(e,t){return{pop:function(){e((0,F.goBack)())},push:function(t){e((0,F.push)(t))},unBind:function(t){e({type:"UNBIND_CARD",params:[t]})},replace:function(t){e((0,F.replace)(t))},clean:function(){e({type:"CLEAR_INFO_DATA",key:"UNBIND_CARD"}),e({type:"CLEAR_INFO_DATA",key:"UNBIND_VERIFY"})},verify:function(t){e({type:"UNBIND_VERIFY",params:[{id:t}]})}}};t["default"]=(0,M.connect)(L,Z)(R)},1507:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".container___3-No5{position:absolute;width:100%;height:100%;left:0;top:0;overflow:auto;padding-top:44px;background-color:#f0eff5}.container___3-No5 .header___3SCBs{background-color:#33454c}.container___3-No5 .item_content___Wa9GZ{padding:15px 25px 30px}.container___3-No5 .item_content___Wa9GZ .item___OLhh5{background-color:#317fcf;padding:15px 25px 0;height:115px;color:#fff;position:relative;overflow:hidden;border-top-left-radius:10px;border-top-right-radius:10px}.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .title___1hdHY{font-size:18px;display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px;margin-bottom:20px}.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .title___1hdHY .img___1Zd_z{width:30px;display:block;margin-right:10px;float:left}.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .title___1hdHY .right___22E7-{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .num___1KhpD{font-size:24px;padding-left:42px;position:relative;z-index:10}.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .bg___F3BFD{position:absolute;width:100px;right:-10px;bottom:-20px;opacity:.3}.container___3-No5 .item_content___Wa9GZ .btn___Silty{height:35px;border:1px solid #389a88;text-align:center;color:#389a88;margin:15px 0}.container___3-No5 .item_content___Wa9GZ .btn___Silty .add___156c6{font-size:32px;position:relative;bottom:5px;color:#888}.container___3-No5 .item_content___Wa9GZ .btn___Silty .text___tGfXP{font-size:16px;position:relative;bottom:8px}.detail___3utC1{margin-left:15px;margin-right:15px;border-top:1px solid #ddd;margin-top:30px;padding:5px 20px 40px;border-top-left-radius:6px;border-top-right-radius:6px;background-color:#fff;border-bottom:1px solid #ddd}.detail___3utC1 .item___OLhh5{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px 0;border-bottom:1px solid #ddd}.detail___3utC1 .item___OLhh5 .left___62m0V{-webkit-box-flex:0;-ms-flex:0 80px;flex:0 80px}.detail___3utC1 .item___OLhh5 .right___22E7-{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#888}.tip___1eTm9{z-index:1000}.submit___lnIgc{margin-top:15px;padding:15px}@media screen and (max-width:360px){.container___3-No5 .item_content___Wa9GZ .item___OLhh5 .num___1KhpD{font-size:20px}}",""]),t.locals={container:"container___3-No5",header:"header___3SCBs",item_content:"item_content___Wa9GZ",item:"item___OLhh5",title:"title___1hdHY",img:"img___1Zd_z",right:"right___22E7-",num:"num___1KhpD",bg:"bg___F3BFD",btn:"btn___Silty",add:"add___156c6",text:"text___tGfXP",detail:"detail___3utC1",left:"left___62m0V",tip:"tip___1eTm9",submit:"submit___lnIgc"}},2108:[2319,1507]});