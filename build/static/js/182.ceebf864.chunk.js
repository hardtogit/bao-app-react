webpackJsonp([182],{123:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,s["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),_=n(r),c=a(5),d=n(c),u=a(3),s=n(u),f=a(4),p=n(f),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,_["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(1),b=n(x),g=a(147),h=n(g),E=a(10),y=a(21),k=a(110),v=n(k),w=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,p["default"])(t)).call(this,e));return a.show=function(){a.setState({show:!0})},a.hide=function(){a.setState({show:!1})},a.handleClick=function(){var e=a;(0,v["default"])("api/education/subAnswer","GET",{answers:"1-A_2-A_3-A_4-A_5-A_6-A_7-A_8-A_9-A_10-A_11-A_12-A_13-A_14-A_15-A_16-A"}).then(function(){e.props.getEducationInfo(),a.hide()})},a.clearTimer=function(){},a.state={show:!1},a}return i(t,e),m(t,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=void 0,t=JSON.parse(sessionStorage.getItem("bao-store"))||{},a="/user/setting/regStore";return t.isRegister&&(a="/user/setting/cardBind"),e=this.state.show?{display:"block"}:{display:"none"},b["default"].createElement("div",{style:e},b["default"].createElement("div",{ref:"dialog",style:{zIndex:"1050",position:"fixed",transform:"translate3d(-50%, -50%, 0px)",top:"50%",left:"50%",width:"86%"}},b["default"].createElement("div",{style:{width:"100%",position:"relative",height:"287px",backgroundColor:"#fff",padding:"12px"}},b["default"].createElement("div",{style:{borderBottom:"1px solid #ddd",textAlign:"center",paddingBottom:"12px"}},"风险承受能力评测"),b["default"].createElement("div",{style:{fontSize:"12px",lineHeight:"1.4",marginTop:"15px",letterSpacing:"1px",color:"#666"}},"风险测评可以帮助出借者充分了解自身风险承受能力，若出借者跳过风险评测将被默认为“保守型”出借用户"),b["default"].createElement(y.Link,{to:"/user/setting/riskEvaluation"},b["default"].createElement("div",{style:{width:"90%",textAlign:"center",height:"40px",lineHeight:"40px",margin:"15px auto 10px auto",backgroundColor:"#00a4e0",color:"#fff"}},"开始测评")),b["default"].createElement("div",{onClick:this.handleClick,style:{width:"90%",textAlign:"center",height:"40px",lineHeight:"40px",margin:"15px auto 10px auto",backgroundColor:"#dff4fb",color:"#00a4e0"}}," 跳过测评"),b["default"].createElement("div",{style:{fontSize:"12px",lineHeight:"1.4",marginTop:"15px",letterSpacing:"1px",color:"#ee5b43"}},'"保守型" 出借用户适投12个月以内的项目，且单笔出借最大金额上限为25万'),b["default"].createElement("img",{onClick:this.hide,style:{position:"absolute",left:"50%",marginLeft:"-32px",width:"64px",bottom:"-80px"},src:h["default"],alt:""}))),b["default"].createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"1040",backgroundColor:"rgba(0, 0, 0, 0.498039)"}}))}}]),t}(b["default"].Component),N=function(e){return{}},I=function(e){return{getEducationInfo:function(){e({type:"GET_EDUCATION_INFO"})}}};t["default"]=(0,E.connect)(N,I,null,{withRef:!0})(w)},147:function(e,t,a){e.exports=a.p+"static/media/close.39a3b45b.png"},1071:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s["default"]?(0,s["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,_,c=a(2),d=n(c),u=a(5),s=n(u),f=a(3),p=n(f),m=a(4),x=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),h=n(g),E=a(2146),y=n(E),k=a(12),v=n(k),w=a(10),N=a(11),I=a(21),A=a(27),P=n(A),j=a(156),T=n(j),U=a(42),C=n(U),S=a(26),D=n(S),F=a(123),O=n(F),K=(_=r=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,x["default"])(t)).call(this,e));return a.ifScan=function(e){a.state.checkBox?a.setState({checkBox:!1}):a.setState({checkBox:!0})},a.endDom=function(){var e=a.props,t=e.data.data,n=t.title,l=t.rate,o=t.interest,i=t.money,r=t.returnInterest,_=t.fee,c=t.totalMoney,d=e.userData.data.balance,u=e.contractData,s=!0;return a.state.disable||(s=!a.state.checkBox),h["default"].createElement("div",null,h["default"].createElement("div",{className:y["default"].title},"出借项目：",n," 年化利率（",l,"%）"),h["default"].createElement("div",{className:y["default"].block},h["default"].createElement("div",{className:y["default"].line},h["default"].createElement("div",{className:y["default"].label},"参考回报（元）"),h["default"].createElement("div",{className:y["default"].value},o)),h["default"].createElement("div",{className:y["default"].line},h["default"].createElement("div",{className:y["default"].label},"转让价格（元）"),h["default"].createElement("div",{className:y["default"].value},i)),h["default"].createElement("div",{className:y["default"].line},h["default"].createElement("div",{className:y["default"].label},"预付利息（元）"),h["default"].createElement("div",{className:y["default"].value},r)),h["default"].createElement("div",{className:y["default"].line},h["default"].createElement("div",{className:y["default"].label},"手续费（元）"),h["default"].createElement("div",{className:y["default"].value},_))),h["default"].createElement("div",{className:y["default"].bar},h["default"].createElement("div",{className:y["default"].left},"实际支付（元）"),h["default"].createElement("div",{className:y["default"].right},c)),h["default"].createElement("div",{className:y["default"].warm},"注：智享计划只能全额出借，且不能转让"),h["default"].createElement("div",null,h["default"].createElement("div",{className:y["default"].item},h["default"].createElement("div",{className:y["default"].left},"存管账户余额"),h["default"].createElement("div",{className:y["default"].right},h["default"].createElement("span",{className:y["default"].num},d,"元"),h["default"].createElement("span",{className:y["default"].tip},a.state.disable&&"(余额不足)")))),h["default"].createElement("div",{className:y["default"].links},h["default"].createElement("input",{onClick:a.ifScan,type:"checkbox",checked:a.state.checkBox}),"  我已阅读并同意签署",u&&u.data.map(function(e,t){return h["default"].createElement(I.Link,{key:t,to:"/emptyTemplate/"+(e.hetong_type?e.hetong_type:0)+"?name="+encodeURIComponent(e.hetong_name),className:y["default"].protocol},"《",e.hetong_name,"》")})),h["default"].createElement("div",{className:y["default"].btn},h["default"].createElement(C["default"],{text:a.state.submitting&&h["default"].createElement(T["default"],null)||"确认支付",disable:s,onClick:a.handleClick})))},a.handleClick=function(){if(!a.state.disable&&a.state.checkBox)if(0!=a.props.EducationData.data.has_num){if(a.props.data.data.totalMoney>a.props.EducationData.data.single_buy_max_limit)return void a.refs.alert.show({title:"风险提示",content:"根据您的风险评测结果为"+a.props.EducationData.data.name+",您已超过单笔出借最大金额限制"+a.props.EducationData.data.single_buy_max_limit+"元",okText:"确定"});a.setState({submitting:!0}),a.props.goBankPage({way:1,type:454,returnUrl:"",data:{productId:a.props.params.productId,couponId:"",quantity:1,type:"ENJOY",device:"WAP",unitPrice:a.props.data.data.totalMoney,prepaid_interest:a.props.data.data.returnInterest}})}else a.refs.education.getWrappedInstance().show()},a.state={isOpen:!1,disable:!0,submitting:!1,checkBox:!1},a}return i(t,e),b(t,[{key:"componentWillMount",value:function(){this.props.get(this.props.params.productId)}},{key:"componentDidMount",value:function(){this.props.getEmptyContractsList(),this.props.getEducationInfo()}},{key:"componentWillReceiveProps",value:function(e){var t=e.data,a=e.userData,n=e.goBankData;n&&100==n.code?(this.props.clearData("GO_BANK_PAGE"),this.props.push("/user/setting/bankPage?url="+n.data.url)):n&&100!=n.code&&(this.props.clearData("GO_BANK_PAGE"),this.refs.alert.show({content:"订单生成失败！",okText:"确定"}),this.setState({submitting:!1})),t&&a&&parseFloat(a.data.balance)>=parseFloat(t.data.totalMoney)&&this.setState({disable:!1})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.pop,a=e.data,n=e.userData,l=void 0;return l=a&&n?this.endDom():h["default"].createElement(D["default"],null),h["default"].createElement("div",{className:y["default"].container},h["default"].createElement(v["default"],{onLeft:t},"确认支付"),l,h["default"].createElement(P["default"],{ref:"alert"}),h["default"].createElement(O["default"],{ref:"education"}))}}]),t}(g.Component),r.defaultProps={},_),M=function(e){return{data:e.infodata.getIn(["WISDOM_DETAIL","data"]),userData:e.infodata.getIn(["USER_INFO","data"]),goBankData:e.infodata.getIn(["GO_BANK_PAGE","data"]),EducationData:e.infodata.getIn(["GET_EDUCATION_INFO","data"]),contractData:e.infodata.getIn(["GET_EMPTY_CONTRACTS_LIST","data"])}},B=function(e,t){return{getEmptyContractsList:function(){e({type:"GET_EMPTY_CONTRACTS_LIST",params:[{product_type:"H"}]})},pop:function(){e((0,N.goBack)())},get:function(t){e({type:"WISDOM_DETAIL",params:[t]})},push:function(t){e((0,N.push)(t))},getUserInfo:function(){e({type:"USER_INFO"})},goBankPage:function(t){e({type:"GO_BANK_PAGE",params:[t]})},clearData:function(t){e({type:"CLEAR_INFO_DATA",key:t})},getEducationInfo:function(){e({type:"GET_EDUCATION_INFO"})}}};t["default"]=(0,w.connect)(M,B)(K)},1593:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".container___1jPU_{position:absolute;width:100%;height:100%;left:0;top:0;overflow:auto;padding-top:44px;background-color:#f0eff5}.container___1jPU_ .title___5xOei{font-size:14px;padding:10px;color:#898989}.container___1jPU_ .block___MYy_-{padding:0 0 0 10px;background-color:#fff}.container___1jPU_ .block___MYy_- .line___3FrkK{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px 10px 10px 0}.container___1jPU_ .block___MYy_- .line___3FrkK .label___23pdT{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#989898;font-size:14px;text-align:left}.container___1jPU_ .block___MYy_- .line___3FrkK:first-child{border-bottom:1px solid #ddd}.container___1jPU_ .block___MYy_- .line___3FrkK:first-child .label___23pdT,.container___1jPU_ .block___MYy_- .line___3FrkK:first-child .value___fFs3x{font-size:16px}.container___1jPU_ .block___MYy_- .line___3FrkK .value___fFs3x{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:right;color:#ff7701}.container___1jPU_ .bar___7dKFK{padding:15px 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;margin:15px auto 0}.container___1jPU_ .bar___7dKFK .left___3KgNF{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:left;font-size:16px;color:#989898}.container___1jPU_ .bar___7dKFK .right___3bseX{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:right;font-size:24px;color:#ff7701}.container___1jPU_ .warm___2jthF{color:#ff7701;padding:8px 0 8px 10px;font-size:14px}.container___1jPU_ .item___14jI5{display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;padding:10px 0;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.container___1jPU_ .item___14jI5 .left___3KgNF{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:10px;font-size:16px;color:#989898}.container___1jPU_ .item___14jI5 .right___3bseX{padding-right:10px}.container___1jPU_ .item___14jI5 .right___3bseX .num___1SlEh{font-size:16px;color:#333}.container___1jPU_ .item___14jI5 .right___3bseX .tip___1fCxG{font-size:12px;color:#989898}.container___1jPU_ .links___2B4y1{padding:8px 10px;color:#989898;font-size:14px}.container___1jPU_ .btn___14EUE{padding:10px;margin-top:20px}",""]),t.locals={container:"container___1jPU_",title:"title___5xOei",block:"block___MYy_-",line:"line___3FrkK",label:"label___23pdT",value:"value___fFs3x",bar:"bar___7dKFK",left:"left___3KgNF",right:"right___3bseX",warm:"warm___2jthF",item:"item___14jI5",num:"num___1SlEh",tip:"tip___1fCxG",links:"links___2B4y1",btn:"btn___14EUE"}},2146:[2365,1593]});