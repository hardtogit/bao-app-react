webpackJsonp([155],{1137:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s["default"]?(0,s["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),c=a(l),d=o(5),s=a(d),u=o(3),_=a(u),f=o(35),p=a(f),m=o(4),g=a(m),h=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,c["default"])(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),v=o(1),y=a(v),b=o(10),x=a(b),E=(o(19),o(2173)),D=a(E),j=o(9),I=o(8),k=o(16),M=a(k),w=o(25),N=(a(w),o(24)),O=a(N),L=function(e){function t(e){i(this,t);var o=n(this,(t.__proto__||(0,g["default"])(t)).call(this,e));return o.remove=function(){sessionStorage.removeItem("bao-product"),o.props.clearData()},o.dataInspect=function(){var e=sessionStorage.getItem("bao-product"),t=o.props.params.id;return!(!e||JSON.parse(e).id!=t)},o.setData=function(){var e=o.props.infoData.data;sessionStorage.setItem("bao-product",(0,p["default"])(e))},o.loadDom=function(){return y["default"].createElement(M["default"],null)},o.vaold=function(){var e=o.props.infoData,t=e&&e.data||JSON.parse(sessionStorage.getItem("bao-product")),a=t.id,i=t.count;0==i?o.refs.alert.show({content:"对不起你兑换的物品数量不足!",okText:"确定"}):o.props.push("/user/trueExchangeConfirm/"+a)},o.loadEndDom=function(){var e=o.props.infoData,t=e&&e.data||JSON.parse(sessionStorage.getItem("bao-product")),a=t.cover,i=t.name,n=t.count,r=t.price,l=t.value,c=t.description;return y["default"].createElement("div",null,y["default"].createElement(x["default"],{backgroundColor:"#F76260",onLeft:o.props.pop},i),y["default"].createElement("div",{className:D["default"].commodity},y["default"].createElement("div",{className:D["default"].productImg},y["default"].createElement("img",{src:a})),y["default"].createElement("div",{className:D["default"].commodityMs},y["default"].createElement("p",{className:D["default"].priceBox},y["default"].createElement("span",{className:D["default"].price},r),y["default"].createElement("span",null,"点币"),y["default"].createElement("span",null,o.state.dj)),y["default"].createElement("p",{className:D["default"].originalPrice},y["default"].createElement("span",{className:D["default"].originalLeft},y["default"].createElement("span",null,"价格"),y["default"].createElement("span",null,l)),y["default"].createElement("span",{className:D["default"].originalRight},y["default"].createElement("span",null,"剩余数量:"),y["default"].createElement("span",null,n))))),y["default"].createElement("div",{className:D["default"].commodityDetails},y["default"].createElement("div",{className:D["default"].commodityTitle},"商品详情"),y["default"].createElement("div",{className:D["default"].productDetails},y["default"].createElement("div",{dangerouslySetInnerHTML:{__html:c}}))),y["default"].createElement("div",{className:D["default"].buyBottom,onClick:o.vaold},"立即兑换"))},o.state={flag:!1,dj:JSON.parse(sessionStorage.getItem("bao-user")).grade},o}return r(t,e),h(t,[{key:"componentWillMount",value:function(){this.remove();var e=this.dataInspect();if(!e){var t=this.props.params.id;this.props.getInfo(t)}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.infoData,t=this.dataInspect(),o=this.loadDom();return e&&(o=this.loadEndDom(),this.setData()),t&&(o=this.loadEndDom()),y["default"].createElement("div",{className:D["default"].bg},o,y["default"].createElement(O["default"],{ref:"alert"}))}}]),t}(y["default"].Component),S=function(e){return{infoData:e.infodata.getIn(["COMMODITY_DETAILS","data2"])}},T=function(e){return{pop:function(){e((0,I.goBack)())},getInfo:function(t){e({type:"COMMODITY_DETAILS",params:[t]})},push:function(t){e((0,I.push)(t))},clearData:function(){e({type:"CLEAR_INFO_DATA",key:"COMMODITY_DETAILS"})}}};t["default"]=(0,j.connect)(S,T)(L)},1229:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1137),n=a(i);t["default"]=n["default"]},1593:function(e,t,o){t=e.exports=o(6)(),t.push([e.id,".bg___1vDYf{background:#f6f6f9;position:absolute;left:0;top:0;overflow:auto;width:100%;height:100vh;padding-top:44px}.productImg___1VY3t img{vertical-align:bottom;width:100%}.commodity___1vjQc .commodityMs___3wrqC{padding:20px 15px;background-color:#fff}.commodity___1vjQc .price___1XLrz{font-size:26px;color:#f76260}.commodity___1vjQc .priceBox___G-0cs{font-size:14px;color:#000}.commodity___1vjQc .priceBox___G-0cs span{vertical-align:middle}.commodity___1vjQc .priceBox___G-0cs span:nth-child(2){margin-left:6px;margin-top:7px;display:inline-block}.commodity___1vjQc .priceBox___G-0cs span:nth-child(3){font-size:9px;color:#f76260;padding:3px 4px;border:1px solid #f76260;margin-left:6px;border-radius:3px;margin-top:2px;display:inline-block}.commodity___1vjQc .originalPrice___3U20j{padding-top:15px}.commodity___1vjQc .originalPrice___3U20j .originalLeft___1RrPH span:first-child{font-size:14px;color:#000}.commodity___1vjQc .originalPrice___3U20j .originalLeft___1RrPH span:nth-child(2){margin-left:6px;font-size:14px;color:#888;position:relative;display:inline-block}.commodity___1vjQc .originalPrice___3U20j .originalRight___fZOjU{display:inline-block;float:right;font-size:14px;color:#888;line-height:20px}.commodity___1vjQc .originalPrice___3U20j .originalRight___fZOjU span:nth-child(2){margin-left:6px}.productDetails___3xAw7 img{vertical-align:bottom;width:100%}.buyBottom___3DqIL{background-color:#f76260;height:50px;line-height:50px;text-align:center;font-size:18px;color:#fff;position:fixed;left:0;bottom:0;width:100%}.commodityDetails___3hkpM{margin-top:10px;background-color:#fff;margin-bottom:50px}.commodityDetails___3hkpM .commodityTitle___1asfh{padding:15px;font-size:14px;color:#000}",""]),t.locals={bg:"bg___1vDYf",productImg:"productImg___1VY3t",commodity:"commodity___1vjQc",commodityMs:"commodityMs___3wrqC",price:"price___1XLrz",priceBox:"priceBox___G-0cs",originalPrice:"originalPrice___3U20j",originalLeft:"originalLeft___1RrPH",originalRight:"originalRight___fZOjU",productDetails:"productDetails___3xAw7",buyBottom:"buyBottom___3DqIL",commodityDetails:"commodityDetails___3hkpM",commodityTitle:"commodityTitle___1asfh"}},2173:[2355,1593]});