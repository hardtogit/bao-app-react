webpackJsonp([16],{163:function(e,t,o){e.exports=o.p+"static/media/private2.47e3ef01.png"},232:function(e,t,o){e.exports=o.p+"static/media/coin.5d24922a.png"},848:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,u["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,_,c=o(2),p=i(c),s=o(5),d=i(s),f=o(3),u=i(f),x=o(4),m=i(x),g=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,p["default"])(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),h=o(1),b=i(h),w=o(16),y=i(w),v=o(1914),E=i(v),k=o(1917),T=i(k),z=(_=r=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return o.state={src:E["default"]},o}return l(t,e),g(t,[{key:"componentDidMount",value:function(){var e=this;$(e.refs.img).offset().top<document.body.clientHeight&&this.setState({src:this.props.src}),$(this.props.scrollDom.refs.scrollBox).scroll(function(){if(e.state.src==e.props.src||e.state.src==T["default"])return!1;if($(e.refs.img).offset().top<document.body.clientHeight){var t=new Image;t.src=e.props.src,t.addEventListener("load",function(){e.setState({src:e.props.src})},!1),t.addEventListener("error",function(){e.setState({src:T["default"]})},!1)}})}},{key:"render",value:function(){var e=this.state.src;return b["default"].createElement("img",{ref:"img",className:this.props.className,src:e,alt:""})}}]),t}(b["default"].Component),r.propTypes={src:y["default"].string,scrollDom:y["default"].object},r.defaultProps={src:E["default"]},_);t["default"]=z},944:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,o){return t in e?(0,c["default"])(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,f["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s["default"]?(0,s["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var _=o(2),c=i(_),p=o(5),s=i(p),d=o(3),f=i(d),u=o(46),x=i(u),m=o(4),g=i(m),h=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,c["default"])(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),b=o(1),w=i(b),y=o(11),v=i(y),E=o(40),k=i(E),T=o(848),z=i(T),B=o(19),S=o(2272),I=i(S),C=o(10),N=o(9),D=o(163),O=i(D),P=o(232),Y=i(P),G=o(1950),V=i(G),L=o(17),M=i(L),Q=o(24),j=i(Q),q=o(18),J=i(q),W=o(14),R=i(W),Z=function(e){function t(e){a(this,t);var o=l(this,(t.__proto__||(0,g["default"])(t)).call(this,e));return o.componentDidMount=function(){},o.filters=function(){o.setState({filterShow:!o.state.filterShow})},o.choose=function(e,t){o.setState({flag1:e});var i=void 0;o.setState(function(o){i=(0,x["default"])(o.params,n({},t,e))})},o.confirm=function(){o.setState({filterShow:!1});var e=o.state.params,t=o.refs.priceBox.priceStart.value,i=o.refs.priceBox.priceEnd.value;e.price_start=t,e.price_end=i,o.props.clearData(o.state.index),o.refs.scroll.setState({init:!0,first:!1})},o.changeBar=function(e,t){o.props.clearData(o.state.index),o.setState({index:e});var i={};t&&100==t.code&&(t.data.map(function(e,t){var o=e.label_type;0!=t&&(i[o]="")}),o.setState({params:i}))},o.loadDom=function(){return w["default"].createElement(M["default"],null)},o.ScrollDom=function(){var e=document.body.clientHeight-100,t=o.props,i=t.typeData,n=t.getGoodsList,a=t.listData,l=t.pending,r=t.end,_=o.state,c=_.index,p=_.params,s=i.data[0].label_child.slice(0);return s.unshift({id:"",name:"全部",type_str:"area_type"}),w["default"].createElement("div",null,s.map(function(t,i){var _=t.id;if(i==c){var s=a("GET_GOODS_LIST"+i),d=l("GET_GOODS_LIST"+i),f=r("GET_GOODS_LIST"+i);return w["default"].createElement("div",{key:i,className:I["default"].products},w["default"].createElement(j["default"],{ref:"scroll",height:e,fetch:function(){n("GET_GOODS_LIST"+i,{area_type_id:_},p)},isLoading:d,distance:20,endType:f,endload:w["default"].createElement("div",null)},s&&s.map(function(e,t){var i=(e.product_id,e.product_name),n=e.image,a=e.price,l=e.down_time,r=e.server_time,_=J["default"].millisecondToDate(l-r);return w["default"].createElement("div",{className:I["default"].productBox,key:t},w["default"].createElement("p",{className:I["default"].shopTitle1},i),w["default"].createElement("p",{className:I["default"].shopTitle2},w["default"].createElement("span",null,a),w["default"].createElement("span",null,w["default"].createElement("img",{src:Y["default"]})),w["default"].createElement("img",{src:O["default"],className:I["default"].specialIcon})),w["default"].createElement(B.Link,{to:"/find/productDetail/"+e.product_id},w["default"].createElement("div",{className:I["default"].imgBox},w["default"].createElement(z["default"],{className:I["default"].products_img,src:n,scrollDom:o.refs.scroll}))),w["default"].createElement("div",{className:I["default"].productBottomBox},w["default"].createElement("span",{className:I["default"].productBottomTxt},"距结束",_)))})))}}))},o.loadEndDom=function(){var e=o.state.index,t=o.props.typeData,i=o.ScrollDom();return w["default"].createElement(k["default"],null,w["default"].createElement("div",{className:I["default"].items},w["default"].createElement("div",{className:I["default"].scrollBar},w["default"].createElement("ul",{ref:"ul"},w["default"].createElement("li",{className:0==e&&I["default"].active||null,onClick:function(){o.changeBar(0)}},"全部"),t&&t.data[0].label_child.map(function(i,n){var a=i.id,l=i.name;return w["default"].createElement("li",{key:n,className:e==n+1&&I["default"].active||null,ref:a,onClick:function(){o.changeBar(n+1,t)}},l)})))),i)},o.state={index:0,id:0,filterShow:!1,flag1:999,init:!1,params:[]},o}return r(t,e),h(t,[{key:"componentWillMount",value:function(){this.props.getGoodsTypeList()}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.typeData,o={};t&&100==t.code&&!this.state.init&&(t.data.map(function(e,t){var i=e.label_type;0!=t&&(o[i]="")}),this.setState({params:o,init:!0}))}},{key:"render",value:function(){var e=this,t=this.props,o=t.pop,i=t.typeData,n=void 0;n=this.loadDom(),i&&(n=this.loadEndDom());var a=this.state.params,l=[];return i&&i.data.map(function(t,o){0!=o&&l.push(w["default"].createElement("div",{key:o},w["default"].createElement("p",{className:I["default"].selectTitle},t.label_name),w["default"].createElement("ul",{className:I["default"].select},w["default"].createElement("li",{onClick:function(){e.choose("",t.label_type)},className:(0,R["default"])(a[t.label_type]?I["default"].noselect:I["default"].current)},"全部"),i&&i.data[o].label_child.map(function(o,i){var n=o.id,l=o.name;return w["default"].createElement("li",{key:i,onClick:function(){e.choose(n,t.label_type)},className:(0,R["default"])(a[t.label_type]==n?I["default"].current:I["default"].noselect)},l)}))))}),w["default"].createElement("div",{className:I["default"].bg},w["default"].createElement(v["default"],{onRight:this.filters,rightNode:w["default"].createElement("img",{src:V["default"],className:I["default"].rightNode}),backgroundColor:"#fff",color:"#333",onLeft:o},"产品列表"),n,w["default"].createElement("div",{className:(0,R["default"])(I["default"].filter,this.state.filterShow?I["default"].active:"hide")},l,w["default"].createElement("p",{className:I["default"].selectTitle},"积分区间"),w["default"].createElement("form",{className:I["default"].coinselect,ref:"priceBox"},w["default"].createElement("input",{type:"text",name:"priceStart"}),w["default"].createElement("span",null,"-"),w["default"].createElement("input",{type:"text",name:"priceEnd"})),w["default"].createElement("div",{className:I["default"].btnWrap},w["default"].createElement("div",{className:I["default"].confirmBtn,onClick:function(){e.confirm()}},"确认"))))}}]),t}(w["default"].Component),A=function(e){return{typeData:e.infodata.getIn(["GET_GOODS_TYPE_LIST","data"]),listData:function(t){return e.listdata.getIn([t,"data"])},pending:function(t){return e.listdata.getIn([t,"pending"])},end:function(t){return e.listdata.getIn([t,"pageEnd"])}}},F=function(e){return{getGoodsTypeList:function(){e({type:"GET_GOODS_TYPE_LIST"})},getGoodsList:function(t,o,i){e({type:"GET_GOODS_LIST",OtherKey:t,params:[(0,x["default"])({page_size:10},o,i)]})},clearData:function(t){e({type:"CLEAR_DATA",key:"GET_GOODS_LIST"+t})},push:function(t){e((0,N.push)(t))},pop:function(){e((0,N.goBack)())}}};t["default"]=(0,C.connect)(A,F)(Z)},1098:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(944),a=i(n);t["default"]=a["default"]},1440:function(e,t,o){t=e.exports=o(6)(),t.push([e.id,".bg___LHh9z{background:#f6f6f9;position:absolute;left:0;top:0;width:100%;height:100vh;z-index:1;overflow:auto}.dhOver___-X_6J{display:inline-block;width:50px;height:50px;position:absolute;top:-8px;right:5px;background:url("+o(396)+");background-size:100% 100%}.coinMain___3evLJ{width:100%;margin-top:44px}.coinText___16M0Y{width:100%;text-align:center}.coinText___16M0Y img{margin-top:55px}.coinText___16M0Y h1{font-size:16px;color:#181818}.coinText___16M0Y h2{font-size:28px;color:#000;margin-top:20px}.coinText___16M0Y p{font-size:16px;color:#626262;margin-top:10px}.noneCoin___3DdCZ{width:100%;text-align:center;font-size:16px;color:#626262;margin-top:55px}.coinlist___1Vd0q{overflow:hidden;position:relative;padding:15px}.coinBox___3vRaq,.coinlist___1Vd0q{border-bottom:1px solid #ddd;background-color:#fff}.coinBox___3vRaq{padding:15px 15px 0}.coinBox___3vRaq .coinContent___20975{border-bottom:1px solid #ddd;margin-right:-15px;padding-right:15px}.coinBox___3vRaq .coinContent___20975:last-child{border-bottom:0}.coinBox___3vRaq .coinTitle___2yfb9{font-size:16px;color:#000}.coinBox___3vRaq .coinTitle___2yfb9 .consume___1exve{float:right}.coinBox___3vRaq .coinAddress___WnzHG{padding:10px 0;font-size:12px;color:#aaa}.coinBox___3vRaq .coinTime___1rIan{font-size:11px;color:#aaa;padding-bottom:15px}.listleft___32AC9{top:12px;position:absolute}.listleft___32AC9 p{font-size:12px;color:#aaa}.potop___2StQI{position:relative;top:-8px}.listleft___32AC9 h1{font-size:16px;font-weight:400;color:#000}.listright___zczNS{float:right;padding-right:15px;margin-top:40px;margin-bottom:40px}.listright___zczNS p{font-size:18px;color:#000}.rightNode___SiJW0{width:24px}.top___3_gFK{position:relative;top:0;left:0;width:100%;height:103px;background:#f76260}.top___3_gFK img{position:absolute;left:23px;bottom:24px;display:inline-block;width:60px}.top___3_gFK span.coins___2zxJG{position:absolute;top:35px;left:105px;font-size:21px;color:#fff}.top___3_gFK span.sign___3WxTE{position:absolute;right:15px;top:32px;display:inline-block;height:32px;width:76px;text-align:center;line-height:32px;box-sizing:border-box;font-size:17px;color:#fff;border:1px solid #fff;border-radius:4px}.top___3_gFK span.coins_desc___3NJyS{position:absolute;left:105px;top:58px;color:#fdb7b3;font-size:14px}.items___1jpwi{width:100%;height:40px;background:#fff;overflow:hidden;position:relative}.items___1jpwi .scrollBar___2N5UW{position:absolute;width:100%;height:100%;overflow:auto}.items___1jpwi ul{height:40px;width:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-pack:distribute;justify-content:space-around;overflow:auto;-webkit-overflow-scrolling:touch}.items___1jpwi ul::-webkit-scrollbar{display:none}.items___1jpwi ul li{white-space:nowrap;box-sizing:border-box;height:40px;text-align:center;line-height:40px;display:inline-block;font-size:16px;color:#333;margin-left:15px}.items___1jpwi ul li.active___dSjea{border-bottom:2px solid #f76260}.products___3CEzy{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:14px}.products___3CEzy .productBox___wPQYV{position:relative;list-style:none;overflow:hidden;height:240px;width:50%;padding:20px 15px;background:#fff;border-bottom:1px solid #dedede;border-right:1px solid #dedede;box-sizing:border-box;display:inline-block}.products___3CEzy .productBox___wPQYV:nth-of-type(2n){border-bottom:1px solid #dedede;border-right:0}.products___3CEzy .productBox___wPQYV .shopTitle1___3MIqm{font-size:12px;color:#666;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.products___3CEzy .productBox___wPQYV .shopTitle2___3d1cI{font-size:12px;margin-top:5px;color:#fe684b}.products___3CEzy .productBox___wPQYV .shopTitle2___3d1cI span{float:left}.products___3CEzy .productBox___wPQYV .shopTitle2___3d1cI span img{width:14px;margin-left:1px}.products___3CEzy .productBox___wPQYV .shopImg___CdvVy{width:100%;margin-top:3px}.products___3CEzy .productBox___wPQYV .specialIcon___2b3a4{height:14px;float:left;margin-left:4px}.products___3CEzy .productBox___wPQYV .imgBox___3uabd{width:100%;height:130px;text-align:center;margin-top:40px}.products___3CEzy .productBox___wPQYV .imgBox___3uabd .products_img___7OS_J{width:108px}.products___3CEzy .productBox___wPQYV .productBottomBox___PJ_nu{width:100%;position:absolute;bottom:0;left:0;text-align:center}.products___3CEzy .productBox___wPQYV .productBottomTxt___3N45X{display:block;width:45%;height:16px;line-height:16px;margin:0 auto;background-color:#858585;color:#fff;font-size:12px}.products___3CEzy .productBox___wPQYV p.name___2sfcU{font-size:14px;color:#000;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.products___3CEzy .productBox___wPQYV p.money___VXl0E{font-size:14px;color:#f76260;padding-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.products___3CEzy .productBox___wPQYV p.money___VXl0E img{padding-right:2px;display:inline-block;width:18px}.block___1gxDF{display:block}.hide___EQf0P{display:none}.active___dSjea{-webkit-transform:translateZ(0);transform:translateZ(0)}.filter___14q0U{position:fixed;top:44px;left:0;height:100%;width:100%;background:rgba(0,0,0,.4);-webkit-transition:all .4s cubic-bezier(.1,.7,.1,1);transition:all .4s cubic-bezier(.1,.7,.1,1);z-index:10000}.filter___14q0U .selectTitle___fZEwf{background-color:#fff;padding-left:24px;font-size:14px;padding-top:15px;color:#626262}.select___3aSII{width:100%;padding:4px 15px;background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.select___3aSII li{padding:0 10px;list-style:none;text-align:center;color:#626262;font-size:14px}.select___3aSII li.current___27eOE{color:#f67f75;padding:5px 10px;margin:0 8px;border-radius:3px;border:1px solid #f56f64;background-color:#fbe9e7}.select___3aSII li.noselect___hY-aI{padding:5px 10px;margin:5px 8px;border-radius:3px;border:1px solid #ddd}.coinselect___23n6Z{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;padding-left:20px}.coinselect___23n6Z input{width:35%;height:28px;border:1px solid #ddd;outline:none;margin:10px 3px;padding:5px;font-size:12px;color:#626262}.confirmBtn___3p4nS{width:95px;height:34px;line-height:34px;text-align:center;background:#fe684b;color:#fff;font-size:14px;margin-left:20px}.btnWrap___S7Zre{width:100%;background:#fff;padding-bottom:20px}",""]),t.locals={bg:"bg___LHh9z",dhOver:"dhOver___-X_6J",coinMain:"coinMain___3evLJ",coinText:"coinText___16M0Y",noneCoin:"noneCoin___3DdCZ",coinlist:"coinlist___1Vd0q",coinBox:"coinBox___3vRaq",coinContent:"coinContent___20975",coinTitle:"coinTitle___2yfb9",consume:"consume___1exve",coinAddress:"coinAddress___WnzHG",coinTime:"coinTime___1rIan",listleft:"listleft___32AC9",potop:"potop___2StQI",listright:"listright___zczNS",rightNode:"rightNode___SiJW0",top:"top___3_gFK",coins:"coins___2zxJG",sign:"sign___3WxTE",coins_desc:"coins_desc___3NJyS",items:"items___1jpwi",scrollBar:"scrollBar___2N5UW",active:"active___dSjea",products:"products___3CEzy",productBox:"productBox___wPQYV",shopTitle1:"shopTitle1___3MIqm",shopTitle2:"shopTitle2___3d1cI",shopImg:"shopImg___CdvVy",specialIcon:"specialIcon___2b3a4",imgBox:"imgBox___3uabd",products_img:"products_img___7OS_J",productBottomBox:"productBottomBox___PJ_nu",productBottomTxt:"productBottomTxt___3N45X",name:"name___2sfcU",money:"money___VXl0E",block:"block___1gxDF",hide:"hide___EQf0P",filter:"filter___14q0U",selectTitle:"selectTitle___fZEwf",select:"select___3aSII",current:"current___27eOE",noselect:"noselect___hY-aI",coinselect:"coinselect___23n6Z",confirmBtn:"confirmBtn___3p4nS",btnWrap:"btnWrap___S7Zre"}},1914:function(e,t,o){e.exports=o.p+"static/media/defaultImg.30c62f66.png"},1917:function(e,t,o){e.exports=o.p+"static/media/errorImg.84fdd95c.png"},1950:function(e,t,o){e.exports=o.p+"static/media/select.f735632e.png"},2272:[2482,1440]});