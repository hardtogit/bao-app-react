webpackJsonp([148],{315:function(t,e,n){t.exports=n.p+"static/media/good.a34eb803.png"},494:function(t,e,n){t.exports=n.p+"static/media/notice.1bf1b311.png"},1083:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=(0,c["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(p["default"]?(0,p["default"])(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var d=n(2),r=o(d),u=n(5),p=o(u),s=n(3),c=o(s),f=n(4),b=o(f),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r["default"])(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),m=n(1),x=o(m),g=n(12),h=o(g),C=n(10),E=n(2110),N=o(E),Q=n(8),v=o(Q),B=n(11),A=n(22),q=o(A),y=n(26),O=o(y),T=n(1717),w=o(T),I=n(83),K=o(I),S=n(32),D=a(S),G=function(t){function e(t){l(this,e);var n=i(this,(e.__proto__||(0,b["default"])(e)).call(this,t));return n.nullCard=function(t,e,a){var o=n.state,l=(o.reg,o.code),i=o.bankName,_=(o.Val,o.icon),d=void 0;d=_?x["default"].createElement("img",{src:_,alt:""}):x["default"].createElement("span",null,"开户行");var r=void 0,u=void 0;return a?(r={position:"absolute",top:"0px",left:"0px"},u=function(){n.setState({TopInput:{top:"100%"}})}):u=n.props.pop,x["default"].createElement("div",null,x["default"].createElement(h["default"],{leftNode:x["default"].createElement("span",{className:N["default"].leftCav,onClick:u},"取消"),style:r},"银行卡"),x["default"].createElement("div",{className:N["default"].bankcardAddContent},x["default"].createElement("div",{className:N["default"].inputBox},x["default"].createElement("p",{className:N["default"].text},"请绑定持卡人本人银行卡"),x["default"].createElement("div",{className:(0,v["default"])(N["default"].inputOne,N["default"].mg)},x["default"].createElement("span",{className:N["default"].inputTitle},"持卡人"),x["default"].createElement("span",{className:N["default"].inputContent},t),x["default"].createElement("span",{className:N["default"].inputIcon})),x["default"].createElement("div",{className:(0,v["default"])(N["default"].inputOne,N["default"].mg)},x["default"].createElement("div",{className:N["default"].inputCh},x["default"].createElement("span",{className:N["default"].inputTitleC},"卡号"),x["default"].createElement("input",{ref:"bankCard",className:N["default"].inputSr,placeholder:"请输入银行卡号",onChange:function(t){n.inputS(t,l)}})),x["default"].createElement("div",{className:N["default"].inputCh,onClick:n.showBank},d,x["default"].createElement("span",{className:N["default"].inputContent},i))),x["default"].createElement("div",{className:N["default"].btBox},x["default"].createElement("button",{className:N["default"].bt,disabled:!n.state.bankCode,ref:"send",onClick:n.bindCard},n.props.sendpending&&x["default"].createElement(K["default"],{color:"rgba(255,255,255,.8)"}),"下一步")))))},n.isCard=function(){return x["default"].createElement("div",{className:N["default"].sqBox},x["default"].createElement(h["default"],{onLeft:n.props.pop},"提交申请"),x["default"].createElement("div",{className:N["default"].bankcardAddContent},x["default"].createElement("div",{className:N["default"].sqText},x["default"].createElement("p",null,"联系客服提供以下资料"),x["default"].createElement("p",{className:N["default"].sqTel},x["default"].createElement("a",{href:"tel:028-966180"},"028-966180"))),x["default"].createElement("div",{className:N["default"].tsBox},x["default"].createElement("ul",null,x["default"].createElement("li",null,x["default"].createElement("img",{src:w["default"]}),x["default"].createElement("p",{className:N["default"].mg},"手持身份证"),x["default"].createElement("p",null,"正面照")),x["default"].createElement("li",null,x["default"].createElement("img",{src:w["default"]}),x["default"].createElement("p",{className:N["default"].mg},"手持新银行卡"),x["default"].createElement("p",null,"正面照")),x["default"].createElement("li",null,x["default"].createElement("img",{src:w["default"]}),x["default"].createElement("p",{className:N["default"].mg},"手持原卡注销"),x["default"].createElement("p",null,"证明正面照")))),x["default"].createElement("div",{className:N["default"].btBox},x["default"].createElement("button",{className:N["default"].bt,onClick:n.props.pop},"确认"),x["default"].createElement("button",{className:N["default"].bt1,onClick:function(){n.setState({TopInput:{top:"0px"}})}},"重新更换安全卡"))))},n.loadEndDom=function(t,e){var a=t.data,o=a.name,l=a.isAuth,i=a.isbindSecurityCard,_=n.state.TopInput,d=void 0;return d=2!=l||i?2==l&&i?x["default"].createElement("div",null,x["default"].createElement("div",{className:N["default"].bankInput,style:_},n.nullCard(o,e,_)),n.isCard()):"":n.nullCard(o,e)},n.bindCard=function(){return n.state.bankCode?void n.props.goBankPage({type:431,way:1,data:{bankCard:n.refs.bankCard.value,bankCode:n.state.bankCode,bankName:n.state.bankName,device:"WAP",access_sys:"platform"},returnUrl:""}):void n.refs.alert.show({content:"请先填写你的卡号",okText:"确定"})},n.inputS=function(t,e){var a=t.target.value;if(a.length>=3){var o=!0;n.props.bankList&&(n.props.bankList.data.map(function(t,e){0==a.indexOf(t.cardBin)&&(o=!1,n.setState({bankName:t.bankName,bankCode:t.bankCode,icon:t.bankIcon}))}),o&&a.length>7&&n.setState({bankName:"存管暂不支持该银行的储蓄卡",bankCode:"",icon:""}))}else n.setState({bankName:"请输入卡号识别",bankCode:"",icon:""})},n.state={bankName:"请输入卡号识别",Top:{top:"100%"},TopInput:{top:"100%"},code:0,icon:"",bankCode:"",Val:"",reg:!1,init:!0,sendInit:!0},n}return _(e,t),k(e,[{key:"loadDom",value:function(t){return t?x["default"].createElement(q["default"],{style:t}):x["default"].createElement(q["default"],null)}},{key:"bankListDom",value:function(t){var e=this;return x["default"].createElement("div",{className:N["default"].bankContent},x["default"].createElement("ul",{className:N["default"].bankList},t.data.map(function(t,n){var a=t.icon,o=t.name,l=t.code;return x["default"].createElement("li",{className:N["default"].bank,key:n,onClick:function(){e.chooseBank(l,a,o)}},x["default"].createElement("span",{className:N["default"].bankImg},x["default"].createElement("img",{src:a})),x["default"].createElement("span",{className:N["default"].bankText},o),l==e.state.code&&x["default"].createElement("span",{className:N["default"].choosed}))})))}},{key:"Alert",value:function(){var t=this;this.refs.alert.show({content:"您还未绑定身份信息，去绑定？",okText:"确定",okCallback:function(){t.props.push("/user/setting/identityAuth")}})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.user,n=t.load,a=t.loadCard;e?2!=e.data.isAuth&&this.Alert():n("USER_INFO_WITH_LOGIN"),a()}},{key:"componentWillReceiveProps",value:function(t){var e=t.user,n=t.goBankData;e&&2!=e.data.isAuth&&this.Alert(),n&&100==n.code?(this.props.clean("GO_BANK_PAGE"),this.props.push("/user/setting/bankPage?url="+n.data.url)):n&&100!=n.code&&(this.refs.alert.show({content:"订单生成失败！",okText:"确定"}),this.props.clean("GO_BANK_PAGE"))}},{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"render",value:function(){var t=this.props,e=t.user,n=t.data,a=void 0;return a=e?this.loadEndDom(e,n):this.loadDom(),x["default"].createElement("div",null,a,x["default"].createElement(O["default"],{ref:"alert"}))}}]),e}(m.Component),L=function(t,e){return{user:t.infodata.getIn(["USER_INFO_WITH_LOGIN","data"]),bankList:t.infodata.getIn(["GET_BANK_BIND_LIST","data"]),senddata:t.infodata.getIn(["SEND_SEC_CARD","data"]),sendpending:t.infodata.getIn(["SEND_SEC_CARD","pending"]),goBankData:t.infodata.getIn(["GO_BANK_PAGE","data"])}},R=function(t,e){return{loadCard:function(){t({type:"GET_BANK_BIND_LIST"})},load:function(e){t({type:e})},goBankPage:function(e){t({type:D.GO_BANK_PAGE,params:[e]})},send:function(e){t({type:"SEND_SEC_CARD",params:[{bankCard:e.Val,bankCode:e.code,bankName:e.bankName}]})},sendBank:function(e){var n=e.Val,a=e.code,o=e.bankName,l=e.icon;t({type:"IDENTITY_AUTH_SUCCESS",key:"SECURITY_CARD",data:{code:101,data:{number:n,code:a,name:o,icon:l}}})},clean:function(e){t({type:"CLEAR_INFO_DATA",key:e})},push:function(e){t((0,C.push)(e))},pop:function(){t((0,C.goBack)())},clearData:function(){t({type:"CLEAR_INFO_DATA",key:"SEND_SEC_CARD"})}}};e["default"]=(0,B.connect)(L,R)(G)},1509:function(t,e,n){e=t.exports=n(6)(),e.push([t.id,'.leftCav___2Jv50{display:inline-block;vertical-align:middle;padding-left:8px;line-height:44px}.bankInput___31bns{z-index:999;transition:all .5s linear;-moz-transition:all linear .5s;-webkit-transition:all .5s linear;-o-transition:all linear .5s}.bankInput___31bns,.sqBox___1e3ry{position:absolute;width:100%;height:100%;background-color:#f0eff5;left:0}.sqBox___1e3ry{z-index:99}.bankcardAddContent___3QQqO{width:100%;height:100%;position:absolute;padding-top:44px;overflow:auto}.bankcardAddContent___3QQqO .inputBox___2KKrp{padding-top:15px}.bankcardAddContent___3QQqO .inputBox___2KKrp .text___1CPJ9{padding:0 15px;font-size:14px;color:#888}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8{padding:0 15px;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;background-color:#fff;position:relative;min-height:44px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputContent___2s6rw{display:inline-block;font-size:14px;line-height:44px;margin-left:55px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputTitle___G8JDj{position:absolute;left:15px;line-height:44px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputJt___1cFte{width:18px;height:18px;position:absolute;right:-6px;top:50%;margin-top:-12px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputJt___1cFte:after{content:"";display:inline-block;border-width:10px;border-color:transparent transparent transparent #fff;border-style:solid;position:absolute;right:-1px;top:2px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputJt___1cFte:before{content:"";display:inline-block;border-width:12px;border-color:transparent transparent transparent #ccc;border-style:solid}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputOne___1Nni8 .inputTitleC___3tS6l{position:absolute;left:0;line-height:44px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputIcon___1IR0m{position:absolute;right:15px;top:50%;width:24px;height:24px;margin-top:-12px;background:url('+n(494)+") 50% no-repeat;background-size:100% 100%}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputSr___1rZCJ{border:0;padding-left:55px;font-size:14px;width:100%;outline:none;line-height:44px}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputCh___2pHnb{margin-bottom:12px;position:relative}.bankcardAddContent___3QQqO .inputBox___2KKrp .inputCh___2pHnb>img{position:absolute;left:0;top:50%;width:30px;margin-top:-15px}.bankcardAddContent___3QQqO .inputBox___2KKrp .mg___2WuR8{margin-top:12px}.bankcardAddContent___3QQqO .btBox___QQUUS{padding-left:15px;padding-right:15px;margin-top:12px}.bankcardAddContent___3QQqO .bt___3bBnn{width:100%;line-height:40px;text-align:center;background-color:#00a6e2;color:#fff;border:1px solid #00a6e2;border-radius:5px}.bankcardAddContent___3QQqO .bt___3bBnn[disabled]{border-color:#90d1ed;background-color:#90d1ed}.bankcardAddContent___3QQqO .bt___3bBnn>span{display:inline-block}.bankcardAddContent___3QQqO .bt1___wo99p{background-color:#fff;line-height:40px;text-align:center;border:1px solid #fff;border-radius:5px;margin-top:12px;width:100%}.bankcardAddContent___3QQqO .sqText___2rfk8{margin-top:50px}.bankcardAddContent___3QQqO .sqText___2rfk8>p{text-align:center;line-height:30px}.bankcardAddContent___3QQqO .sqText___2rfk8>.sqTel___Trc9m{font-size:14px}.bankcardAddContent___3QQqO .tsBox___1UdWl{padding:25px 15px}.bankcardAddContent___3QQqO .tsBox___1UdWl>ul{display:block;width:100%}.bankcardAddContent___3QQqO .tsBox___1UdWl>ul>li{display:inline-block;width:33.333%;padding:10px 8px}.bankcardAddContent___3QQqO .tsBox___1UdWl>ul>li>img{width:100%}.bankcardAddContent___3QQqO .tsBox___1UdWl>ul>li>p{text-align:center;font-size:12px;line-height:22px;color:#666}.bankcardAddContent___3QQqO .mg___2WuR8{margin-top:12px}.bankBox___3Niq4{position:absolute;width:100%;height:100%;background-color:#fff;left:0;top:0;z-index:999;transition:all .5s linear;-moz-transition:all linear .5s;-webkit-transition:all .5s linear;-o-transition:all linear .5s}.bankBox___3Niq4 .bankContent___QxEG-{position:absolute;padding-top:44px;width:100%;height:100%;overflow:auto}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu{display:block;width:100%;padding:12px 15px}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu .bank___11bkk{width:100%;display:inline-block;padding:5px 0;border-bottom:1px solid #ddd;position:relative}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu .bank___11bkk .bankImg___2MrPk{display:inline-block;width:30px;vertical-align:middle}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu .bank___11bkk .bankImg___2MrPk>img{width:100%}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu .bank___11bkk .bankText___YWQsu{margin-left:8px}.bankBox___3Niq4 .bankContent___QxEG- .bankList___3EbEu .bank___11bkk .choosed___3Lb4q{display:inline-block;width:16px;height:16px;background:url("+n(315)+") 50% no-repeat;background-size:100% 100%;position:absolute;right:15px;top:50%;margin-top:-8px}",""]),e.locals={leftCav:"leftCav___2Jv50",bankInput:"bankInput___31bns",sqBox:"sqBox___1e3ry",bankcardAddContent:"bankcardAddContent___3QQqO",inputBox:"inputBox___2KKrp",text:"text___1CPJ9",inputOne:"inputOne___1Nni8",inputContent:"inputContent___2s6rw",inputTitle:"inputTitle___G8JDj",inputJt:"inputJt___1cFte",inputTitleC:"inputTitleC___3tS6l",inputIcon:"inputIcon___1IR0m",inputSr:"inputSr___1rZCJ",inputCh:"inputCh___2pHnb",mg:"mg___2WuR8",btBox:"btBox___QQUUS",bt:"bt___3bBnn",bt1:"bt1___wo99p",sqText:"sqText___2rfk8",sqTel:"sqTel___Trc9m",tsBox:"tsBox___1UdWl",bankBox:"bankBox___3Niq4",bankContent:"bankContent___QxEG-",bankList:"bankList___3EbEu",bank:"bank___11bkk",bankImg:"bankImg___2MrPk",bankText:"bankText___YWQsu",choosed:"choosed___3Lb4q"}},1717:function(t,e,n){t.exports=n.p+"static/media/changeCard1.00fa55f0.png"},2110:[2319,1509]});