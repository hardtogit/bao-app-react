webpackJsonp([133],{64:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,u,c=n(2),s=a(c),f=n(5),p=a(f),d=n(3),_=a(d),h=n(4),m=a(h),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,s["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n(1),x=a(b),w=n(8),v=a(w),y=n(40),k=a(y),F=n(35),T=(a(F),n(34)),O=(a(T),n(51)),E=a(O),z=n(9),N=a(z),D=(u=r=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.setText=function(e){n.refs.text.setText(e)},n.state={text:n.props.text||""},n}return l(t,e),g(t,[{key:"show",value:function(e){this.setState({text:e}),this.refs.dialog.show()}},{key:"hide",value:function(){this.refs.dialog.hide()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=(this.state.options,k["default"][this.props.mode]);return x["default"].createElement(e,{ref:"dialog",closeOnClick:!1,className:E["default"].successDialog,contentStyle:{backgroundColor:"transparent"}},x["default"].createElement("div",{className:(0,v["default"])(E["default"].modal,E["default"].successModal)},x["default"].createElement("img",{src:n(75),style:{marginTop:30,width:30,height:30}}),x["default"].createElement("span",{className:E["default"].successTitle},this.state.text)))}}]),t}(x["default"].Component),r.propTypes={text:N["default"].string,mode:N["default"].oneOf(["OutlineModal","ScaleModal","FadeModal","FlyModal","DropModal","WaveModal"])},r.defaultProps={mode:"ScaleModal"},u);t["default"]=D},75:497,1176:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,u,c=n(2),s=a(c),f=n(5),p=a(f),d=n(3),_=a(d),h=n(4),m=a(h),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,s["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n(1),x=a(b),w=n(2120),v=a(w),y=n(12),k=a(y),F=n(42),T=a(F),O=n(26),E=a(O),z=n(1711),N=a(z),D=n(8),C=(a(D),n(64)),U=a(C),j=n(11),M=n(10),P=(u=r=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.submit=function(){if(!n.state.disable)if(n.refs.back.src&&n.refs.front.src){var e=new FormData,t=n.refs.file1.files[0],a=n.refs.file2.files[0];e.append("front",t),e.append("back",a),e.append("device","WAP"),n.refs.loading.show("处理中..."),n.props.upload(e)}else n.refs.alert.show({title:"",content:"请先选择您要上传的图片",okText:"确定",okCallback:function(){}})},n.changeOne=function(e){var t=e.target.files[0],a=new FileReader,i=t.name,o=/[^\s]+\.(jpg)/i;o.test(i)?(a.readAsDataURL(t),a.onload=function(e){n.refs.front.src=e.target.result}):(n.refs.front.src="",n.refs.alert.show({title:"",content:"上传文件格式错误，存管只支持jpg格式的图片。",okText:"确定",okCallback:function(){}})),n.ifPost()},n.changeTwo=function(e){var t=e.target.files[0],a=new FileReader,i=t.name,o=/[^\s]+\.(jpg)/i;o.test(i)?(a.readAsDataURL(t),a.onload=function(e){n.refs.back.src=e.target.result}):(n.refs.back.src="",n.refs.alert.show({title:"",content:"上传文件格式错误，只能为jpg格式的图片。",okText:"确定",okCallback:function(){}})),n.ifPost()},n.state={isOpen:!1,disable:!0,sendFlag:!0},n}return l(t,e),g(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.data&&(100==e.data.code?setTimeout(function(){t.refs.loading.hide(),t.props.update(),t.props.replace("/successTemplate?title=身份证上传成功&text=上传成功,已提交审核。")},5e3):(this.refs.loading.hide(),this.refs.alert.show({content:"上传失败",okText:"确定"})))}},{key:"componentWillUnmount",value:function(){}},{key:"ifPost",value:function(){this.refs.file1.files[0]&&this.refs.file2.files[0]?this.setState({disable:!1}):this.setState({disable:!0})}},{key:"render",value:function(){var e=this.props,t=e.pop,n=e.push;return x["default"].createElement("div",{className:v["default"].container},x["default"].createElement(k["default"],{onLeft:t,rightNode:x["default"].createElement("div",null,"说明"),onRight:function(){n("/user/IdCardUploadExplain")}},"身份证上传"),x["default"].createElement("div",{className:v["default"].tip},"开通存管后，第一次提现需要验证您的身份证。因涉及重要交易，请务必填写本人真实信息。"),x["default"].createElement("div",null,x["default"].createElement("div",{className:v["default"].content},x["default"].createElement("div",{className:v["default"].inputFileOne},x["default"].createElement("img",{className:v["default"].picture,ref:"front",src:"",alt:""}),x["default"].createElement("img",{className:v["default"].circle,src:N["default"],alt:""}),x["default"].createElement("div",{className:v["default"].text},"上传本人身份证(正)"),x["default"].createElement("input",{onChange:this.changeOne,ref:"file1",className:v["default"].input,type:"file"}))),x["default"].createElement("div",{className:v["default"].content},x["default"].createElement("div",{className:v["default"].inputFileTwo},x["default"].createElement("img",{className:v["default"].picture,ref:"back",src:"",alt:""}),x["default"].createElement("img",{className:v["default"].circle,src:N["default"],alt:""}),x["default"].createElement("div",{className:v["default"].text},"上传本人身份证(反)"),x["default"].createElement("input",{onChange:this.changeTwo,ref:"file2",className:v["default"].input,type:"file"}))),x["default"].createElement(T["default"],{className:v["default"].submit,disable:this.state.disable,onClick:this.submit,text:"确认上传"})),x["default"].createElement(U["default"],{ref:"loading"}),x["default"].createElement(E["default"],{ref:"alert"}))}}]),t}(b.Component),r.defaultProps={},u),S=function(e){return{data:e.infodata.getIn(["IDCARD_UPLOAD","data"]),countData:e.infodata.getIn(["STORE_STATUS_INFO","data"])}},A=function(e,t){return{pop:function(){e((0,M.goBack)())},upload:function(t){e({type:"IDCARD_UPLOAD",params:[t]})},update:function(){e({type:"STORE_STATUS_INFO"})},push:function(t){e((0,M.push)(t))},replace:function(t){e((0,M.replace)(t))}}};t["default"]=(0,j.connect)(S,A)(P)},1519:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".container___1Fpzg{position:absolute;width:100%;height:100%;left:0;top:0;overflow:auto;padding-top:44px;background-color:#fff}.container___1Fpzg .submit___31Oc7{width:90%;margin-left:5%;position:fixed;bottom:15px}.container___1Fpzg .tip___1ld1Q{color:#888;font-size:14px;line-height:1.4;padding:10px 15px;background-color:#f0eff5}.container___1Fpzg .inputFileOne___jpOaT{width:288px;overflow:hidden;margin:0 auto;height:180px;background-image:url("+n(1710)+");background-size:100% 100%;position:relative}.container___1Fpzg .inputFileOne___jpOaT input{width:100%;height:100%;opacity:0;position:absolute;z-index:22}.container___1Fpzg .inputFileOne___jpOaT .picture___3xP8u{width:290px;height:182px;top:-1px;left:-1px;position:absolute;border-radius:10px;border:0;z-index:10;display:block}.container___1Fpzg .inputFileOne___jpOaT .circle___270A-{width:80px;left:105px;top:30px;position:absolute}.container___1Fpzg .inputFileOne___jpOaT .text___3qDVm{position:absolute;text-align:center;width:100%;top:130px;color:#999}.container___1Fpzg .content___xdlYC{width:288px;background-color:#f0eff5;border-radius:10px;margin:0 auto;margin-top:30px}.container___1Fpzg .inputFileTwo___2OUze{width:288px;overflow:hidden;margin:0 auto;margin-bottom:70px;position:relative;height:180px;background-image:url("+n(1709)+");background-size:100% 100%}.container___1Fpzg .inputFileTwo___2OUze input{width:100%;height:100%;position:absolute;opacity:0;z-index:22}.container___1Fpzg .inputFileTwo___2OUze .picture___3xP8u{width:290px;height:182px;top:-1px;left:-1px;z-index:10;position:absolute;border-radius:10px;border:0;display:block}.container___1Fpzg .inputFileTwo___2OUze .circle___270A-{width:80px;left:105px;top:30px;position:absolute}.container___1Fpzg .inputFileTwo___2OUze .text___3qDVm{position:absolute;text-align:center;width:100%;top:130px;color:#999}",""]),t.locals={container:"container___1Fpzg",submit:"submit___31Oc7",tip:"tip___1ld1Q",inputFileOne:"inputFileOne___jpOaT",picture:"picture___3xP8u",circle:"circle___270A-",text:"text___3qDVm",content:"content___xdlYC",inputFileTwo:"inputFileTwo___2OUze"}},1709:function(e,t,n){e.exports=n.p+"static/media/IDcardDown.b79ec6df.png"},1710:function(e,t,n){e.exports=n.p+"static/media/IDcardUp.e9b1e639.png"},1711:function(e,t,n){e.exports=n.p+"static/media/addicon.a6a76fa6.png"},2120:function(e,t,n){var a=n(1519);"string"==typeof a&&(a=[[e.id,a,""]]);n(7)(a,{});a.locals&&(e.exports=a.locals)}});