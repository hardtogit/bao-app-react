webpackJsonp([44],{163:function(e,t,_){e.exports=_.p+"static/media/private2.47e3ef01.png"},940:function(e,t,_){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,_){return t in e?(0,p["default"])(e,t,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[t]=_,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,c["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=_(2),p=o(i),u=_(5),d=o(u),m=_(3),c=o(m),f=_(46),s=o(f),g=_(33),h=o(g),x=_(4),b=o(x),I=function(){function e(e,t){for(var _=0;_<t.length;_++){var o=t[_];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,p["default"])(e,o.key,o)}}return function(t,_,o){return _&&e(t.prototype,_),o&&e(t,o),t}}(),y=_(1),v=o(y),T=_(11),D=o(T),E=(_(19),_(2270)),N=o(E),R=_(10),S=_(9),w=_(17),k=o(w),C=_(21),z=(o(C),_(18)),L=o(z),F=_(23),H=o(F),B=_(1945),j=(o(B),_(163)),Q=o(j),V=_(14),M=o(V),Y=function(e){function t(e){n(this,t);var _=r(this,(t.__proto__||(0,b["default"])(t)).call(this,e));return _.handleChange1=function(e){_.setState({num:e.target.value})},_.changeBar=function(e,t){e<0?_.refs.alert.show({content:"数目不能小于0!",okText:"确定"}):e>t?_.refs.alert.show({content:"每人只限购"+t+"件!",okText:"确定"}):_.setState({num:e})},_.remove=function(){sessionStorage.removeItem("bao-product"),_.props.clearData()},_.dataInspect=function(){var e=sessionStorage.getItem("bao-product"),t=_.props.params.id;return!(!e||JSON.parse(e).id!=t)},_.setData=function(){var e=_.props.infoData.data;sessionStorage.setItem("bao-product",(0,h["default"])(e))},_.loadDom=function(){return v["default"].createElement(k["default"],null)},_.choose=function(e,t){var o=void 0;_.setState(function(_){o=(0,s["default"])(_.params,a({},e,t))})},_.confirm=function(e,t){for(var o=_.state,a=o.params,n=o.num,r=(o.type_name,[]),l="",i=0;i<a.length;i++)"undefined"!=typeof a[i]&&(r.push(a[i]),l=l+i+"|"+a[i]+"||");r.length<t.length?_.refs.alert.show({content:"请选择商品属性！！",okText:"确定"}):(sessionStorage.setItem("propertyStr",l),_.props.push("/find/productCash/"+e+"/"+n))},_.loadEndDom=function(e){var t=_.state,o=t.num,a=t.params,n=e.image,r=(e.product_id,e.product_name),l=e.product_info,i=e.price,p=e.alone_price,u=(e.stock,e.cash_limit_time,e.cash_limit_num),d=(e.label_name,e.product_property),m=e.down_time,c=e.server_time,f=L["default"].millisecondToDate(m-c);return v["default"].createElement("div",null,v["default"].createElement(D["default"],{backgroundColor:"#fff",color:"#333",onLeft:_.props.pop},r),v["default"].createElement("div",{className:N["default"].goodsTop},v["default"].createElement("div",{className:N["default"].goodsImg},v["default"].createElement("img",{src:n,className:N["default"].productImg}),v["default"].createElement("div",{className:N["default"].numDiv},v["default"].createElement("div",{className:N["default"].dayNum},"距结束",f))),v["default"].createElement("div",{className:N["default"].proTitle},v["default"].createElement("p",{className:N["default"].titleTop},v["default"].createElement("span",{className:N["default"].titieTxt},r),v["default"].createElement("span",{className:N["default"].limitTxt},"每人每天限购",u,"件")),v["default"].createElement("p",{className:N["default"].titleBottom},v["default"].createElement("span",{className:N["default"].priceTxt},p,"点币"),v["default"].createElement("img",{src:Q["default"],className:N["default"].priceImg}),v["default"].createElement("span",{className:N["default"].priceTxt1},i,"点币")))),v["default"].createElement("div",{className:N["default"].propertyDiv},v["default"].createElement("p",{className:N["default"].num1},"数量：",v["default"].createElement("span",{className:N["default"].num2},o)),v["default"].createElement("p",{className:N["default"].numSelect},v["default"].createElement("span",{onClick:function(){_.changeBar(o-1)}},"-"),v["default"].createElement("input",{type:"text",className:N["default"].productNum,value:_.state.num,onChange:_.handleChange1}),v["default"].createElement("span",{onClick:function(){_.changeBar(o+1,u)}},"+")),d&&d.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:item,t=e.type_name,o=e.property_value,n=e.id,r=arguments[1];return v["default"].createElement("div",{className:N["default"].propertyItem,key:r},v["default"].createElement("p",{className:N["default"].nump,ref:"property"},t,"：",v["default"].createElement("span",{className:N["default"].num2},a[n]&&a[n]||"选择")),v["default"].createElement("p",{className:N["default"].propertyValue},o.split("|").map(function(e,t){return v["default"].createElement("span",{key:t,onClick:function(){_.choose(n,e)},className:(0,M["default"])(a[n]==e?N["default"].current:"")},e)})))})),v["default"].createElement("div",{className:N["default"].detailImg},v["default"].createElement("p",{className:N["default"].infoTitle},"商品详情"),v["default"].createElement("div",{dangerouslySetInnerHTML:{__html:l},className:N["default"].infoContent})))},_.state={flag:!1,num:1,params:[],init:!1,index:0},_.handleChange1=_.handleChange1.bind(_),_}return l(t,e),I(t,[{key:"componentWillMount",value:function(){this.remove();var e=this.dataInspect();if(!e){var t=this.props.params.id;this.props.productDetail(t)}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.infoDate,_={};t&&100==t.code&&!this.state.init&&(t.data.product_property.map(function(e){var t=e.id;_[t]=""}),this.setState({params:_}))}},{key:"render",value:function(){var e=this,t=this.props.infoData,_=this.dataInspect(),o=this.loadDom();return t&&(o=this.loadEndDom(t.data),this.setData()),_&&(o=this.loadEndDom()),v["default"].createElement("div",{className:N["default"].bg},o,v["default"].createElement(H["default"],{ref:"alert"}),v["default"].createElement("div",{className:N["default"].Botton},v["default"].createElement("p",{onClick:function(){e.confirm(t.data.product_id,t.data.product_property)}},"确认兑换")))}}]),t}(v["default"].Component),W=function(e){return{infoData:e.infodata.getIn(["PRODUCT_DETAIL","data"])}},X=function(e){return{pop:function(){e((0,S.goBack)())},productDetail:function(t){e({type:"PRODUCT_DETAIL",params:[t]})},push:function(t){e((0,S.push)(t))},clearData:function(){e({type:"CLEAR_INFO_DATA",key:"PRODUCT_DETAIL"})}}};t["default"]=(0,R.connect)(W,X)(Y)},1438:function(e,t,_){t=e.exports=_(6)(),t.push([e.id,".bg___7ImRl{background:#f6f6f9;position:absolute;left:0;top:0;overflow:auto;width:100%;height:100vh;padding-top:44px}.bg___7ImRl .goodsTop___3DeSH{width:100%;background-color:#fff}.bg___7ImRl .goodsTop___3DeSH .goodsImg___1-y8x{width:96%;margin:0 auto;height:240px;border-bottom:1px solid #dedede;text-align:center;position:relative}.bg___7ImRl .goodsTop___3DeSH .goodsImg___1-y8x .productImg___1FVKJ{width:45%;margin:0 auto}.bg___7ImRl .goodsTop___3DeSH .goodsImg___1-y8x .numDiv___2fbCb{width:100%;position:absolute;bottom:0}.bg___7ImRl .goodsTop___3DeSH .goodsImg___1-y8x .dayNum___1XiCn{width:110px;margin:0 auto;height:20px;line-height:20px;font-size:12px;color:#fff;background-color:#858585}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ{width:100%;padding:15px 17px}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleTop___2YIE_{height:15px;line-height:15px;font-size:12px;color:#333}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleTop___2YIE_ .titieTxt___i9RIg{float:left}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleTop___2YIE_ .limitTxt___3w1wO{float:right}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleBottom___2zdln{height:40px;line-height:40px}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleBottom___2zdln .priceTxt___FHVjL{font-size:18px;color:#333;margin-right:5px}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleBottom___2zdln .priceImg___1_A5n{width:30px}.bg___7ImRl .goodsTop___3DeSH .proTitle___tzeLQ .titleBottom___2zdln .priceTxt1___nvbEq{color:#666;font-size:12px;text-decoration:line-through;margin-left:25px}.bg___7ImRl .propertyDiv___1mF4g{width:100%;background-color:#fff;padding:15px 17px;font-size:14px;margin-top:10px}.bg___7ImRl .propertyDiv___1mF4g .num1___3-PZD{font-size:14px}.bg___7ImRl .propertyDiv___1mF4g .num2___1gcfe{color:#666}.bg___7ImRl .propertyDiv___1mF4g .numSelect___1_Nhy{height:40px;padding:5px 0}.bg___7ImRl .propertyDiv___1mF4g .numSelect___1_Nhy span{float:left;width:30px;height:30px;border:1px solid #999;border-radius:3px;margin:0 3px;margin-top:5px;text-align:center;line-height:30px}.bg___7ImRl .propertyDiv___1mF4g .numSelect___1_Nhy .productNum___QQKmY{outline:none;float:left;width:40px;height:30px;border:1px solid #999;border-radius:3px;margin:0 3px;margin-top:5px;text-align:center;line-height:30px}.bg___7ImRl .propertyDiv___1mF4g .propertyItem___20MjS .nump___1e88a{font-size:14px;margin-top:20px}.bg___7ImRl .propertyDiv___1mF4g .propertyItem___20MjS .propertyValue___2_Y8e{height:40px;padding:5px 0}.bg___7ImRl .propertyDiv___1mF4g .propertyItem___20MjS .propertyValue___2_Y8e .current___3tXlb,.bg___7ImRl .propertyDiv___1mF4g .propertyItem___20MjS .propertyValue___2_Y8e span{float:left;padding:0 10px;border:1px solid #999;border-radius:3px;margin:0 3px;margin-top:5px;text-align:center;line-height:30px}.bg___7ImRl .propertyDiv___1mF4g .propertyItem___20MjS .propertyValue___2_Y8e .current___3tXlb{background-color:#fe684b;color:#fff}.bg___7ImRl .detailImg___XnjND{background:#fff}.bg___7ImRl .detailImg___XnjND .infoTitle___3VZcU{padding-left:20px}.bg___7ImRl .detailImg___XnjND .infoContent___25Lvo{padding:0 20px}.bg___7ImRl .Botton___r8WIW{position:fixed;width:100%;height:80px;bottom:0;text-align:center;background-color:#fff;padding-top:15px}.bg___7ImRl .Botton___r8WIW p{width:80%;margin:0 auto;height:46px;line-height:46px;background-color:#fe684b;color:#fff;border-radius:28px;box-shadow:0 5px 2px #fea999}",""]),t.locals={bg:"bg___7ImRl",goodsTop:"goodsTop___3DeSH",goodsImg:"goodsImg___1-y8x",productImg:"productImg___1FVKJ",numDiv:"numDiv___2fbCb",dayNum:"dayNum___1XiCn",proTitle:"proTitle___tzeLQ",titleTop:"titleTop___2YIE_",titieTxt:"titieTxt___i9RIg",limitTxt:"limitTxt___3w1wO",titleBottom:"titleBottom___2zdln",priceTxt:"priceTxt___FHVjL",priceImg:"priceImg___1_A5n",priceTxt1:"priceTxt1___nvbEq",propertyDiv:"propertyDiv___1mF4g",num1:"num1___3-PZD",num2:"num2___1gcfe",numSelect:"numSelect___1_Nhy",productNum:"productNum___QQKmY",propertyItem:"propertyItem___20MjS",nump:"nump___1e88a",propertyValue:"propertyValue___2_Y8e",current:"current___3tXlb",detailImg:"detailImg___XnjND",infoTitle:"infoTitle___3VZcU",infoContent:"infoContent___25Lvo",Botton:"Botton___r8WIW"}},1945:function(e,t,_){e.exports=_.p+"static/media/product.6c735755.png"},2270:[2483,1438]});