webpackJsonp([95],{984:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,s["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(u["default"]?(0,u["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),_=a(l),c=n(5),u=a(c),p=n(3),s=a(p),f=n(4),d=a(f),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,_["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=n(1),m=a(h),x=n(9),g=n(8),y=n(10),O=a(y),w=n(45),v=a(w),E=n(26),k=a(E),z=n(21),A=a(z),I=n(58),K=a(I),T=n(18),J=a(T),N=n(104),S=a(N),C=n(13),B=a(C),P=n(2357),Y=a(P),M=window.location.origin,Z=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||(0,d["default"])(t)).call(this,e));return n.closeFn=function(){n.setState({payTop:"100%"})},n.recChange=function(e){var t=e.target.value,a=/^-?\d*\.?\d*$/;n.setState({recMoney:t}),a.test(t)&&""!=t?n.setState({disabled:!1}):(n.openTipbar("请输入正确的充值金额！"),n.setState({disabled:!0}))},n.submit=function(){n.setState({submite:!0}),n.props.submit()},n.state={recMoney:"",disabled:!0,submite:!1,payTop:"100%"},n}return i(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.cookie;if(t){var n=this.state.submite,a=this.state.recMoney,o=2,r="platform";n&&100==t.code?this.setState({submite:!1,payTop:"0px",url:J["default"].combineUrl(M+"/mobile_api/pay",{money:a,type:o,access_sys:r})}):n&&(this.setState({submite:!1}),this.openTipbar("提交失败!"))}}},{key:"render",value:function(){var e=this.props,t=e.pop,n=(e.push,e.userInfo,this.state),a=n.recMoney,o=n.disabled;return m["default"].createElement("div",{className:Y["default"].container},m["default"].createElement(v["default"],{ref:"store"}),m["default"].createElement(O["default"],{onLeft:t},"充值"),m["default"].createElement("div",{className:Y["default"].content},m["default"].createElement("div",{className:Y["default"].inputBox},m["default"].createElement("div",{className:Y["default"].recInput},m["default"].createElement("span",null,"充值金额"),m["default"].createElement("span",null,m["default"].createElement("input",{placeholder:"请输入金额",value:a,onChange:this.recChange})),m["default"].createElement("span",null,"元")),m["default"].createElement("div",{className:(0,B["default"])(Y["default"].recInput,Y["default"].recName)},"连连支付"),m["default"].createElement("button",{className:Y["default"].buttonNext,disabled:o,onClick:this.submit},"下一步")),m["default"].createElement(k["default"],{ref:"tipbar"}),m["default"].createElement(A["default"],{ref:"alert"}),m["default"].createElement(K["default"],{ref:"isAuth"})),m["default"].createElement("div",{className:Y["default"].rechargeBox,style:{top:this.state.payTop}},m["default"].createElement(S["default"],{url:this.state.url,closeFn:this.closeFn,ref:"pay"})))}}]),t}(h.Component),j=function(e){return{userInfo:e.infodata.getIn(["USER_INFO","data"]),cookie:e.infodata.getIn(["AUTH_COOKIE","data"])}},R=function(e){return{pop:function(){e((0,g.goBack)())},push:function(t){e((0,g.push)(t))},submit:function(){e({type:"AUTH_COOKIE"})}}};t["default"]=(0,x.connect)(j,R)(Z)},1485:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".container___1A6tK{position:absolute;width:100%;height:100%;left:0;top:0;overflow:auto;padding-top:44px;background-color:#f0eff5}.container___1A6tK .content___6zOJp .inputBox___2eotJ{padding-top:30px}.container___1A6tK .content___6zOJp .recInput___a4ZsP{background-color:#fff;border:1px solid #e4e4e4;height:44px;padding:0 15px;border-left:0;border-right:0;display:-webkit-box;display:-ms-flexbox;display:flex}.container___1A6tK .content___6zOJp .recInput___a4ZsP span{-webkit-box-flex:1;-ms-flex:1;flex:1;line-height:44px;font-size:14px;color:#888}.container___1A6tK .content___6zOJp .recInput___a4ZsP span:first-child{-webkit-box-flex:60px;-ms-flex:60px 0;flex:60px 0}.container___1A6tK .content___6zOJp .recInput___a4ZsP span:last-child{-webkit-box-flex:40px;-ms-flex:40px 0;flex:40px 0;text-align:center}.container___1A6tK .content___6zOJp .recInput___a4ZsP input{height:38px;outline:none;margin-left:8px;width:100%}.container___1A6tK .content___6zOJp .rechargeTitle___GSOHi{padding-left:15px}.container___1A6tK .content___6zOJp .recName___1SI_Y{margin-top:20px;margin-bottom:10px;line-height:44px;font-size:16px;color:#00a6e2}.container___1A6tK .content___6zOJp .buttonNext___2jTOY{display:block;width:70%;margin:0 auto;font-size:16px;background:#00a6e2;border:1px solid #00a6e2;color:#fff;height:44px;border-radius:3px}.container___1A6tK .content___6zOJp .buttonNext___2jTOY[disabled]{background-color:#90d2ed;border:1px solid #90d2ed}.container___1A6tK .content___6zOJp .detailContent___3T6Ym{margin-top:59px}.container___1A6tK .content___6zOJp .detail___3OqRD{font-size:14px;color:#fff}.container___1A6tK .content___6zOJp .iframe___2Qwg9{width:100%;height:100%;border:0}.container___1A6tK .rechargeBox___3VktQ{position:absolute;left:0;top:100%;width:100%;background-color:#f0eff5;height:100%;transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s;padding-top:44px}",""]),t.locals={container:"container___1A6tK",content:"content___6zOJp",inputBox:"inputBox___2eotJ",recInput:"recInput___a4ZsP",rechargeTitle:"rechargeTitle___GSOHi",recName:"recName___1SI_Y",buttonNext:"buttonNext___2jTOY",detailContent:"detailContent___3T6Ym",detail:"detail___3OqRD",iframe:"iframe___2Qwg9",rechargeBox:"rechargeBox___3VktQ"}},2357:[2577,1485]});