webpackJsonp([0],{28:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,p["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(_["default"]?(0,_["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,s,c=a(2),d=n(c),u=a(5),_=n(u),f=a(3),p=n(f),m=a(4),b=n(m),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(1),g=n(x),E=a(8),y=n(E),v=a(30),T=n(v),N=a(9),R=n(N),k=(s=r=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,b["default"])(t)).call(this,e));return a.state={disable:!0,message:""},a}return i(t,e),h(t,[{key:"open",value:function(e,t){var a=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){a.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:g["default"].createElement("div",{className:(0,y["default"])(T["default"].Tipbar,this.props.className)},g["default"].createElement("span",{className:T["default"].text},this.state.message||this.props.text))}}]),t}(g["default"].Component),r.propTypes={text:R["default"].string},s);t["default"]=k},29:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".Tipbar___3HZ5q{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___3HZ5q .text___KcEzd{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___3HZ5q",text:"text___KcEzd"}},30:[2322,29],406:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),s=n(r),c=a(5),d=n(c),u=a(3),_=n(u),f=a(4),p=n(f),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=a(1),h=n(b),x=a(12),g=n(x),E=a(2098),y=n(E),v=a(1882),T=n(v),N=a(8),R=n(N),k=a(22),I=n(k),B=a(11),w=a(21),S=a(28),C=n(S),D=a(26),L=n(D),O=a(79),P=n(O),X=a(10),z=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||(0,p["default"])(t)).call(this,e));return a.alert=function(){a.refs.alert.show({content:"投资人在90天以上可以进行债权转让，投资人转让直投标的统一收取2%的债权转让管理费，具体金额以债权转让页面显示为准，债权转让管理费在成交后直接从成交金额中扣除，不成交平台不向用户收取转让管理费。",okText:"知道了"})},a.change=function(e){var t=e.target.value,n=/^\d+(\.\d{1,2})?$/,l=a.props.infoData;if(n.test(t))if(t>parseFloat(l.data.amount))a.refs.tipbar.open("转让价格不能高于转让价值！"),a.setState({disabled:!0,money:0});else if(t<42.5)a.refs.tipbar.open("转让率不能低于15%!"),a.setState({disabled:!0,money:0});else{var o=parseFloat(l.data.amount)/50;a.setState({disabled:!1,money:(t-1)*o+parseFloat(l.data.transfer_collection_interest)})}else a.refs.tipbar.open("请输入正确的格式!"),a.setState({disabled:!0,money:0});a.setState({val:t})},a.send=function(){var e=a.props.params.id,t=a.state.val;a.props.send(e,t)},a.componentWillReceiveProps=function(e){var t=e.resDate,n=e.push;t&&(300==t.code?a.refs.alert.show({title:"转让失败",okText:"返回"}):100==t.code&&a.refs.success.show({text:"转让成功",callback:function(){n("/user/projectRecorde")}}))},a.ifScan=function(e){a.state.checkBox?a.setState({checkBox:!1}):a.setState({checkBox:!0})},a.loadDom=function(){return h["default"].createElement(I["default"],null)},a.loadEndDom=function(){var e=a.props,t=e.infoData.data,n=e.contractData,l=t.amount,o=t.months_left,i=t.transfer_collection_interest,r=t.name,s=a.state,c=s.val,d=s.disabled,u=s.money,_=s.checkBox,f=!0;return d||(f=!_),h["default"].createElement("div",null,h["default"].createElement("div",{className:y["default"].content},h["default"].createElement("div",{className:y["default"].information},h["default"].createElement("div",{className:y["default"].title},h["default"].createElement("img",{src:T["default"]}),h["default"].createElement("span",null,r)),h["default"].createElement("div",{className:y["default"].detailed},h["default"].createElement("div",{className:y["default"].detailedBox},h["default"].createElement("p",{className:y["default"].Text},"持有金额"),h["default"].createElement("p",{className:y["default"].money},l,"元")),h["default"].createElement("div",{className:y["default"].detailedBox},h["default"].createElement("p",{className:y["default"].Text},"剩余期限"),h["default"].createElement("p",{className:y["default"].money},o,"个月")))),h["default"].createElement("div",{className:y["default"].InputBox},h["default"].createElement("div",{className:(0,R["default"])(y["default"].one,y["default"].borderBottom)},h["default"].createElement("span",{className:y["default"].label},"转让价值"),h["default"].createElement("span",{className:y["default"].controll},"50.00"),h["default"].createElement("span",{className:y["default"].company},"元/份")),h["default"].createElement("div",{className:y["default"].one},h["default"].createElement("span",{className:(0,R["default"])(y["default"].label,y["default"].colorB)},"转让价格"),h["default"].createElement("span",{className:y["default"].controll},h["default"].createElement("input",{className:y["default"].Input,type:"text",placeholder:"不得高于转让价值",onChange:a.change,value:c})),h["default"].createElement("span",{className:y["default"].company},"元/份"))),h["default"].createElement("p",{className:y["default"].describe},"为促进转让进度,可折价转让,折价率为0%-15%,折价率越高，越容易转让成功。"),h["default"].createElement("div",{className:y["default"].describeList},h["default"].createElement("div",{className:y["default"].describeOne,onClick:a.alert},h["default"].createElement("span",{className:y["default"].label},"手续费",h["default"].createElement("span",null,"（元）")),h["default"].createElement("span",{className:y["default"].textR},parseFloat(.02*l).toFixed(2))),h["default"].createElement("div",{className:y["default"].describeOne},h["default"].createElement("span",{className:y["default"].label},"转让待收利息",h["default"].createElement("span",null,"（元）")),h["default"].createElement("span",{className:y["default"].textR},i)),h["default"].createElement("div",{className:y["default"].describeOne},h["default"].createElement("span",{className:y["default"].label},"实际到账金额",h["default"].createElement("span",null,"（元）")),h["default"].createElement("span",{className:y["default"].textR},u))),h["default"].createElement("p",{className:y["default"].hetong},h["default"].createElement("input",{type:"checkbox",onClick:a.ifScan,checked:a.state.checkBox}),"我已阅读并同意",n&&n.data.map(function(e,t){return h["default"].createElement(w.Link,{key:t,to:"/emptyTemplate/"+(e.hetong_type?e.hetong_type:0)+"?name="+encodeURIComponent(e.hetong_name),className:y["default"].protocol},"《",e.hetong_name,"》")}))),h["default"].createElement("button",{className:y["default"].buttom,disabled:f,onClick:a.send},"确认转让"))},a.go=function(){a.props.push("/user/zqTransferRule")},a.state={disabled:!0,val:"",money:0,checkBox:!0},a}return i(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.get,a=e.params.id,n=e.location.query.access_sys;t(a,n);var l=void 0;l=n?"B":"E",this.props.getEmptyContractsList(l)}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){var e=this.props,t=e.infoData,a=e.pop,n=this.loadDom(),l=void 0;return t&&(n=this.loadEndDom(),1==t.data.isTransfer&&(l=h["default"].createElement("span",null,"规则"))),h["default"].createElement("div",{className:y["default"].bg},h["default"].createElement(g["default"],{onLeft:a,rightNode:l,onRight:l&&this.go||null},"债权转让"),n,h["default"].createElement(C["default"],{ref:"tipbar"}),h["default"].createElement(L["default"],{ref:"alert"}),h["default"].createElement(P["default"],{ref:"success"}))}}]),t}(b.Component),F=function(e){return{infoData:e.infodata.getIn(["DIRECT_INVEST_PROPERTY_DETAIL","data"]),resDate:e.infodata.getIn(["DIRECT_INVEST_TRANSFER","data"]),contractData:e.infodata.getIn(["GET_EMPTY_CONTRACTS_LIST","data"])}},A=function(e){return{getEmptyContractsList:function(t){e({type:"GET_EMPTY_CONTRACTS_LIST",params:[{product_type:t}]})},get:function(t,a){e({type:"DIRECT_INVEST_PROPERTY_DETAIL",params:[t,a]})},send:function(t,a){e({type:"DIRECT_INVEST_TRANSFER",params:[{id:t,amount:a}]})},clear:function(){e({type:"CLEAR_INFO_DATA",key:"DIRECT_INVEST_TRANSFER"})},push:function(t){e((0,X.push)(t))},pop:function(){e((0,X.goBack)())}}};t["default"]=(0,B.connect)(F,A)(z)},1497:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".bg___393py{position:absolute;left:0;top:0;width:100%;height:100%;overflow:auto;padding-top:44px;padding-bottom:44px}.information___3oXco{background-color:#00a6e2;padding:20px 15px}.information___3oXco .title___3QnvM{font-size:15px;color:#fff}.information___3oXco .title___3QnvM img{width:15px;margin-right:10px}.information___3oXco .title___3QnvM img,.information___3oXco .title___3QnvM span{display:inline-block;vertical-align:middle}.detailed___3gyKv{margin-top:30px}.detailed___3gyKv .detailedBox___-6oCI{display:inline-block;width:50%}.detailed___3gyKv .detailedBox___-6oCI .Text___4Paxy{font-size:11px;color:#fff}.detailed___3gyKv .detailedBox___-6oCI .money___3VEqd{padding-top:12px;font-size:25px;color:#fff}.InputBox___RonXR{border-top:1px solid #e4e4e4;margin-top:15px;margin-bottom:10px;padding:0 15px;border-bottom:1px solid #e4e4e4;background-color:#fff}.InputBox___RonXR .one___22iT1{padding:12px 0;position:relative}.InputBox___RonXR .one___22iT1 .label___lym5j{color:#888;font-size:14px;display:inline-block;padding-right:10px}.InputBox___RonXR .one___22iT1 .controll___4kmdI{position:absolute;left:80px;right:70px;display:inline-block;top:0;line-height:44px}.InputBox___RonXR .one___22iT1 .company___3lQe0{float:right}.InputBox___RonXR .one___22iT1 .Input___1Qz98{width:100%;display:inline-block;height:39px;padding:0;outline:none;border:0}.describe___1hQnA{padding:5px 15px;font-size:14px;color:#888}.describeList___2FtHp{margin-top:10px;background-color:#fff;padding:0 15px}.describeList___2FtHp .describeOne___3K7Pv .label___lym5j{display:inline-block;line-height:44px;font-size:12px;color:#626262}.describeList___2FtHp .describeOne___3K7Pv .label___lym5j span{margin-left:5px}.describeList___2FtHp .describeOne___3K7Pv .textR___1e_nR{display:inline-block;line-height:44px;font-size:12px;float:right}.borderBottom___2hBc6{border-bottom:1px solid #e4e4e4}.buttom___1fIaN{position:fixed;left:0;bottom:0;color:#fff;background-color:#00a6e2;height:44px;line-height:44px;text-align:center;width:100%;border:0}.buttom___1fIaN[disabled]{background-color:#99dbf3}.colorB___hSX0c{color:#000!important}.hetong___Ln-rk{padding:0 15px;margin-top:10px;font-size:14px}",""]),t.locals={bg:"bg___393py",information:"information___3oXco",title:"title___3QnvM",detailed:"detailed___3gyKv",detailedBox:"detailedBox___-6oCI",Text:"Text___4Paxy",money:"money___3VEqd",InputBox:"InputBox___RonXR",one:"one___22iT1",label:"label___lym5j",controll:"controll___4kmdI",company:"company___3lQe0",Input:"Input___1Qz98",describe:"describe___1hQnA",describeList:"describeList___2FtHp",describeOne:"describeOne___3K7Pv",textR:"textR___1e_nR",borderBottom:"borderBottom___2hBc6",buttom:"buttom___1fIaN",colorB:"colorB___hSX0c",hetong:"hetong___Ln-rk"}},1882:function(e,t,a){e.exports=a.p+"static/media/zricon.5bec8906.png"},2098:function(e,t,a){var n=a(1497);"string"==typeof n&&(n=[[e.id,n,""]]);a(7)(n,{});n.locals&&(e.exports=n.locals)}});