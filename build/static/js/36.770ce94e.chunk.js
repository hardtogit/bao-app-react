webpackJsonp([36],{20:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,c,s=n(2),u=o(s),f=n(5),p=o(f),_=n(3),d=o(_),x=n(4),m=o(x),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,u["default"])(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=n(1),g=o(b),y=n(11),v=o(y),k=n(22),C=o(k),w=n(12),T=o(w),I=(c=l=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.state={disable:!0,message:""},n}return r(t,e),h(t,[{key:"open",value:function(e,t){var n=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){n.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:g["default"].createElement("div",{className:(0,v["default"])(C["default"].Tipbar,this.props.className)},g["default"].createElement("span",{className:C["default"].text},this.state.message||this.props.text))}}]),t}(g["default"].Component),l.propTypes={text:T["default"].string},c);t["default"]=I},21:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".Tipbar___3HZ5q{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___3HZ5q .text___KcEzd{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___3HZ5q",text:"text___KcEzd"}},22:[2363,21],33:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"a{text-decoration:none}.ml0___26vaQ{margin-left:0}.mt15___35Rs9{margin-top:15px}.mt30___OrVm4{margin-top:30px}.topBar___Pk-GL{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;padding-left:15px;padding-right:15px;margin-top:14px}.topBarLeft___2TWUf{text-align:left;color:#00a6e2}.topBarLeft___2TWUf,.topBarRight___1GNjc{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;font-size:16px}.topBarRight___1GNjc{text-align:right}.markTitle___1DU2v{margin-top:34px;margin-bottom:40px;font-size:25px;color:#000;text-align:center;display:block}.panel___1TQF9{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-o-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background-color:#f0eff5;padding-top:44px}.panelContent___2-VJ3{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;overflow-y:scroll}.buttonWrap___xK3fa{margin-top:40px;margin-left:15px;margin-right:15px}.loading___3vaX4{width:100%;text-align:center;color:#fff;font-size:18px}.loading___3vaX4,.loading___3vaX4>span{display:inline-block}.center___xD4uH{text-align:center}.content___SZovH{position:absolute;left:0;padding-top:44px;top:0;width:100%;height:100%;background-color:#fff}.tip___GGjLC{left:0}",""]),t.locals={ml0:"ml0___26vaQ",mt15:"mt15___35Rs9",mt30:"mt30___OrVm4",topBar:"topBar___Pk-GL",topBarLeft:"topBarLeft___2TWUf",topBarRight:"topBarRight___1GNjc",markTitle:"markTitle___1DU2v",panel:"panel___1TQF9",panelContent:"panelContent___2-VJ3",buttonWrap:"buttonWrap___xK3fa",loading:"loading___3vaX4",center:"center___xD4uH",content:"content___SZovH",tip:"tip___GGjLC"}},34:function(e,t,n){var o=n(33);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},107:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,c,s=n(2),u=o(s),f=n(5),p=o(f),_=n(3),d=o(_),x=n(4),m=o(x),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,u["default"])(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=n(1),g=o(b),y=n(11),v=o(y),k=n(29),C=(o(k),n(131)),w=o(C),T=n(12),I=o(T),E=(c=l=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.handleAppStateChange=function(e){if("inactive"==e)n.exitTime=(new Date).getTime();else if("background"==e)n.exitTime=(new Date).getTime();else if("active"==e){if(!n.exitTime)return!1;var t=Math.round(((new Date).getTime()-n.exitTime)/1e3);t<=n.state.count?n.setState({count:n.state.count-t}):(n.setState({active:!0,count:0}),clearInterval(n.interval))}},n.state={active:!0,count:0,text:"发送验证码",time:0},n.exitTime="",n}return r(t,e),h(t,[{key:"tick",value:function(){var e=this.state,t=e.count,n=e.time;t>0?this.setState({count:t-1}):(this.setState({active:!0,time:n+1}),clearInterval(this.interval))}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.interval=setInterval(this.tick.bind(this),1e3)})},{key:"handleClick",value:function(){this.state.active&&(this.setState({active:!1,count:this.props.countdown||this.props.countdown}),this.setInterval(),this.props.onClick&&0==this.props.onClick()&&this.setState({active:!0,count:0}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderActiveStatus",value:function(){var e=this.props,t=e.label,n=e.init,o=this.state,a=o.text,i=o.time,r=t;return n&&0==i&&(r=a),g["default"].createElement("div",{className:(0,v["default"])(w["default"].verifyCode,this.props.className),style:this.props.containerStyle,onClick:this.handleClick.bind(this)},g["default"].createElement("span",{className:w["default"].text,style:this.props.textStyle},r))}},{key:"renderUnactiveStatus",value:function(e){var t=(this.props.format||this.props.format).replace(/\$time/,e);return g["default"].createElement("div",{className:(0,v["default"])(w["default"].verifyCode,w["default"].verifyCodeDisable,this.props.className),style:this.props.containerDisableStyle},g["default"].createElement("span",{className:(0,v["default"])(w["default"].text,w["default"].textDisable),style:this.props.textDisableStyle},t))}},{key:"render",value:function(){return this.state.active?this.renderActiveStatus(w["default"]):this.renderUnactiveStatus(this.state.count,w["default"])}},{key:"open",value:function(){this.handleClick()}}]),t}(g["default"].Component),l.propTypes={label:I["default"].string,countdown:I["default"].number,format:I["default"].string,onClick:I["default"].func,containerStyle:I["default"].object,containerDisableStyle:I["default"].object,textStyle:I["default"].object,textDisableStyle:I["default"].object},l.defaultProps={label:"重新发送",countdown:60,format:"$timeS"},c);t["default"]=E},118:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".verifyCode___Uzxdc{width:122px;height:44px;background-color:#00a7e1;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center}.verifyCodeDisable___2Z2aU{background-color:#45c4f0;border-color:#45c4f0;border-width:0}.verifyCodeWrap___1VtJo{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1}.text___11IRh{font-size:14px;text-align:center;color:#fff;display:block;width:100%}.textDisable___2ZcCA{color:#87dfff}",""]),t.locals={verifyCode:"verifyCode___Uzxdc",verifyCodeDisable:"verifyCodeDisable___2Z2aU",verifyCodeWrap:"verifyCodeWrap___1VtJo",text:"text___11IRh",textDisable:"textDisable___2ZcCA"}},131:[2363,118],231:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".header___3xtGI{background-color:#fff}.agreement___VFNJ4{text-align:center;margin-top:20px;color:#626262;font-size:12px}.agreement___VFNJ4 .agreementText___e73DU{color:#00a6e2;margin:0 5px}.Icon___3I_g4{margin-right:15px}.Icon___3I_g4 img{width:20px}.suBody___1dES3{position:absolute;background-color:#fff;height:100%;width:100%;overflow:auto}.suMs____cL6o{margin-top:50px;font-size:13px;color:#666;text-align:center}.suMs____cL6o span{font-size:17px;color:#f13e15;display:inline-block}.buttonBox___1aaLo{margin-top:15px;margin-bottom:20px;text-align:center}.buttonBox___1aaLo .button___Xa8_J{display:inline-block;width:70%;text-align:center;padding:8px 0;background-color:#f70;border-radius:30px;color:#fff;font-size:18px}.suTitle___3sEPq{margin-top:71px;font-size:25px;text-align:center}.suText___BkysP{text-align:center;margin-top:40px;font-size:15px;color:#666}.suImg___2U1hH{margin-top:20px;text-align:center}.suImg___2U1hH img{width:80%}.backImg___ZXEIP{width:10px;height:20px;margin-left:15px;margin-top:12px}.buttonWrap___3CzK-{margin:30px 15px 0}.content___77_V5{top:0}.content___77_V5,.InputBox___ra5CY{padding-top:44px;position:absolute;left:0;width:100%;height:100%;background-color:#fff}.inputWrap___3aDzy{margin:30px 0 0 15px}.textContent___3ky-q{padding-left:15px;padding-top:10px;padding-right:6px;color:#888;font-size:14px}.protocol___2y0hp{color:#00a6e2}",""]),t.locals={header:"header___3xtGI",agreement:"agreement___VFNJ4",agreementText:"agreementText___e73DU",Icon:"Icon___3I_g4",suBody:"suBody___1dES3",suMs:"suMs____cL6o",buttonBox:"buttonBox___1aaLo",button:"button___Xa8_J",suTitle:"suTitle___3sEPq",suText:"suText___BkysP",suImg:"suImg___2U1hH",backImg:"backImg___ZXEIP",buttonWrap:"buttonWrap___3CzK-",content:"content___77_V5",InputBox:"InputBox___ra5CY",inputWrap:"inputWrap___3aDzy",textContent:"textContent___3ky-q",protocol:"protocol___2y0hp"}},252:function(e,t,n){var o=n(231);"string"==typeof o&&(o=[[e.id,o,""]]);n(7)(o,{});o.locals&&(e.exports=o.locals)},320:function(e,t,n){e.exports=n.p+"static/media/regBack.f08fc33c.png"},1158:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f["default"]?(0,f["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),s=a(c),u=n(5),f=a(u),p=n(3),_=a(p),d=n(4),x=a(d),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,s["default"])(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(1),b=a(h),g=n(9),y=n(8),v=n(88),k=a(v),C=n(31),w=a(C),T=n(10),I=a(T),E=n(72),S=a(E),D=n(107),B=a(D),V=n(20),N=a(V),z=n(252),U=a(z),P=n(34),R=a(P),W=n(23),M=o(W),j=n(24),H=a(j),L=n(320),A=a(L),G=n(1921),Z=a(G),J=n(17),q=a(J),F=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||(0,x["default"])(t)).call(this,e));return n.onValid=function(){if(n.props.checkVerifyCaptchaPending)return!1;var e=n.refs.form.getValue();n.props.checkVerifyCaptcha(n.props.mobile,e.captcha)},n.onInvalid=function(e,t,o){n.setState({errorMessage:o})},n.openTipbar=function(e){n.refs.tipbar.open(e)},n.sendVerifyCode=function(){var e=n.props,t=e.goVerifyCode,o=e.mobile;t(o)},n.state={init:!0,flage:!0},n}return l(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mobile,n=e.go;t?this.refs.verifyCode.open():this.refs.alert.show({content:"请先进行手机号验证",okText:"确定",okCallback:function(){n("/register")}}),this.setState({flage:!1})}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.data;t&&(100==t.code&&this.state.init&&(this.props.savenum(this.refs.form.getValue().captcha),this.props.go("/registerSetPassword"),this.setState({init:!1})),300==t.code&&this.openTipbar("验证码错误，请重新输入验证码"),302==t.code&&this.openTipbar("手机号已经被注册"),301==t.code&&this.openTipbar("验证码失效，请重新获取验证码"))}},{key:"Dom",value:function(){var e=this.state.flage;return b["default"].createElement("div",null,b["default"].createElement("div",{className:R["default"].content},b["default"].createElement("span",{className:R["default"].markTitle},"验证码已发送，请填写"),b["default"].createElement(S["default"],{ref:"form",onValid:this.onValid,onInvalid:this.onInvalid},b["default"].createElement(k["default"],{ref:"captcha",name:"captcha",keyboardType:"numeric",type:"validateItem",icon:b["default"].createElement("div",{className:U["default"].Icon},b["default"].createElement("img",{src:Z["default"]})),containerStyle:{paddingRight:"15px"},right:b["default"].createElement(B["default"],{ref:"verifyCode",onClick:!e&&this.sendVerifyCode||null,noInit:!0,containerStyle:{backgroundColor:"#fff",height:43},containerDisableStyle:{backgroundColor:"#fff",height:43},textStyle:{fontSize:16,color:"#45c3f0",textAlign:"right"},textDisableStyle:{color:"#888",fontSize:12,textAlign:"right"}}),reg:{required:{message:"验证码不能为空"},captcha:{message:"请输入正确的验证码"}},borderType:"four"}),b["default"].createElement(w["default"],{className:U["default"].buttonWrap,text:"提交",type:"submit"})),b["default"].createElement(N["default"],{ref:"tipbar"})))}},{key:"render",value:function(){var e=this.props.mobile,t=void 0;return e&&(t=this.Dom()),b["default"].createElement("div",{className:R["default"].panel,style:{backgroundColor:"#fff",paddingTop:0}},b["default"].createElement(I["default"],{backgroundColor:"#fff",leftNode:b["default"].createElement("img",{src:A["default"],className:U["default"].backImg}),onLeft:this.props.goBack}),t,b["default"].createElement(H["default"],{ref:"alert"}))}}]),t}(b["default"].Component),K=function(e){var t=e.infodata;return{mobile:t.getIn(["REGISTER_NUM","mobile"]),data:t.getIn(["CHECK_VERIFY_CAPTCHA","data"])}},O=function(e){return{savenum:function(t){e({type:M.REGISTER_NUM,key:"code",data:t})},goBack:function(){e((0,y.goBack)())},go:function(t){e((0,y.push)(t))},goVerifyCode:function(t){var n=Date.parse(new Date)/1e3,o=t+1+n+q["default"].key();e({type:M.VERIFY_CAPTCHA,params:[{mobile:t,type:1,clientTime:n,sign:q["default"].md5(o)}]})},checkVerifyCaptcha:function(t,n){e({type:M.CHECK_VERIFY_CAPTCHA,params:[{mobile:t,code:n}]})}}};t["default"]=(0,g.connect)(K,O)(F)},1209:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1158),i=o(a);t["default"]=i["default"]},1921:function(e,t,n){e.exports=n.p+"static/media/yzmIcon.20e40b92.png"}});