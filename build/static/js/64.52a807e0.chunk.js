webpackJsonp([64],{20:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,s,u=a(2),f=n(u),p=a(5),d=n(p),c=a(3),_=n(c),h=a(4),m=n(h),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,f["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),v=n(g),y=a(11),x=n(y),k=a(22),w=n(k),T=a(12),E=n(T),S=(s=i=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.state={disable:!0,message:""},a}return r(t,e),b(t,[{key:"open",value:function(e,t){var a=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){a.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:v["default"].createElement("div",{className:(0,x["default"])(w["default"].Tipbar,this.props.className)},v["default"].createElement("span",{className:w["default"].text},this.state.message||this.props.text))}}]),t}(v["default"].Component),i.propTypes={text:E["default"].string},s);t["default"]=S},21:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,".Tipbar___38rzT{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___38rzT .text___3NoM-{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___38rzT",text:"text___3NoM-"}},22:[2359,21],33:function(e,t,a){t=e.exports=a(6)(),t.push([e.id,"a{text-decoration:none}.ml0___Lrba9{margin-left:0}.mt15___3Iu-Y{margin-top:15px}.mt30___mElkZ{margin-top:30px}.topBar___sdCDR{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;padding-left:15px;padding-right:15px;margin-top:14px}.topBarLeft___ptMsa{text-align:left;color:#00a6e2}.topBarLeft___ptMsa,.topBarRight___1-WHt{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;font-size:16px}.topBarRight___1-WHt{text-align:right}.markTitle___1Ryki{margin-top:34px;margin-bottom:40px;font-size:25px;color:#000;text-align:center;display:block}.panel___suO5X{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-o-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background-color:#f0eff5;padding-top:44px}.panelContent___1oJxV{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;overflow-y:scroll}.buttonWrap___3LCCb{margin-top:40px;margin-left:15px;margin-right:15px}.loading____zTXo{width:100%;text-align:center;color:#fff;font-size:18px}.loading____zTXo,.loading____zTXo>span{display:inline-block}.center___2mH3M{text-align:center}.content___75OOP{position:absolute;left:0;padding-top:44px;top:0;width:100%;height:100%;background-color:#fff}.tip___29ByO{left:0}",""]),t.locals={ml0:"ml0___Lrba9",mt15:"mt15___3Iu-Y",mt30:"mt30___mElkZ",topBar:"topBar___sdCDR",topBarLeft:"topBarLeft___ptMsa",topBarRight:"topBarRight___1-WHt",markTitle:"markTitle___1Ryki",panel:"panel___suO5X",panelContent:"panelContent___1oJxV",buttonWrap:"buttonWrap___3LCCb",loading:"loading____zTXo",center:"center___2mH3M",content:"content___75OOP",tip:"tip___29ByO"}},34:function(e,t,a){var n=a(33);"string"==typeof n&&(n=[[e.id,n,""]]);a(7)(n,{});n.locals&&(e.exports=n.locals)},93:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),l=n(o),r=a(11),i=n(r),s=a(196),u=n(s);t["default"]=function(e){var t=e.children,a=e.className,n=e.style;return l["default"].createElement("div",{className:(0,i["default"])(u["default"].page,a),style:n},t||"")}},106:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a){return t in e?(0,d["default"])(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,m["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(_["default"]?(0,_["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,f,p=a(2),d=n(p),c=a(5),_=n(c),h=a(3),m=n(h),b=a(4),g=n(b),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,d["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(1),x=n(y),k=a(29),w=n(k),T=a(11),E=n(T),S=a(200),I=n(S),C=a(208),R=n(C),N=a(12),O=n(N),M=(u=s=function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||(0,g["default"])(t)).call(this,e));return n.switchShowStatus=function(){n.setState({status:!n.state.status})},n.renderRight=function(){var e=n.props.imgSty;return x["default"].createElement("div",{className:R["default"].right},x["default"].createElement("div",{onClick:n.switchShowStatus},x["default"].createElement("img",{className:R["default"].rightIcon,style:e,src:a(n.state.status?127:128)})))},n.state={value:n.props.defaultValue||"",status:!0},n.disable=!1,n.innerClickFlag=!1,n.validateRu=n.validateRun,n}return i(t,e),v(t,[{key:"setValue",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"validateRun",value:function(e){return e?this.disable:this.validateInstance.validateItem(this.state.value,this.props.reg,this.props.name,this.props&&this.props.parent&&this.props.reg.equalTo&&this.props.parent.getValue())}},{key:"checkValid",value:function(){this.disable=!!this.validateRun().result}},{key:"shouldComponentUpdate",value:function(e,t){return!w["default"].isEqual(e,this.props)||!w["default"].isEqual(t,this.state)}},{key:"onChange",value:function(e,t){var a=this,n=e.target.value;if(this.preValue=this.state.value,this.setState({value:n}),"undefined"!=this.props.maxValue){var o=Number(this.props.maxValue);this.state.value>o&&(this.disable=!1)}setTimeout(function(){a.checkValid(),t&&t(n)},100)}},{key:"onBlur",value:function(e,t){t&&t();var a=this.validateRun();a.result||this.props.onInvalid&&this.props.onInvalid(a.name,a.value,a.message),this.props.onBlur&&this.props.onBlur()}},{key:"onFocus",value:function(e,t){t&&t(),this.props.onFocus&&this.props.onFocus()}},{key:"componentDidMount",value:function(){this.validateInstance=(0,I["default"])(),this.checkValid()}},{key:"blur",value:function(){this.refs.textInput.blur()}},{key:"renderLeft",value:function(){return this.props.label?x["default"].createElement("div",{className:!this.props.noleftPadding&&R["default"].left},x["default"].createElement("span",{className:R["default"].leftText,style:this.props.leftTextStyle},this.props.label)):null}},{key:"render",value:function(){var e=this,t=this.props;return x["default"].createElement("div",{className:(0,E["default"])([R["default"].container,t.borderType&&R["default"][t.borderType],R["default"][this.props.className]]),style:this.props.containerStyle},x["default"].createElement("div",{className:R["default"].wrap},this.props.icon,this.renderLeft(),x["default"].createElement("div",{className:R["default"].center},x["default"].createElement("input",{ref:"textInput",type:this.state.status?"password":"text",className:R["default"].centerInput,style:this.props.inputStyle,placeholder:t.placeholder,value:this.state.value,onChange:function(a){e.onChange(a,t.onChange)},onBlur:function(a){e.onBlur(a,t.onBlur)},onFocus:function(a){e.onFocus(a,t.onFocus)}})),this.renderRight()))}}]),t}(x["default"].Component),s.nameq="BasePasswordInput",s.propTypes=(f={className:O["default"].string,noleftPadding:O["default"].bool,label:O["default"].string,right:O["default"].element,name:O["default"].string,maxValue:O["default"].number,reg:O["default"].object,onInvalid:O["default"].func,borderType:O["default"].string,placeholder:O["default"].string},o(f,"noleftPadding",O["default"].bool),o(f,"containerStyle",O["default"].object),o(f,"inputStyle",O["default"].object),o(f,"leftTextStyle",O["default"].object),o(f,"icon",O["default"].element),o(f,"imgSty",O["default"].object),f),u);t["default"]=M},127:function(e,t,a){e.exports=a.p+"static/media/eye_hide_icon.ed660457.png"},128:function(e,t,a){e.exports=a.p+"static/media/eye_icon.881ad942.png"},1188:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(f["default"]?(0,f["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),s=n(i),u=a(5),f=n(u),p=a(3),d=n(p),c=a(35),_=n(c),h=a(4),m=n(h),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s["default"])(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(1),v=n(g),y=a(9),x=a(106),k=n(x),w=a(31),T=n(w),E=a(10),S=n(E),I=a(24),C=n(I),R=a(72),N=n(R),O=a(20),M=n(O),B=a(34),P=n(B),V=a(17),W=n(V),L=a(23),D=a(93),j=n(D),A=a(8),z=a(16),F=n(z),H=a(84),U=n(H),X=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return a.onValid=function(){if(!a.props.pending){var e=a.refs.form.getValue(),t=e.password;a.props.pwdSet({password:t})}},a.onInvalid=function(e,t,n){a.setState({errorMessage:n})},a.state={errorMessage:"",init:!0},a}return r(t,e),b(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.alert,a=this.props,n=a.data,o=a.load;n?(""==n.data.card&&t.show({title:"为了您的账号安全，请先认证身份信息！",okText:"去认证",okCallback:function(){e.props.push("/user/setting/identityAuth")}}),n.data.isSetTradePassword&&t.show({title:"你已经设置过密码",okText:"返回",okCallback:this.props.pop})):o()}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.resCode,n=e.data,o=e.pending,l=this.refs.alert;if(""==n.data.card&&l.show({title:"为了您的账号安全，请先认证身份信息！",okText:"去认证",okCallback:function(){t.props.push("/user/setting/identityAuth")}}),n.data.isSetTradePassword&&this.state.init&&l.show({title:"你已经设置过密码",okText:"返回",okCallback:this.props.pop}),100==a&&this.state.init&&!o){l.show({title:"设置交易密码成功",okText:"返回",okCallback:this.props.pop}),this.props.success();var r=JSON.parse(sessionStorage.getItem("bao-user"));r.isSetTradePassword=!0,sessionStorage.setItem("bao-user",(0,_["default"])(r)),this.setState({init:!1})}301!=a||o||l.show({title:"交易密码不能和登录密码一致",okText:"确定"})}},{key:"openTipbar",value:function(e){}},{key:"loadEnd",value:function(){var e=this.props.pending;return v["default"].createElement("div",null,v["default"].createElement(N["default"],{className:P["default"].mt15,ref:"form",onValid:this.onValid,onInvalid:this.onInvalid},v["default"].createElement(k["default"],{ref:"password",name:"password",maxLength:16,placeholder:"设置交易密码",type:"validateItem",reg:{reg:{reg:W["default"].checkPassword,message:"请输入正确密码"}}}),v["default"].createElement(T["default"],{className:P["default"].buttonWrap,text:e&&v["default"].createElement(U["default"],{color:"rgba(255,255,255,.8)",text:"提交中",className:P["default"].loading})||"确认提交",type:"submit"})),this.state.errorMessage&&v["default"].createElement(M["default"],{text:this.state.errorMessage}))}},{key:"loadDom",value:function(){return v["default"].createElement(F["default"],null)}},{key:"render",value:function(){var e=this.props.data,t=void 0;return e?""==e.data.card||e.data.isSetTradePassword||(t=this.loadEnd()):t=this.loadDom(),v["default"].createElement(j["default"],null,v["default"].createElement("div",{className:P["default"].panel},v["default"].createElement(S["default"],{onLeft:this.props.pop,title:"设置交易密码"}),t,v["default"].createElement(C["default"],{ref:"alert"})))}}]),t}(v["default"].Component),q=function(e,t){return{data:e.infodata.getIn(["USER_INFO_WITH_LOGIN","data"]),pending:e.infodata.getIn([L.TRADE_PASSWORD_SET,"pending"]),resCode:e.infodata.getIn([L.TRADE_PASSWORD_SET,"data"])&&e.infodata.getIn([L.TRADE_PASSWORD_SET,"data"]).code||0}},J=function(e){return{load:function(){e({type:"USER_INFO_WITH_LOGIN"})},push:function(t){e((0,A.push)(t))},pop:function(){e((0,A.goBack)())},pwdSet:function(t){e({type:L.TRADE_PASSWORD_SET,params:[t]})},success:function(){e({type:"SET_USERNAME_SUCCESS",key:"USER_INFO_WITH_LOGIN",data:{isSetTradePassword:!0}})}}};t["default"]=(0,y.connect)(q,J)(X)}});