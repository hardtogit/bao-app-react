webpackJsonp([133],{64:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,u,c=n(2),f=a(c),s=n(5),d=a(s),p=n(3),_=a(p),h=n(4),m=a(h),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,f["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n(1),x=a(b),v=n(8),w=a(v),k=n(40),y=a(k),E=n(35),T=(a(E),n(34)),F=(a(T),n(51)),N=a(F),O=n(9),D=a(O),C=(u=r=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.setText=function(e){n.refs.text.setText(e)},n.state={text:n.props.text||""},n}return l(t,e),g(t,[{key:"show",value:function(e){this.setState({text:e}),this.refs.dialog.show()}},{key:"hide",value:function(){this.refs.dialog.hide()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=(this.state.options,y["default"][this.props.mode]);return x["default"].createElement(e,{ref:"dialog",closeOnClick:!1,className:N["default"].successDialog,contentStyle:{backgroundColor:"transparent"}},x["default"].createElement("div",{className:(0,w["default"])(N["default"].modal,N["default"].successModal)},x["default"].createElement("img",{src:n(75),style:{marginTop:30,width:30,height:30}}),x["default"].createElement("span",{className:N["default"].successTitle},this.state.text)))}}]),t}(x["default"].Component),r.propTypes={text:D["default"].string,mode:D["default"].oneOf(["OutlineModal","ScaleModal","FadeModal","FlyModal","DropModal","WaveModal"])},r.defaultProps={mode:"ScaleModal"},u);t["default"]=C},75:497,1177:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(d["default"]?(0,d["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,u,c=n(2),f=a(c),s=n(5),d=a(s),p=n(3),_=a(p),h=n(4),m=a(h),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,f["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n(1),x=a(b),v=n(2121),w=a(v),k=n(12),y=a(k),E=n(42),T=a(E),F=n(26),N=a(F),O=n(1711),D=a(O),C=n(8),R=(a(C),n(64)),M=a(R),S=n(11),A=n(10),j=(u=r=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.submit=function(){if(!n.state.disable)if(n.refs.back.src&&n.refs.front.src){var e=new FormData,t=n.refs.file1.files[0],a=n.refs.file2.files[0];e.append("front",t),e.append("back",a),e.append("device","WAP"),n.refs.loading.show("处理中..."),n.props.upload(e)}else n.refs.alert.show({title:"",content:"请先选择您要上传的图片",okText:"确定",okCallback:function(){}})},n.changeOne=function(e){var t=e.target.files[0],a=new FileReader,i=t.name,o=/[^\s]+\.(jpg)/i;o.test(i)?(a.readAsDataURL(t),a.onload=function(e){n.refs.front.src=e.target.result}):(n.refs.front.src="",n.refs.alert.show({title:"",content:"上传文件格式错误，存管只支持jpg格式的图片。",okText:"确定",okCallback:function(){}})),n.ifPost()},n.changeTwo=function(e){var t=e.target.files[0],a=new FileReader,i=t.name,o=/[^\s]+\.(jpg)/i;o.test(i)?(a.readAsDataURL(t),a.onload=function(e){n.refs.back.src=e.target.result}):(n.refs.back.src="",n.refs.alert.show({title:"",content:"上传文件格式错误，只能为jpg格式的图片。",okText:"确定",okCallback:function(){}})),n.ifPost()},n.state={isOpen:!1,disable:!0,sendFlag:!0},n}return l(t,e),g(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.data&&(100==e.data.code?setTimeout(function(){t.refs.loading.hide(),t.props.update(),t.props.replace("/successTemplate?title=身份证上传成功&text=上传成功,已提交审核。")},5e3):(this.refs.loading.hide(),this.refs.alert.show({content:"上传失败",okText:"确定"})))}},{key:"componentWillUnmount",value:function(){}},{key:"ifPost",value:function(){this.refs.file1.files[0]&&this.refs.file2.files[0]?this.setState({disable:!1}):this.setState({disable:!0})}},{key:"render",value:function(){var e=this.props,t=e.pop,n=e.push;return x["default"].createElement("div",{className:w["default"].container},x["default"].createElement(y["default"],{onLeft:t,rightNode:x["default"].createElement("div",null,"说明"),onRight:function(){n("/user/IdCardUploadExplain")}},"身份证上传"),x["default"].createElement("div",{className:w["default"].tip},"开通存管后，第一次提现需要验证您的身份证。因涉及重要交易，请务必填写本人真实信息。"),x["default"].createElement("div",null,x["default"].createElement("div",{className:w["default"].content},x["default"].createElement("div",{className:w["default"].inputFileOne},x["default"].createElement("img",{className:w["default"].picture,ref:"front",src:"",alt:""}),x["default"].createElement("img",{className:w["default"].circle,src:D["default"],alt:""}),x["default"].createElement("div",{className:w["default"].text},"上传本人身份证(正)"),x["default"].createElement("input",{onChange:this.changeOne,ref:"file1",className:w["default"].input,type:"file"}))),x["default"].createElement("div",{className:w["default"].content},x["default"].createElement("div",{className:w["default"].inputFileTwo},x["default"].createElement("img",{className:w["default"].picture,ref:"back",src:"",alt:""}),x["default"].createElement("img",{className:w["default"].circle,src:D["default"],alt:""}),x["default"].createElement("div",{className:w["default"].text},"上传本人身份证(反)"),x["default"].createElement("input",{onChange:this.changeTwo,ref:"file2",className:w["default"].input,type:"file"}))),x["default"].createElement(T["default"],{className:w["default"].submit,disable:this.state.disable,onClick:this.submit,text:"确认上传"})),x["default"].createElement(M["default"],{ref:"loading"}),x["default"].createElement(N["default"],{ref:"alert"}))}}]),t}(b.Component),r.defaultProps={},u),I=function(e){return{data:e.infodata.getIn(["IDCARD_UPLOAD","data"]),countData:e.infodata.getIn(["STORE_STATUS_INFO","data"])}},P=function(e,t){return{pop:function(){e((0,A.goBack)())},upload:function(t){e({type:"IDCARD_UPLOAD",params:[t]})},update:function(){e({type:"STORE_STATUS_INFO"})},push:function(t){e((0,A.push)(t))},replace:function(t){e((0,A.replace)(t))}}};t["default"]=(0,S.connect)(I,P)(j)},1520:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".container___13nf2{position:absolute;width:100%;height:100%;left:0;top:0;overflow:auto;padding-top:44px;background-color:#fff}.container___13nf2 .submit___33gEu{width:90%;margin-left:5%;position:fixed;bottom:15px}.container___13nf2 .tip___1Hnx7{color:#888;font-size:14px;line-height:1.4;padding:10px 15px;background-color:#f0eff5}.container___13nf2 .inputFileOne___22kNB{width:288px;overflow:hidden;margin:0 auto;height:180px;background-image:url("+n(1710)+");background-size:100% 100%;position:relative}.container___13nf2 .inputFileOne___22kNB input{width:100%;height:100%;opacity:0;position:absolute;z-index:22}.container___13nf2 .inputFileOne___22kNB .picture___mDzQK{width:290px;height:182px;top:-1px;left:-1px;position:absolute;border-radius:10px;border:0;z-index:10;display:block}.container___13nf2 .inputFileOne___22kNB .circle___25jFv{width:80px;left:105px;top:30px;position:absolute}.container___13nf2 .inputFileOne___22kNB .text___1AR3f{position:absolute;text-align:center;width:100%;top:130px;color:#999}.container___13nf2 .content___xCIJ4{width:288px;background-color:#f0eff5;border-radius:10px;margin:0 auto;margin-top:30px}.container___13nf2 .inputFileTwo___KV8Jv{width:288px;overflow:hidden;margin:0 auto;margin-bottom:70px;position:relative;height:180px;background-image:url("+n(1709)+");background-size:100% 100%}.container___13nf2 .inputFileTwo___KV8Jv input{width:100%;height:100%;position:absolute;opacity:0;z-index:22}.container___13nf2 .inputFileTwo___KV8Jv .picture___mDzQK{width:290px;height:182px;top:-1px;left:-1px;z-index:10;position:absolute;border-radius:10px;border:0;display:block}.container___13nf2 .inputFileTwo___KV8Jv .circle___25jFv{width:80px;left:105px;top:30px;position:absolute}.container___13nf2 .inputFileTwo___KV8Jv .text___1AR3f{position:absolute;text-align:center;width:100%;top:130px;color:#999}",""]),t.locals={container:"container___13nf2",submit:"submit___33gEu",tip:"tip___1Hnx7",inputFileOne:"inputFileOne___22kNB",picture:"picture___mDzQK",circle:"circle___25jFv",text:"text___1AR3f",content:"content___xCIJ4",inputFileTwo:"inputFileTwo___KV8Jv"}},1709:function(e,t,n){e.exports=n.p+"static/media/IDcardDown.b79ec6df.png"},1710:function(e,t,n){e.exports=n.p+"static/media/IDcardUp.e9b1e639.png"},1711:function(e,t,n){e.exports=n.p+"static/media/addicon.a6a76fa6.png"},2121:function(e,t,n){var a=n(1520);"string"==typeof a&&(a=[[e.id,a,""]]);n(7)(a,{});a.locals&&(e.exports=a.locals)}});