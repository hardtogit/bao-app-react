webpackJsonp([64],{28:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,f=n(2),u=a(f),c=n(5),p=a(c),d=n(3),_=a(d),h=n(4),m=a(h),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,u["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=n(1),x=a(v),y=n(8),g=a(y),C=n(30),w=a(C),k=n(9),T=a(k),S=(s=l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.state={disable:!0,message:""},n}return r(t,e),b(t,[{key:"open",value:function(e,t){var n=this;this.setState({disable:!1,message:e}),this.interval&&clearInterval(this.interval),this.interval=setInterval(function(){n.setState({disable:!0}),t&&"function"==typeof t&&t()},2e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return this.state.disable?null:x["default"].createElement("div",{className:(0,g["default"])(w["default"].Tipbar,this.props.className)},x["default"].createElement("span",{className:w["default"].text},this.state.message||this.props.text))}}]),t}(x["default"].Component),l.propTypes={text:T["default"].string},s);t["default"]=S},29:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".Tipbar___3HZ5q{position:fixed;top:44px;width:100%;height:45px;background-color:#7b0002;color:#fff}.Tipbar___3HZ5q .text___KcEzd{display:block;line-height:45px;text-align:center}",""]),t.locals={Tipbar:"Tipbar___3HZ5q",text:"text___KcEzd"}},30:[2322,29],49:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"a{text-decoration:none}.ml0___26vaQ{margin-left:0}.mt15___35Rs9{margin-top:15px}.mt30___OrVm4{margin-top:30px}.topBar___Pk-GL{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;padding-left:15px;padding-right:15px;margin-top:14px}.topBarLeft___2TWUf{text-align:left;color:#00a6e2}.topBarLeft___2TWUf,.topBarRight___1GNjc{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;font-size:16px}.topBarRight___1GNjc{text-align:right}.markTitle___1DU2v{margin-top:34px;margin-bottom:40px;font-size:25px;color:#000;text-align:center;display:block}.panel___1TQF9{display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-o-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;background-color:#f0eff5;padding-top:44px}.panelContent___2-VJ3{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1;overflow-y:scroll}.buttonWrap___xK3fa{margin-top:40px;margin-left:15px;margin-right:15px}.loading___3vaX4{width:100%;text-align:center;color:#fff;font-size:18px}.loading___3vaX4,.loading___3vaX4>span{display:inline-block}.center___xD4uH{text-align:center}.content___SZovH{position:absolute;left:0;padding-top:44px;top:0;width:100%;height:100%;background-color:#fff}.tip___GGjLC{left:0}",""]),t.locals={ml0:"ml0___26vaQ",mt15:"mt15___35Rs9",mt30:"mt30___OrVm4",topBar:"topBar___Pk-GL",topBarLeft:"topBarLeft___2TWUf",topBarRight:"topBarRight___1GNjc",markTitle:"markTitle___1DU2v",panel:"panel___1TQF9",panelContent:"panelContent___2-VJ3",buttonWrap:"buttonWrap___xK3fa",loading:"loading___3vaX4",center:"center___xD4uH",content:"content___SZovH",tip:"tip___GGjLC"}},50:function(e,t,n){var a=n(49);"string"==typeof a&&(a=[[e.id,a,""]]);n(7)(a,{});a.locals&&(e.exports=a.locals)},104:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,_["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p["default"]?(0,p["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,f=n(2),u=a(f),c=n(5),p=a(c),d=n(3),_=a(d),h=n(4),m=a(h),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,u["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=n(1),x=a(v),y=n(8),g=a(y),C=n(33),w=(a(C),n(123)),k=a(w),T=n(9),S=a(T),E=(s=l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||(0,m["default"])(t)).call(this,e));return n.handleAppStateChange=function(e){if("inactive"==e)n.exitTime=(new Date).getTime();else if("background"==e)n.exitTime=(new Date).getTime();else if("active"==e){if(!n.exitTime)return!1;var t=Math.round(((new Date).getTime()-n.exitTime)/1e3);t<=n.state.count?n.setState({count:n.state.count-t}):(n.setState({active:!0,count:0}),clearInterval(n.interval))}},n.state={active:!0,count:0,text:"发送验证码",time:0},n.exitTime="",n}return r(t,e),b(t,[{key:"tick",value:function(){var e=this.state,t=e.count,n=e.time;t>0?this.setState({count:t-1}):(this.setState({active:!0,time:n+1}),clearInterval(this.interval))}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.interval=setInterval(this.tick.bind(this),1e3)})},{key:"handleClick",value:function(){this.state.active&&(this.setState({active:!1,count:this.props.countdown||this.props.countdown}),this.setInterval(),this.props.onClick&&0==this.props.onClick()&&this.setState({active:!0,count:0}))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"renderActiveStatus",value:function(){var e=this.props,t=e.label,n=e.init,a=this.state,o=a.text,i=a.time,r=t;return n&&0==i&&(r=o),x["default"].createElement("div",{className:(0,g["default"])(k["default"].verifyCode,this.props.className),style:this.props.containerStyle,onClick:this.handleClick.bind(this)},x["default"].createElement("span",{className:k["default"].text,style:this.props.textStyle},r))}},{key:"renderUnactiveStatus",value:function(e){var t=(this.props.format||this.props.format).replace(/\$time/,e);return x["default"].createElement("div",{className:(0,g["default"])(k["default"].verifyCode,k["default"].verifyCodeDisable,this.props.className),style:this.props.containerDisableStyle},x["default"].createElement("span",{className:(0,g["default"])(k["default"].text,k["default"].textDisable),style:this.props.textDisableStyle},t))}},{key:"render",value:function(){return this.state.active?this.renderActiveStatus(k["default"]):this.renderUnactiveStatus(this.state.count,k["default"])}},{key:"open",value:function(){this.handleClick()}}]),t}(x["default"].Component),l.propTypes={label:S["default"].string,countdown:S["default"].number,format:S["default"].string,onClick:S["default"].func,containerStyle:S["default"].object,containerDisableStyle:S["default"].object,textStyle:S["default"].object,textDisableStyle:S["default"].object},l.defaultProps={label:"重新发送",countdown:60,format:"$timeS"},s);t["default"]=E},115:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".verifyCode___Uzxdc{width:122px;height:44px;background-color:#00a7e1;display:-webkit-box;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-o-box-align:center;-ms-flex-align:center;align-items:center}.verifyCodeDisable___2Z2aU{background-color:#45c4f0;border-color:#45c4f0;border-width:0}.verifyCodeWrap___1VtJo{-webkit-box-flex:1;-o-box-flex:1;box-flex:1;-ms-flex:1;flex:1}.text___11IRh{font-size:14px;text-align:center;color:#fff;display:block;width:100%}.textDisable___2ZcCA{color:#87dfff}",""]),t.locals={verifyCode:"verifyCode___Uzxdc",verifyCodeDisable:"verifyCodeDisable___2Z2aU",verifyCodeWrap:"verifyCodeWrap___1VtJo",text:"text___11IRh",textDisable:"textDisable___2ZcCA"}},123:[2322,115],474:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".formWrap___2tfmK{margin-top:15px}.loading___2SHwR{width:100%;text-align:center;color:#fff;font-size:18px}.loading___2SHwR,.loading___2SHwR>span{display:inline-block}",""]),t.locals={formWrap:"formWrap___2tfmK",loading:"loading___2SHwR"}},561:function(e,t,n){var a=n(474);"string"==typeof a&&(a=[[e.id,a,""]]);n(7)(a,{});a.locals&&(e.exports=a.locals)},1069:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,d["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(c["default"]?(0,c["default"])(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),f=o(s),u=n(5),c=o(u),p=n(3),d=o(p),_=n(4),h=o(_),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,f["default"])(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=n(1),v=o(b),x=n(11),y=n(91),g=o(y),C=n(42),w=o(C),k=n(12),T=o(k),S=n(78),E=o(S),D=n(104),I=o(D),R=n(28),W=o(R),H=n(561),V=o(H),j=n(50),A=o(j),P=n(20),N=o(P),M=n(26),U=o(M),B=n(32),G=a(B),K=n(10),z=n(83),F=o(z),L=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||(0,h["default"])(t)).call(this,e));return n.onValid=function(){var e=n.refs.form.getValue();n.props.sendCode(e.mobile,e.captcha)},n.onInvalid=function(e,t,a){n.setState({errorMessage:a})},n.sendVerifyCode=function(){var e=n.refs.form.getValue();return N["default"].checkMobile(e.mobile)?void n.props.getCode(e.mobile):(n.refs.tipbar.open("电话号码错误"),!1)},n.state={errorMessage:"",init:!0,active:!0},n}return l(t,e),m(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.code,n=e.sendCodeData,a=this,o=this.refs.alert;if(n){var i=n.code;300==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"验证失败",okText:"确定"})),301==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"手机号不存在",okText:"确定"})),302==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"手机号已注册",okText:"确定"})),303==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"签名错误",okText:"确定"})),304==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"用户不存在",okText:"确定"})),305==i&&(a.refs.verifyCode.setState({active:!0,count:0}),o.show({content:"用户被冻结",okText:"确定"}))}if(t){var r=this.refs.alert;100==t&&this.state.init&&(this.props.push("/findpasswordSetPassword"),this.props.gxReders(this.refs.form.getValue()),this.setState({init:!1})),300==t&&r.show({content:"验证码错误，请重新输入验证码 ",okText:"确定"}),301==t&&r.show({content:"验证码失效，请重新获取验证码",okText:"确定"})}}},{key:"render",value:function(){return v["default"].createElement("div",{className:A["default"].panel},v["default"].createElement(T["default"],{onLeft:this.props.pop,title:"验证手机号码"}),v["default"].createElement(E["default"],{className:V["default"].formWrap,ref:"form",onValid:this.onValid,onInvalid:this.onInvalid},v["default"].createElement(g["default"],{ref:"mobile",name:"mobile",label:"手机号",placeholder:"请输入11位手机号",type:"validateItem",reg:{required:{message:"手机号不能为空"},mobile:{message:"请输入正确的手机号"}},borderType:"two"}),v["default"].createElement(g["default"],{ref:"captcha",name:"captcha",label:"验证码",type:"validateItem",right:v["default"].createElement(I["default"],{ref:"verifyCode",onClick:this.sendVerifyCode,containerStyle:{height:44},init:!0}),reg:{required:{message:"验证码不能为空"},captcha:{message:"请输入正确的验证码"}},borderType:"three"}),v["default"].createElement(w["default"],{className:A["default"].buttonWrap,text:this.props.pending&&v["default"].createElement(F["default"],{color:"rgba(255,255,255,.8)",text:"下一步",className:A["default"].loading})||"下一步",type:"submit"})),v["default"].createElement(W["default"],{ref:"tipbar"}),v["default"].createElement(U["default"],{ref:"alert"}))}}]),t}(v["default"].Component),O=function(e,t){return{sendCodeData:e.infodata.getIn([G.VERIFY_CAPTCHA,"data"]),code:e.infodata.getIn([G.CHECK_VERIFY_CAPTCHA_W,"data"])&&e.infodata.getIn([G.CHECK_VERIFY_CAPTCHA_W,"data"]).code||!1,pending:e.infodata.getIn([G.CHECK_VERIFY_CAPTCHA_W,"pending"])}},Z=function(e,t){return{getCode:function(t){var n=Date.parse(new Date)/1e3,a=t+2+n+N["default"].key();e({type:G.VERIFY_CAPTCHA,params:[{mobile:t,type:2,clientTime:n,sign:N["default"].md5(a)}]})},pop:function(){e((0,K.goBack)())},gxReders:function(t){e({type:G.FOR_GET_PWD,data:t})},sendCode:function(t,n){e({type:G.CHECK_VERIFY_CAPTCHA_W,params:[{mobile:t,code:n}]})},push:function(t){e((0,K.push)(t))}}};t["default"]=(0,x.connect)(O,Z)(L)},1122:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1069),i=a(o);t["default"]=i["default"]}});