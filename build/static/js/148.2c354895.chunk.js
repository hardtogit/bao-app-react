webpackJsonp([148],{315:function(t,e,n){t.exports=n.p+"static/media/good.a34eb803.png"},494:function(t,e,n){t.exports=n.p+"static/media/notice.1bf1b311.png"},1083:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=(0,c["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s["default"]?(0,s["default"])(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var d=n(2),r=o(d),u=n(5),s=o(u),p=n(3),c=o(p),f=n(4),b=o(f),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,r["default"])(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),k=n(1),m=o(k),C=n(12),E=o(C),h=n(10),g=n(2110),v=o(g),N=n(8),A=o(N),y=n(11),S=n(22),B=o(S),T=n(26),I=o(T),w=n(1717),O=o(w),L=n(83),D=o(L),q=n(32),z=a(q),M=function(t){function e(t){l(this,e);var n=i(this,(e.__proto__||(0,b["default"])(e)).call(this,t));return n.nullCard=function(t,e,a){var o=n.state,l=(o.reg,o.code),i=o.bankName,_=(o.Val,o.icon),d=void 0;d=_?m["default"].createElement("img",{src:_,alt:""}):m["default"].createElement("span",null,"开户行");var r=void 0,u=void 0;return a?(r={position:"absolute",top:"0px",left:"0px"},u=function(){n.setState({TopInput:{top:"100%"}})}):u=n.props.pop,m["default"].createElement("div",null,m["default"].createElement(E["default"],{leftNode:m["default"].createElement("span",{className:v["default"].leftCav,onClick:u},"取消"),style:r},"银行卡"),m["default"].createElement("div",{className:v["default"].bankcardAddContent},m["default"].createElement("div",{className:v["default"].inputBox},m["default"].createElement("p",{className:v["default"].text},"请绑定持卡人本人银行卡"),m["default"].createElement("div",{className:(0,A["default"])(v["default"].inputOne,v["default"].mg)},m["default"].createElement("span",{className:v["default"].inputTitle},"持卡人"),m["default"].createElement("span",{className:v["default"].inputContent},t),m["default"].createElement("span",{className:v["default"].inputIcon})),m["default"].createElement("div",{className:(0,A["default"])(v["default"].inputOne,v["default"].mg)},m["default"].createElement("div",{className:v["default"].inputCh},m["default"].createElement("span",{className:v["default"].inputTitleC},"卡号"),m["default"].createElement("input",{ref:"bankCard",className:v["default"].inputSr,placeholder:"请输入银行卡号",onChange:function(t){n.inputS(t,l)}})),m["default"].createElement("div",{className:v["default"].inputCh,onClick:n.showBank},d,m["default"].createElement("span",{className:v["default"].inputContent},i))),m["default"].createElement("div",{className:v["default"].btBox},m["default"].createElement("button",{className:v["default"].bt,disabled:!n.state.bankCode,ref:"send",onClick:n.bindCard},n.props.sendpending&&m["default"].createElement(D["default"],{color:"rgba(255,255,255,.8)"}),"下一步")))))},n.isCard=function(){return m["default"].createElement("div",{className:v["default"].sqBox},m["default"].createElement(E["default"],{onLeft:n.props.pop},"提交申请"),m["default"].createElement("div",{className:v["default"].bankcardAddContent},m["default"].createElement("div",{className:v["default"].sqText},m["default"].createElement("p",null,"联系客服提供以下资料"),m["default"].createElement("p",{className:v["default"].sqTel},m["default"].createElement("a",{href:"tel:028-966180"},"028-966180"))),m["default"].createElement("div",{className:v["default"].tsBox},m["default"].createElement("ul",null,m["default"].createElement("li",null,m["default"].createElement("img",{src:O["default"]}),m["default"].createElement("p",{className:v["default"].mg},"手持身份证"),m["default"].createElement("p",null,"正面照")),m["default"].createElement("li",null,m["default"].createElement("img",{src:O["default"]}),m["default"].createElement("p",{className:v["default"].mg},"手持新银行卡"),m["default"].createElement("p",null,"正面照")),m["default"].createElement("li",null,m["default"].createElement("img",{src:O["default"]}),m["default"].createElement("p",{className:v["default"].mg},"手持原卡注销"),m["default"].createElement("p",null,"证明正面照")))),m["default"].createElement("div",{className:v["default"].btBox},m["default"].createElement("button",{className:v["default"].bt,onClick:n.props.pop},"确认"),m["default"].createElement("button",{className:v["default"].bt1,onClick:function(){n.setState({TopInput:{top:"0px"}})}},"重新更换安全卡"))))},n.loadEndDom=function(t,e){var a=t.data,o=a.name,l=a.isAuth,i=a.isbindSecurityCard,_=n.state.TopInput,d=void 0;return d=2!=l||i?2==l&&i?m["default"].createElement("div",null,m["default"].createElement("div",{className:v["default"].bankInput,style:_},n.nullCard(o,e,_)),n.isCard()):"":n.nullCard(o,e)},n.bindCard=function(){return n.state.bankCode?void n.props.goBankPage({type:431,way:1,data:{bankCard:n.refs.bankCard.value,bankCode:n.state.bankCode,bankName:n.state.bankName,device:"WAP",access_sys:"platform"},returnUrl:""}):void n.refs.alert.show({content:"请先填写你的卡号",okText:"确定"})},n.inputS=function(t,e){var a=t.target.value;if(a.length>=3){var o=!0;n.props.bankList&&(n.props.bankList.data.map(function(t,e){0==a.indexOf(t.cardBin)&&(o=!1,n.setState({bankName:t.bankName,bankCode:t.bankCode,icon:t.bankIcon}))}),o&&a.length>7&&n.setState({bankName:"存管暂不支持该银行的储蓄卡",bankCode:"",icon:""}))}else n.setState({bankName:"请输入卡号识别",bankCode:"",icon:""})},n.state={bankName:"请输入卡号识别",Top:{top:"100%"},TopInput:{top:"100%"},code:0,icon:"",bankCode:"",Val:"",reg:!1,init:!0,sendInit:!0},n}return _(e,t),x(e,[{key:"loadDom",value:function(t){return t?m["default"].createElement(B["default"],{style:t}):m["default"].createElement(B["default"],null)}},{key:"bankListDom",value:function(t){var e=this;return m["default"].createElement("div",{className:v["default"].bankContent},m["default"].createElement("ul",{className:v["default"].bankList},t.data.map(function(t,n){var a=t.icon,o=t.name,l=t.code;return m["default"].createElement("li",{className:v["default"].bank,key:n,onClick:function(){e.chooseBank(l,a,o)}},m["default"].createElement("span",{className:v["default"].bankImg},m["default"].createElement("img",{src:a})),m["default"].createElement("span",{className:v["default"].bankText},o),l==e.state.code&&m["default"].createElement("span",{className:v["default"].choosed}))})))}},{key:"Alert",value:function(){var t=this;this.refs.alert.show({content:"您还未绑定身份信息，去绑定？",okText:"确定",okCallback:function(){t.props.push("/user/setting/identityAuth")}})}},{key:"componentDidMount",value:function(){var t=this.props,e=t.user,n=t.load,a=t.loadCard;e?2!=e.data.isAuth&&this.Alert():n("USER_INFO_WITH_LOGIN"),a()}},{key:"componentWillReceiveProps",value:function(t){var e=t.user,n=t.goBankData;e&&2!=e.data.isAuth&&this.Alert(),n&&100==n.code?(this.props.clean("GO_BANK_PAGE"),this.props.push("/user/setting/bankPage?url="+n.data.url)):n&&100!=n.code&&(this.refs.alert.show({content:"订单生成失败！",okText:"确定"}),this.props.clean("GO_BANK_PAGE"))}},{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"render",value:function(){var t=this.props,e=t.user,n=t.data,a=void 0;return a=e?this.loadEndDom(e,n):this.loadDom(),m["default"].createElement("div",null,a,m["default"].createElement(I["default"],{ref:"alert"}))}}]),e}(k.Component),R=function(t,e){return{user:t.infodata.getIn(["USER_INFO_WITH_LOGIN","data"]),bankList:t.infodata.getIn(["GET_BANK_BIND_LIST","data"]),senddata:t.infodata.getIn(["SEND_SEC_CARD","data"]),sendpending:t.infodata.getIn(["SEND_SEC_CARD","pending"]),goBankData:t.infodata.getIn(["GO_BANK_PAGE","data"])}},G=function(t,e){return{loadCard:function(){t({type:"GET_BANK_BIND_LIST"})},load:function(e){t({type:e})},goBankPage:function(e){t({type:z.GO_BANK_PAGE,params:[e]})},send:function(e){t({type:"SEND_SEC_CARD",params:[{bankCard:e.Val,bankCode:e.code,bankName:e.bankName}]})},sendBank:function(e){var n=e.Val,a=e.code,o=e.bankName,l=e.icon;t({type:"IDENTITY_AUTH_SUCCESS",key:"SECURITY_CARD",data:{code:101,data:{number:n,code:a,name:o,icon:l}}})},clean:function(e){t({type:"CLEAR_INFO_DATA",key:e})},push:function(e){t((0,h.push)(e))},pop:function(){t((0,h.goBack)())},clearData:function(){t({type:"CLEAR_INFO_DATA",key:"SEND_SEC_CARD"})}}};e["default"]=(0,y.connect)(R,G)(M)},1509:function(t,e,n){e=t.exports=n(6)(),e.push([t.id,'.leftCav___1LIyh{display:inline-block;vertical-align:middle;padding-left:8px;line-height:44px}.bankInput___22uD5{z-index:999;transition:all .5s linear;-moz-transition:all linear .5s;-webkit-transition:all .5s linear;-o-transition:all linear .5s}.bankInput___22uD5,.sqBox___3nLo4{position:absolute;width:100%;height:100%;background-color:#f0eff5;left:0}.sqBox___3nLo4{z-index:99}.bankcardAddContent___1SExb{width:100%;height:100%;position:absolute;padding-top:44px;overflow:auto}.bankcardAddContent___1SExb .inputBox___2vy-r{padding-top:15px}.bankcardAddContent___1SExb .inputBox___2vy-r .text___1pfhT{padding:0 15px;font-size:14px;color:#888}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM{padding:0 15px;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;background-color:#fff;position:relative;min-height:44px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputContent___25Jq1{display:inline-block;font-size:14px;line-height:44px;margin-left:55px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputTitle___35U7q{position:absolute;left:15px;line-height:44px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputJt___3uqjA{width:18px;height:18px;position:absolute;right:-6px;top:50%;margin-top:-12px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputJt___3uqjA:after{content:"";display:inline-block;border-width:10px;border-color:transparent transparent transparent #fff;border-style:solid;position:absolute;right:-1px;top:2px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputJt___3uqjA:before{content:"";display:inline-block;border-width:12px;border-color:transparent transparent transparent #ccc;border-style:solid}.bankcardAddContent___1SExb .inputBox___2vy-r .inputOne___1N1TM .inputTitleC___1NswC{position:absolute;left:0;line-height:44px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputIcon___3Lr9P{position:absolute;right:15px;top:50%;width:24px;height:24px;margin-top:-12px;background:url('+n(494)+") 50% no-repeat;background-size:100% 100%}.bankcardAddContent___1SExb .inputBox___2vy-r .inputSr___2VIlW{border:0;padding-left:55px;font-size:14px;width:100%;outline:none;line-height:44px}.bankcardAddContent___1SExb .inputBox___2vy-r .inputCh___1GAUV{margin-bottom:12px;position:relative}.bankcardAddContent___1SExb .inputBox___2vy-r .inputCh___1GAUV>img{position:absolute;left:0;top:50%;width:30px;margin-top:-15px}.bankcardAddContent___1SExb .inputBox___2vy-r .mg___2orKl{margin-top:12px}.bankcardAddContent___1SExb .btBox___2GNIq{padding-left:15px;padding-right:15px;margin-top:12px}.bankcardAddContent___1SExb .bt___1ZMiA{width:100%;line-height:40px;text-align:center;background-color:#00a6e2;color:#fff;border:1px solid #00a6e2;border-radius:5px}.bankcardAddContent___1SExb .bt___1ZMiA[disabled]{border-color:#90d1ed;background-color:#90d1ed}.bankcardAddContent___1SExb .bt___1ZMiA>span{display:inline-block}.bankcardAddContent___1SExb .bt1___1ewY2{background-color:#fff;line-height:40px;text-align:center;border:1px solid #fff;border-radius:5px;margin-top:12px;width:100%}.bankcardAddContent___1SExb .sqText___3kSzA{margin-top:50px}.bankcardAddContent___1SExb .sqText___3kSzA>p{text-align:center;line-height:30px}.bankcardAddContent___1SExb .sqText___3kSzA>.sqTel___3Ts0T{font-size:14px}.bankcardAddContent___1SExb .tsBox___1syEz{padding:25px 15px}.bankcardAddContent___1SExb .tsBox___1syEz>ul{display:block;width:100%}.bankcardAddContent___1SExb .tsBox___1syEz>ul>li{display:inline-block;width:33.333%;padding:10px 8px}.bankcardAddContent___1SExb .tsBox___1syEz>ul>li>img{width:100%}.bankcardAddContent___1SExb .tsBox___1syEz>ul>li>p{text-align:center;font-size:12px;line-height:22px;color:#666}.bankcardAddContent___1SExb .mg___2orKl{margin-top:12px}.bankBox___161cX{position:absolute;width:100%;height:100%;background-color:#fff;left:0;top:0;z-index:999;transition:all .5s linear;-moz-transition:all linear .5s;-webkit-transition:all .5s linear;-o-transition:all linear .5s}.bankBox___161cX .bankContent___1xCvi{position:absolute;padding-top:44px;width:100%;height:100%;overflow:auto}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5{display:block;width:100%;padding:12px 15px}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5 .bank___2ONns{width:100%;display:inline-block;padding:5px 0;border-bottom:1px solid #ddd;position:relative}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5 .bank___2ONns .bankImg___1WMLm{display:inline-block;width:30px;vertical-align:middle}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5 .bank___2ONns .bankImg___1WMLm>img{width:100%}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5 .bank___2ONns .bankText___15itx{margin-left:8px}.bankBox___161cX .bankContent___1xCvi .bankList___aR0e5 .bank___2ONns .choosed___VaJoi{display:inline-block;width:16px;height:16px;background:url("+n(315)+") 50% no-repeat;background-size:100% 100%;position:absolute;right:15px;top:50%;margin-top:-8px}",""]),e.locals={leftCav:"leftCav___1LIyh",bankInput:"bankInput___22uD5",sqBox:"sqBox___3nLo4",bankcardAddContent:"bankcardAddContent___1SExb",inputBox:"inputBox___2vy-r",text:"text___1pfhT",inputOne:"inputOne___1N1TM",inputContent:"inputContent___25Jq1",inputTitle:"inputTitle___35U7q",inputJt:"inputJt___3uqjA",inputTitleC:"inputTitleC___1NswC",inputIcon:"inputIcon___3Lr9P",inputSr:"inputSr___2VIlW",inputCh:"inputCh___1GAUV",mg:"mg___2orKl",btBox:"btBox___2GNIq",bt:"bt___1ZMiA",bt1:"bt1___1ewY2",sqText:"sqText___3kSzA",sqTel:"sqTel___3Ts0T",tsBox:"tsBox___1syEz",bankBox:"bankBox___161cX",bankContent:"bankContent___1xCvi",bankList:"bankList___aR0e5",bank:"bank___2ONns",bankImg:"bankImg___1WMLm",bankText:"bankText___15itx",choosed:"choosed___VaJoi"}},1717:function(t,e,n){t.exports=n.p+"static/media/changeCard1.00fa55f0.png"},2110:[2319,1509]});